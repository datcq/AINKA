steal.loading("anddev/anddev.js","anddev/core/core.js","anddev/core/helpers/fixes/fixes.js","jquery/jquery.js","jquery/lang/observe/observe.js","jquery/lang/observe/delegate/delegate.js","jquery/event/tap/tap.js","jquery/event/swipe/swipe.js","jquery/model/model.js","jquery/model/list/list.js","jquery/view/ejs/ejs.js","jquery/controller/controller.js","jquery/controller/view/view.js","jquery/controller/route/route.js","jquery/class/class.js","jquery/lang/string/string.js","jquery/event/livehack/livehack.js","jquery/event/event.js","jquery/view/view.js","jquery/lang/string/rsplit/rsplit.js","jquery/event/destroyed/destroyed.js","jquery/dom/route/route.js","jquery/event/hashchange/hashchange.js","jquery/lang/string/deparam/deparam.js","anddev/core/vendor/vendor.js","anddev/core/vendor/modernizr/modernizr.js","anddev/core/vendor/underscore/underscore.js","anddev/core/config/config.js","anddev/core/helpers/helpers.js","anddev/core/helpers/loader/loader.js","anddev/core/helpers/storage/storage.js","anddev/core/helpers/custom/custom.js","anddev/core/helpers/debug/debug.js","anddev/core/helpers/memory/memory.js","anddev/core/helpers/custom/jquery/jquery.js","anddev/core/models/file.js","anddev/core/models/iterator.js","anddev/core/helpers/loader/processor/processor.js","anddev/core/helpers/loader/processor/javascript.js","anddev/core/helpers/loader/processor/stylesheet.js","anddev/core/helpers/loader/processor/images.js","anddev/core/helpers/loader/processor/fonts.js","anddev/core/models/list/files.js","anddev/core/models/list/iterator.js","anddev/core/helpers/custom/failback/failback.js","anddev/core/helpers/custom/view/view.js","anddev/core/helpers/custom/modernizr/modernizr.js","anddev/core/component/component.js","anddev/core/setup/setup.js","anddev/core/dom/dom.js","anddev/core/dom/animation/animation.js","anddev/core/dom/event/event.js","anddev/core/dom/animation/transform3d/transform3d.js","anddev/core/dom/animation/transition/transition.js","anddev/core/dom/event/dbltap/dbltap.js","anddev/core/dom/event/swipe/swipe.js","anddev/core/dom/event/tap/tap.js","anddev/navigation/navigation.js","anddev/navigation/navigation/navigation.js","anddev/navigation/fixtures/fixtures.js","anddev/navigation/route/route.js","anddev/navigation/tracking/tracking.js","anddev/navigation/stage/stage.js","anddev/navigation/menu/menu.js","anddev/navigation/slider/slider.js","jquery/dom/fixture/fixture.js","jquery/dom/dom.js","jquery/lang/object/object.js","anddev/navigation/store/store.js","anddev/navigation/tracking/models/tracker.js","anddev/core/helpers/date/date.js","anddev/navigation/menu/base/base.js","jqueryui/effects/effects.js","jqueryui/draggable/draggable.js","jqueryui/droppable/droppable.js","jqueryui/position/position.js","jqueryui/effects/blind/blind.js","jqueryui/effects/bounce/bounce.js","jqueryui/effects/clip/clip.js","jqueryui/effects/drop/drop.js","jqueryui/effects/explode/explode.js","jqueryui/effects/fade/fade.js","jqueryui/effects/fold/fold.js","jqueryui/effects/highlight/highlight.js","jqueryui/effects/pulsate/pulsate.js","jqueryui/effects/scale/scale.js","jqueryui/effects/shake/shake.js","jqueryui/effects/slide/slide.js","jqueryui/effects/transfer/transfer.js","jqueryui/effects/core/core.js","jqueryui/stealjquery.js","jqueryui/lib/ui/jquery.effects.core.js","jqueryui/lib/ui/jquery.effects.blind.js","jqueryui/lib/ui/jquery.effects.bounce.js","jqueryui/lib/ui/jquery.effects.clip.js","jqueryui/lib/ui/jquery.effects.drop.js","jqueryui/lib/ui/jquery.effects.explode.js","jqueryui/lib/ui/jquery.effects.fade.js","jqueryui/lib/ui/jquery.effects.fold.js","jqueryui/lib/ui/jquery.effects.highlight.js","jqueryui/lib/ui/jquery.effects.pulsate.js","jqueryui/lib/ui/jquery.effects.scale.js","jqueryui/lib/ui/jquery.effects.shake.js","jqueryui/lib/ui/jquery.effects.slide.js","jqueryui/lib/ui/jquery.effects.transfer.js","jqueryui/mouse/mouse.js","jqueryui/core/core.js","jqueryui/widget/widget.js","jqueryui/lib/ui/jquery.ui.core.js","jqueryui/lib/ui/jquery.ui.widget.js","jqueryui/lib/ui/jquery.ui.mouse.js","jqueryui/lib/ui/jquery.ui.draggable.js","jqueryui/lib/ui/jquery.ui.droppable.js","jqueryui/lib/ui/jquery.ui.position.js","anddev/navigation/menu/base/views/asset.ejs","anddev/navigation/models/asset.js","anddev/navigation/models/flow.js","anddev/navigation/models/slide.js","anddev/navigation/models/list/slides.js","anddev/navigation/models/list/assets.js","anddev/navigation/models/list/flows.js","anddev/navigation/menu/submenu/submenu.js","anddev/navigation/menu/iscroll/iscroll.js","anddev/navigation/menu/submenu/views/asset.ejs","anddev/navigation/menu/iscroll/views/asset.ejs","anddev/navigation/menu/iscroll/js/iscroll.js","anddev/navigation/slider/views/slide.ejs","anddev/player/player.js","anddev/player/default/default.js","anddev/player/si/si.js","anddev/player/default/connector/connector.js","anddev/player/default/loadingPage/loadingPage.js","anddev/player/si/connector/connector.js","anddev/player/si/models/meeting.js","anddev/player/si/loadingPage/loadingPage.js","anddev/player/si/close/close.js","anddev/player/si/switchPresentation/switchPresentation.js","anddev/player/si/models/queue.js","anddev/player/si/models/list/queues.js","anddev/player/si/models/user.js","anddev/player/si/models/list/presentations.js","anddev/player/si/models/list/accounts.js","anddev/player/si/models/presentation.js","anddev/player/si/models/account.js","anddev/player/si/switchPresentation/views/presentation.ejs","anddev/content/content.js"),steal({src:"production/production.css",has:["anddev/navigation/menu/base/css/menu.css","anddev/navigation/menu/submenu/css/menu.css","anddev/navigation/slider/css/slider.css","anddev/player/si/style/si.css","anddev/player/si/switchPresentation/css/presentation.css"]});var anddev=anddev||{};anddev.version="3.0.3.0",steal("anddev/core").then("anddev/navigation").then("anddev/player").then("anddev/content"),steal.loaded("anddev/anddev.js"),steal("anddev/core/helpers/fixes").then("jquery","jquery/lang/observe","jquery/lang/observe/delegate","jquery/event/tap","jquery/event/swipe","jquery/model","jquery/model/list","jquery/view/ejs","jquery/controller","jquery/controller/view","jquery/controller/route").then("anddev/core/vendor").then("anddev/core/config").then("anddev/core/helpers").then("anddev/core/component","anddev/core/setup","anddev/core/dom").then(function(){anddev.setup.initialize("core").done(function(){anddev.helpers.storage=new anddev.Class.Storage("anddev",anddev.config.navigation.name),anddev.helpers.debug.enableWeinre(anddev.config.debug,anddev.helpers.loader,anddev.config.navigation.name),anddev.setup.isReady("core")}).fail(function(){console.error("init external lib for core failed",arguments)})}),steal.loaded("anddev/core/core.js"),steal(function(){document.ontouchmove=function(a){a.preventDefault()}}),steal.loaded("anddev/core/helpers/fixes/fixes.js"),function(a,b){function c(a){var b,c,d=L[a]={};for(a=a.split(/\s+/),b=0,c=a.length;c>b;b++)d[a[b]]=!0;return d}function d(a,c,d){if(d===b&&1===a.nodeType)if(d="data-"+c.replace(O,"-$1").toLowerCase(),d=a.getAttribute(d),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:K.isNumeric(d)?parseFloat(d):N.test(d)?K.parseJSON(d):d}catch(e){}K.data(a,c,d)}else d=b;return d}function e(a){for(var b in a)if(("data"!==b||!K.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function f(a,b,c){var d=b+"defer",e=b+"queue",f=b+"mark",g=K._data(a,d);!g||"queue"!==c&&K._data(a,e)||"mark"!==c&&K._data(a,f)||setTimeout(function(){K._data(a,e)||K._data(a,f)||(K.removeData(a,d,!0),g.fire())},0)}function g(){return!1}function h(){return!0}function i(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function j(a,b,c){if(b=b||0,K.isFunction(b))return K.grep(a,function(a,d){return!!b.call(a,d,a)===c});if(b.nodeType)return K.grep(a,function(a){return a===b===c});if("string"==typeof b){var d=K.grep(a,function(a){return 1===a.nodeType});if(lb.test(b))return K.filter(b,d,!c);b=K.filter(b,d)}return K.grep(a,function(a){return K.inArray(a,b)>=0===c})}function k(a){var b=pb.split("|");if(a=a.createDocumentFragment(),a.createElement)for(;b.length;)a.createElement(b.pop());return a}function l(a){return K.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function m(a,b){if(1===b.nodeType&&K.hasData(a)){var c,d,e;d=K._data(a),a=K._data(b,d);var f=d.events;if(f){delete a.handle,a.events={};for(c in f)for(d=0,e=f[c].length;e>d;d++)K.event.add(b,c+(f[c][d].namespace?".":"")+f[c][d].namespace,f[c][d],f[c][d].data)}a.data&&(a.data=K.extend({},a.data))}}function n(a,b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?b.outerHTML=a.outerHTML:"input"!==c||"checkbox"!==a.type&&"radio"!==a.type?"option"===c?b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue):(a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value)),b.removeAttribute(K.expando))}function o(a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function p(a){("checkbox"===a.type||"radio"===a.type)&&(a.defaultChecked=a.checked)}function q(a){var b=(a.nodeName||"").toLowerCase();"input"===b?p(a):"script"!==b&&"undefined"!=typeof a.getElementsByTagName&&K.grep(a.getElementsByTagName("input"),p)}function r(a){var b=H.createElement("div");return Db.appendChild(b),b.innerHTML=a.outerHTML,b.firstChild}function s(a,b){b.src?K.ajax({url:b.src,async:!1,dataType:"script"}):K.globalEval((b.text||b.textContent||b.innerHTML||"").replace(Bb,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function t(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e="width"===b?Ob:Pb,f=0,g=e.length;if(d>0){if("border"!==c)for(;g>f;f++)c||(d-=parseFloat(K.css(a,"padding"+e[f]))||0),"margin"===c?d+=parseFloat(K.css(a,c+e[f]))||0:d-=parseFloat(K.css(a,"border"+e[f]+"Width"))||0;return d+"px"}if(d=Eb(a,b,b),(0>d||null==d)&&(d=a.style[b]||0),d=parseFloat(d)||0,c)for(;g>f;f++)d+=parseFloat(K.css(a,"padding"+e[f]))||0,"padding"!==c&&(d+=parseFloat(K.css(a,"border"+e[f]+"Width"))||0),"margin"===c&&(d+=parseFloat(K.css(a,c+e[f]))||0);return d+"px"}function u(a){return function(b,c){if("string"!=typeof b&&(c=b,b="*"),K.isFunction(c)){b=b.toLowerCase().split(bc);for(var d,e,f=0,g=b.length;g>f;f++)d=b[f],(e=/^\+/.test(d))&&(d=d.substr(1)||"*"),d=a[d]=a[d]||[],d[e?"unshift":"push"](c)}}}function v(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0,f=a[f];for(var h,i=0,j=f?f.length:0,k=a===fc;j>i&&(k||!h);i++)h=f[i](c,d,e),"string"==typeof h&&(!k||g[h]?h=b:(c.dataTypes.unshift(h),h=v(a,c,d,e,h,g)));return!k&&h||g["*"]||(h=v(a,c,d,e,"*",g)),h}function w(a,c){var d,e,f=K.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&K.extend(!0,a,e)}function x(a,b,c,d){if(K.isArray(b))K.each(b,function(b,e){c||Tb.test(a)?d(a,e):x(a+"["+("object"==typeof e||K.isArray(e)?b:"")+"]",e,c,d)});else if(c||null==b||"object"!=typeof b)d(a,b);else for(var e in b)x(a+"["+e+"]",b[e],c,d)}function y(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);for(;"*"===j[0];)j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}return g?(g!==j[0]&&j.unshift(g),d[g]):void 0}function z(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d,e,f,g,h,i,j,k,l=a.dataTypes,m={},n=l.length,o=l[0];for(d=1;n>d;d++){if(1===d)for(e in a.converters)"string"==typeof e&&(m[e.toLowerCase()]=a.converters[e]);if(g=o,o=l[d],"*"===o)o=g;else if("*"!==g&&g!==o){if(h=g+" "+o,i=m[h]||m["* "+o],!i){k=b;for(j in m)if(f=j.split(" "),(f[0]===g||"*"===f[0])&&(k=m[f[1]+" "+o])){j=m[j],j===!0?i=k:k===!0&&(i=j);break}}i||k||K.error("No conversion from "+h.replace(" "," to ")),i!==!0&&(c=i?i(c):k(j(c)))}}return c}function A(){try{return new a.XMLHttpRequest}catch(b){}}function B(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function C(){return setTimeout(D,0),rc=K.now()}function D(){rc=b}function E(a,b){var c={};return K.each(vc.concat.apply([],vc.slice(0,b)),function(){c[this]=a}),c}function F(a){if(!sc[a]){var b=H.body,c=K("<"+a+">").appendTo(b),d=c.css("display");c.remove(),("none"===d||""===d)&&(oc||(oc=H.createElement("iframe"),oc.frameBorder=oc.width=oc.height=0),b.appendChild(oc),pc&&oc.createElement||(pc=(oc.contentWindow||oc.contentDocument).document,pc.write(("CSS1Compat"===H.compatMode?"<!doctype html>":"")+"<html><body>"),pc.close()),c=pc.createElement(a),pc.body.appendChild(c),d=K.css(c,"display"),b.removeChild(oc)),sc[a]=d}return sc[a]}function G(a){return K.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var H=a.document,I=a.navigator,J=a.location,K=function(){function c(){if(!g.isReady){try{H.documentElement.doScroll("left")}catch(a){return setTimeout(c,1),void 0}g.ready()}}var d,e,f,g=function(a,b){return new g.fn.init(a,b,d)},h=a.jQuery,i=a.$,j=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,k=/\S/,l=/^\s+/,m=/\s+$/,n=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,o=/^[\],:{}\s]*$/,p=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,q=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,r=/(?:^|:|,)(?:\s*\[)+/g,s=/(webkit)[ \/]([\w.]+)/,t=/(opera)(?:.*version)?[ \/]([\w.]+)/,u=/(msie) ([\w.]+)/,v=/(mozilla)(?:.*? rv:([\w.]+))?/,w=/-([a-z]|[0-9])/gi,x=/^-ms-/,y=function(a,b){return(b+"").toUpperCase()},z=I.userAgent,A=Object.prototype.toString,B=Object.prototype.hasOwnProperty,C=Array.prototype.push,D=Array.prototype.slice,E=String.prototype.trim,F=Array.prototype.indexOf,G={};return g.fn=g.prototype={constructor:g,init:function(a,c,d){var e;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("body"===a&&!c&&H.body)return this.context=H,this[0]=H.body,this.selector=a,this.length=1,this;if("string"==typeof a){if(!(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:j.exec(a))||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1])return d=(c=c instanceof g?c[0]:c)?c.ownerDocument||c:H,(a=n.exec(a))?g.isPlainObject(c)?(a=[H.createElement(a[1])],g.fn.attr.call(a,c,!0)):a=[d.createElement(a[1])]:(a=g.buildFragment([e[1]],[d]),a=(a.cacheable?g.clone(a.fragment):a.fragment).childNodes),g.merge(this,a);if((c=H.getElementById(e[2]))&&c.parentNode){if(c.id!==e[2])return d.find(a);this.length=1,this[0]=c}return this.context=H,this.selector=a,this}return g.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),g.makeArray(a,this))},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return D.call(this,0)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();return g.isArray(a)?C.apply(d,a):g.merge(d,a),d.prevObject=this,d.context=this.context,"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return g.each(this,a,b)},ready:function(a){return g.bindReady(),e.add(a),this},eq:function(a){return a=+a,-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(D.apply(this,arguments),"slice",D.call(arguments).join(","))},map:function(a){return this.pushStack(g.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:C,sort:[].sort,splice:[].splice},g.fn.init.prototype=g.fn,g.extend=g.fn.extend=function(){var a,c,d,e,f,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||g.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(a=arguments[i]))for(c in a)d=h[c],e=a[c],h!==e&&(k&&e&&(g.isPlainObject(e)||(f=g.isArray(e)))?(f?(f=!1,d=d&&g.isArray(d)?d:[]):d=d&&g.isPlainObject(d)?d:{},h[c]=g.extend(k,d,e)):e!==b&&(h[c]=e));return h},g.extend({noConflict:function(b){return a.$===g&&(a.$=i),b&&a.jQuery===g&&(a.jQuery=h),g},isReady:!1,readyWait:1,holdReady:function(a){a?g.readyWait++:g.ready(!0)},ready:function(a){if(a===!0&&!--g.readyWait||a!==!0&&!g.isReady){if(!H.body)return setTimeout(g.ready,1);g.isReady=!0,a!==!0&&--g.readyWait>0||(e.fireWith(H,[g]),g.fn.trigger&&g(H).trigger("ready").off("ready"))}},bindReady:function(){if(!e){if(e=g.Callbacks("once memory"),"complete"===H.readyState)return setTimeout(g.ready,1);if(H.addEventListener)H.addEventListener("DOMContentLoaded",f,!1),a.addEventListener("load",g.ready,!1);else if(H.attachEvent){H.attachEvent("onreadystatechange",f),a.attachEvent("onload",g.ready);var b=!1;try{b=null==a.frameElement}catch(d){}H.documentElement.doScroll&&b&&c()}}},isFunction:function(a){return"function"===g.type(a)},isArray:Array.isArray||function(a){return"array"===g.type(a)},isWindow:function(a){return a&&"object"==typeof a&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):G[A.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==g.type(a)||a.nodeType||g.isWindow(a))return!1;try{if(a.constructor&&!B.call(a,"constructor")&&!B.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||B.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){return"string"==typeof b&&b?(b=g.trim(b),a.JSON&&a.JSON.parse?a.JSON.parse(b):o.test(b.replace(p,"@").replace(q,"]").replace(r,""))?new Function("return "+b)():(g.error("Invalid JSON: "+b),void 0)):null},parseXML:function(c){var d,e;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||g.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&k.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(x,"ms-").replace(w,y)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var e,f=0,h=a.length,i=h===b||g.isFunction(a);if(d)if(i){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;h>f&&c.apply(a[f++],d)!==!1;);else if(i){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(;h>f&&c.call(a[f],f,a[f++])!==!1;);return a},trim:E?function(a){return null==a?"":E.call(a)}:function(a){return null==a?"":a.toString().replace(l,"").replace(m,"")},makeArray:function(a,b){if(b=b||[],null!=a){var c=g.type(a);null==a.length||"string"===c||"function"===c||"regexp"===c||g.isWindow(a)?C.call(b,a):g.merge(b,a)}return b},inArray:function(a,b,c){var d;if(b){if(F)return F.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if("number"==typeof c.length)for(var f=c.length;f>e;e++)a[d++]=c[e];else for(;c[e]!==b;)a[d++]=c[e++];return a.length=d,a},grep:function(a,b,c){var d,e=[];c=!!c;for(var f=0,g=a.length;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,h=[],i=0,j=a.length;if(a instanceof g||j!==b&&"number"==typeof j&&(j>0&&a[0]&&a[j-1]||0===j||g.isArray(a)))for(;j>i;i++)e=c(a[i],i,d),null!=e&&(h[h.length]=e);else for(f in a)e=c(a[f],f,d),null!=e&&(h[h.length]=e);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if("string"==typeof c){var d=a[c];c=a,a=d}if(!g.isFunction(a))return b;var e=D.call(arguments,2);return d=function(){return a.apply(c,e.concat(D.call(arguments)))},d.guid=a.guid=a.guid||d.guid||g.guid++,d},access:function(a,c,d,e,f,h){var i=a.length;if("object"==typeof c){for(var j in c)g.access(a,j,c[j],e,f,d);return a}if(d!==b){for(e=!h&&e&&g.isFunction(d),j=0;i>j;j++)f(a[j],c,e?d.call(a[j],j,f(a[j],c)):d,h);return a}return i?f(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){return a=a.toLowerCase(),a=s.exec(a)||t.exec(a)||u.exec(a)||a.indexOf("compatible")<0&&v.exec(a)||[],{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}g.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(c,d){return d&&d instanceof g&&!(d instanceof a)&&(d=a(d)),g.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(H);return a},browser:{}}),g.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){G["[object "+b+"]"]=b.toLowerCase()}),z=g.uaMatch(z),z.browser&&(g.browser[z.browser]=!0,g.browser.version=z.version),g.browser.webkit&&(g.browser.safari=!0),k.test("\xa0")&&(l=/^[\s\xA0]+/,m=/[\s\xA0]+$/),d=g(H),H.addEventListener?f=function(){H.removeEventListener("DOMContentLoaded",f,!1),g.ready()}:H.attachEvent&&(f=function(){"complete"===H.readyState&&(H.detachEvent("onreadystatechange",f),g.ready())}),g}(),L={};K.Callbacks=function(a){a=a?L[a]||c(a):{};var d,e,f,g,h,i=[],j=[],k=function(b){var c,d,e,f;for(c=0,d=b.length;d>c;c++)e=b[c],f=K.type(e),"array"===f?k(e):"function"===f&&(a.unique&&m.has(e)||i.push(e))},l=function(b,c){for(c=c||[],d=!a.memory||[b,c],e=!0,h=f||0,f=0,g=i.length;i&&g>h;h++)if(i[h].apply(b,c)===!1&&a.stopOnFalse){d=!0;break}e=!1,i&&(a.once?d===!0?m.disable():i=[]:j&&j.length&&(d=j.shift(),m.fireWith(d[0],d[1])))},m={add:function(){if(i){var a=i.length;k(arguments),e?g=i.length:d&&d!==!0&&(f=a,l(d[0],d[1]))}return this},remove:function(){if(i)for(var b=arguments,c=0,d=b.length;d>c;c++)for(var f=0;f<i.length&&(b[c]!==i[f]||(e&&g>=f&&(g--,h>=f&&h--),i.splice(f--,1),!a.unique));f++);return this},has:function(a){if(i)for(var b=0,c=i.length;c>b;b++)if(a===i[b])return!0;return!1},empty:function(){return i=[],this},disable:function(){return i=j=d=b,this},disabled:function(){return!i},lock:function(){return j=b,d&&d!==!0||m.disable(),this},locked:function(){return!j},fireWith:function(b,c){return j&&(e?a.once||j.push([b,c]):a.once&&d||l(b,c)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!d}};return m};var M=[].slice;K.extend({Deferred:function(a){var b,c=K.Callbacks("once memory"),d=K.Callbacks("once memory"),e=K.Callbacks("memory"),f="pending",g={resolve:c,reject:d,notify:e},h={done:c.add,fail:d.add,progress:e.add,state:function(){return f},isResolved:c.fired,isRejected:d.fired,then:function(a,b,c){return i.done(a).fail(b).progress(c),this},always:function(){return i.done.apply(i,arguments).fail.apply(i,arguments),this},pipe:function(a,b,c){return K.Deferred(function(d){K.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c,e=b[0],f=b[1];K.isFunction(e)?i[a](function(){(c=e.apply(this,arguments))&&K.isFunction(c.promise)?c.promise().then(d.resolve,d.reject,d.notify):d[f+"With"](this===i?d:this,[c])}):i[a](d[f])})}).promise()},promise:function(a){if(null==a)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({});for(b in g)i[b]=g[b].fire,i[b+"With"]=g[b].fireWith;return i.done(function(){f="resolved"},d.disable,e.lock).fail(function(){f="rejected"},c.disable,e.lock),a&&a.call(i,i),i},when:function(a){function b(a){return function(b){d[a]=arguments.length>1?M.call(arguments,0):b,--h||i.resolveWith(i,d)}}function c(a){return function(b){g[a]=arguments.length>1?M.call(arguments,0):b,i.notifyWith(j,g)}}var d=M.call(arguments,0),e=0,f=d.length,g=new Array(f),h=f,i=1>=f&&a&&K.isFunction(a.promise)?a:K.Deferred(),j=i.promise();if(f>1){for(;f>e;e++)d[e]&&d[e].promise&&K.isFunction(d[e].promise)?d[e].promise().then(b(e),i.reject,c(e)):--h;h||i.resolveWith(i,d)}else i!==a&&i.resolveWith(i,f?[a]:[]);return j}}),K.support=function(){var b,c,d,e,f,g,h,i,j=H.createElement("div");if(j.setAttribute("className","t"),j.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",c=j.getElementsByTagName("*"),d=j.getElementsByTagName("a")[0],!c||!c.length||!d)return{};e=H.createElement("select"),f=e.appendChild(H.createElement("option")),c=j.getElementsByTagName("input")[0],b={leadingWhitespace:3===j.firstChild.nodeType,tbody:!j.getElementsByTagName("tbody").length,htmlSerialize:!!j.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.55/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:"on"===c.value,optSelected:f.selected,getSetAttribute:"t"!==j.className,enctype:!!H.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==H.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},c.checked=!0,b.noCloneChecked=c.cloneNode(!0).checked,e.disabled=!0,b.optDisabled=!f.disabled;try{delete j.test}catch(k){b.deleteExpando=!1}if(!j.addEventListener&&j.attachEvent&&j.fireEvent&&(j.attachEvent("onclick",function(){b.noCloneEvent=!1}),j.cloneNode(!0).fireEvent("onclick")),c=H.createElement("input"),c.value="t",c.setAttribute("type","radio"),b.radioValue="t"===c.value,c.setAttribute("checked","checked"),j.appendChild(c),d=H.createDocumentFragment(),d.appendChild(j.lastChild),b.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=c.checked,d.removeChild(c),d.appendChild(j),j.innerHTML="",a.getComputedStyle&&(c=H.createElement("div"),c.style.width="0",c.style.marginRight="0",j.style.width="2px",j.appendChild(c),b.reliableMarginRight=0===(parseInt((a.getComputedStyle(c,null)||{marginRight:0}).marginRight,10)||0)),j.attachEvent)for(h in{submit:1,change:1,focusin:1})c="on"+h,i=c in j,i||(j.setAttribute(c,"return;"),i="function"==typeof j[c]),b[h+"Bubbles"]=i;return d.removeChild(j),d=e=f=c=j=c=null,K(function(){var a,c,d,e,f=H.getElementsByTagName("body")[0];f&&(a=H.createElement("div"),a.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",f.insertBefore(a,f.firstChild),j=H.createElement("div"),a.appendChild(j),j.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",g=j.getElementsByTagName("td"),i=0===g[0].offsetHeight,g[0].style.display="",g[1].style.display="none",b.reliableHiddenOffsets=i&&0===g[0].offsetHeight,j.innerHTML="",j.style.width=j.style.paddingLeft="1px",K.boxModel=b.boxModel=2===j.offsetWidth,"undefined"!=typeof j.style.zoom&&(j.style.display="inline",j.style.zoom=1,b.inlineBlockNeedsLayout=2===j.offsetWidth,j.style.display="",j.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=2!==j.offsetWidth),j.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;visibility:hidden;border:0;",j.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;'><div></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",c=j.firstChild,d=c.firstChild,e={doesNotAddBorder:5!==d.offsetTop,doesAddBorderForTableAndCells:5===c.nextSibling.firstChild.firstChild.offsetTop},d.style.position="fixed",d.style.top="20px",e.fixedPosition=20===d.offsetTop||15===d.offsetTop,d.style.position=d.style.top="",c.style.overflow="hidden",c.style.position="relative",e.subtractsBorderForOverflowNotVisible=-5===d.offsetTop,e.doesNotIncludeMarginInBodyOffset=1!==f.offsetTop,f.removeChild(a),j=null,K.extend(b,e))}),b}();var N=/^(?:\{.*\}|\[.*\])$/,O=/([A-Z])/g;K.extend({cache:{},uuid:0,expando:"jQuery"+(K.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?K.cache[a[K.expando]]:a[K.expando],!!a&&!e(a)},data:function(a,c,d,e){if(K.acceptData(a)){var f;f=K.expando;var g="string"==typeof c,h=a.nodeType,i=h?K.cache:a,j=h?a[f]:a[f]&&f,k="events"===c;if(j&&i[j]&&(k||e||i[j].data)||!g||d!==b)return j||(h?a[f]=j=++K.uuid:j=f),i[j]||(i[j]={},h||(i[j].toJSON=K.noop)),("object"==typeof c||"function"==typeof c)&&(e?i[j]=K.extend(i[j],c):i[j].data=K.extend(i[j].data,c)),f=a=i[j],e||(a.data||(a.data={}),a=a.data),d!==b&&(a[K.camelCase(c)]=d),k&&!a[c]?f.events:(g?(d=a[c],null==d&&(d=a[K.camelCase(c)])):d=a,d)}},removeData:function(a,b,c){if(K.acceptData(a)){var d,f,g,h=K.expando,i=a.nodeType,j=i?K.cache:a,k=i?a[h]:h;if(j[k]){if(b&&(d=c?j[k]:j[k].data)){K.isArray(b)||(b in d?b=[b]:(b=K.camelCase(b),b=b in d?[b]:b.split(" "))),f=0;for(g=b.length;g>f;f++)delete d[b[f]];if(!(c?e:K.isEmptyObject)(d))return}if(!c&&(delete j[k].data,!e(j[k])))return;K.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(K.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)}}},_data:function(a,b,c){return K.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=K.noData[a.nodeName.toLowerCase()];if(b)return!(b===!0||a.getAttribute("classid")!==b)}return!0}}),K.fn.extend({data:function(a,c){var e,f,g,h=null;if("undefined"==typeof a){if(this.length&&(h=K.data(this[0]),1===this[0].nodeType&&!K._data(this[0],"parsedAttrs"))){f=this[0].attributes;for(var i=0,j=f.length;j>i;i++)g=f[i].name,0===g.indexOf("data-")&&(g=K.camelCase(g.substring(5)),d(this[0],g,h[g]));K._data(this[0],"parsedAttrs",!0)}return h}return"object"==typeof a?this.each(function(){K.data(this,a)}):(e=a.split("."),e[1]=e[1]?"."+e[1]:"",c===b?(h=this.triggerHandler("getData"+e[1]+"!",[e[0]]),h===b&&this.length&&(h=K.data(this[0],a),h=d(this[0],a,h)),h===b&&e[1]?this.data(e[0]):h):this.each(function(){var b=K(this),d=[e[0],c];b.triggerHandler("setData"+e[1]+"!",d),K.data(this,a,c),b.triggerHandler("changeData"+e[1]+"!",d)}))},removeData:function(a){return this.each(function(){K.removeData(this,a)})}}),K.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",K._data(a,b,(K._data(a,b)||0)+1))},_unmark:function(a,b,c){if(a!==!0&&(c=b,b=a,a=!1),b){c=c||"fx";var d=c+"mark";(a=a?0:(K._data(b,d)||1)-1)?K._data(b,d,a):(K.removeData(b,d,!0),f(b,c,"mark"))}},queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=K._data(a,b),c&&(!d||K.isArray(c)?d=K._data(a,b,K.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=K.queue(a,b),d=c.shift(),e={};"inprogress"===d&&(d=c.shift()),d&&("fx"===b&&c.unshift("inprogress"),K._data(a,b+".run",e),d.call(a,function(){K.dequeue(a,b)},e)),c.length||(K.removeData(a,b+"queue "+b+".run",!0),f(a,b,"queue"))}}),K.fn.extend({queue:function(a,c){return"string"!=typeof a&&(c=a,a="fx"),c===b?K.queue(this[0],a):this.each(function(){var b=K.queue(this,a,c);"fx"===a&&"inprogress"!==b[0]&&K.dequeue(this,a)})},dequeue:function(a){return this.each(function(){K.dequeue(this,a)})},delay:function(a,b){return a=K.fx?K.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function d(){--g||e.resolveWith(f,[f])}"string"!=typeof a&&(c=a,a=b),a=a||"fx";var e=K.Deferred(),f=this;c=f.length;var g=1,h=a+"defer",i=a+"queue";a+="mark";for(var j;c--;)(j=K.data(f[c],h,b,!0)||(K.data(f[c],i,b,!0)||K.data(f[c],a,b,!0))&&K.data(f[c],h,K.Callbacks("once memory"),!0))&&(g++,j.add(d));return d(),e.promise()}});var P,Q,R,S=/[\n\t\r]/g,T=/\s+/,U=/\r/g,V=/^(?:button|input)$/i,W=/^(?:button|input|object|select|textarea)$/i,X=/^a(?:rea)?$/i,Y=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Z=K.support.getSetAttribute;K.fn.extend({attr:function(a,b){return K.access(this,a,b,!0,K.attr)},removeAttr:function(a){return this.each(function(){K.removeAttr(this,a)})},prop:function(a,b){return K.access(this,a,b,!0,K.prop)
},removeProp:function(a){return a=K.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if(K.isFunction(a))return this.each(function(b){K(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a)for(b=a.split(T),c=0,d=this.length;d>c;c++)if(e=this[c],1===e.nodeType)if(e.className||1!==b.length){for(f=" "+e.className+" ",g=0,h=b.length;h>g;g++)~f.indexOf(" "+b[g]+" ")||(f+=b[g]+" ");e.className=K.trim(f)}else e.className=a;return this},removeClass:function(a){var c,d,e,f,g,h,i;if(K.isFunction(a))return this.each(function(b){K(this).removeClass(a.call(this,b,this.className))});if(a&&"string"==typeof a||a===b)for(c=(a||"").split(T),d=0,e=this.length;e>d;d++)if(f=this[d],1===f.nodeType&&f.className)if(a){for(g=(" "+f.className+" ").replace(S," "),h=0,i=c.length;i>h;h++)g=g.replace(" "+c[h]+" "," ");f.className=K.trim(g)}else f.className="";return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return K.isFunction(a)?this.each(function(c){K(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var e,f=0,g=K(this),h=b,i=a.split(T);e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else("undefined"===c||"boolean"===c)&&(this.className&&K._data(this,"__className__",this.className),this.className=this.className||a===!1?"":K._data(this,"__className__")||"")})},hasClass:function(a){a=" "+a+" ";for(var b=0,c=this.length;c>b;b++)if(1===this[b].nodeType&&(" "+this[b].className+" ").replace(S," ").indexOf(a)>-1)return!0;return!1},val:function(a){var c,d,e,f=this[0];return arguments.length?(e=K.isFunction(a),this.each(function(d){var f=K(this);1===this.nodeType&&(d=e?a.call(this,d,f.val()):a,null==d?d="":"number"==typeof d?d+="":K.isArray(d)&&(d=K.map(d,function(a){return null==a?"":a+""})),c=K.valHooks[this.nodeName.toLowerCase()]||K.valHooks[this.type],c&&"set"in c&&c.set(this,d,"value")!==b||(this.value=d))})):f?(c=K.valHooks[f.nodeName.toLowerCase()]||K.valHooks[f.type])&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,"string"==typeof d?d.replace(U,""):null==d?"":d):void 0}}),K.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d=a.selectedIndex,e=[],f=a.options,g="select-one"===a.type;if(0>d)return null;for(a=g?d:0,c=g?d+1:f.length;c>a;a++)if(b=f[a],!(!b.selected||(K.support.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&K.nodeName(b.parentNode,"optgroup"))){if(b=K(b).val(),g)return b;e.push(b)}return g&&!e.length&&f.length?K(f[d]).val():e},set:function(a,b){var c=K.makeArray(b);return K(a).find("option").each(function(){this.selected=K.inArray(K(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h){if(e&&c in K.attrFn)return K(a)[c](d);if("undefined"==typeof a.getAttribute)return K.prop(a,c,d);if((e=1!==h||!K.isXMLDoc(a))&&(c=c.toLowerCase(),g=K.attrHooks[c]||(Y.test(c)?Q:P)),d===b)return g&&"get"in g&&e&&null!==(f=g.get(a,c))?f:(f=a.getAttribute(c),null===f?b:f);if(null!==d)return g&&"set"in g&&e&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,""+d),d);K.removeAttr(a,c)}},removeAttr:function(a,b){var c,d,e,f=0;if(b&&1===a.nodeType)for(c=b.toLowerCase().split(T),e=c.length;e>f;f++)(d=c[f])&&(b=K.propFix[d]||d,K.attr(a,d,""),a.removeAttribute(Z?d:b),Y.test(d)&&b in a&&(a[b]=!1))},attrHooks:{type:{set:function(a,b){if(V.test(a.nodeName)&&a.parentNode)K.error("type property can't be changed");else if(!K.support.radioValue&&"radio"===b&&K.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return P&&K.nodeName(a,"button")?P.get(a,b):b in a?a.value:null},set:function(a,b,c){return P&&K.nodeName(a,"button")?P.set(a,b,c):(a.value=b,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g=a.nodeType;return a&&3!==g&&8!==g&&2!==g?(1===g&&K.isXMLDoc(a)||(c=K.propFix[c]||c,f=K.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]):void 0},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):W.test(a.nodeName)||X.test(a.nodeName)&&a.href?0:b}}}}),K.attrHooks.tabindex=K.propHooks.tabIndex,Q={get:function(a,c){var d,e=K.prop(a,c);return e===!0||"boolean"!=typeof e&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){return b===!1?K.removeAttr(a,c):(b=K.propFix[c]||c,b in a&&(a[b]=!0),a.setAttribute(c,c.toLowerCase())),c}},Z||(R={name:!0,id:!0},P=K.valHooks.button={get:function(a,c){return(a=a.getAttributeNode(c))&&(R[c]?""!==a.nodeValue:a.specified)?a.nodeValue:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=H.createAttribute(c),a.setAttributeNode(d)),d.nodeValue=b+""}},K.attrHooks.tabindex.set=P.set,K.each(["width","height"],function(a,b){K.attrHooks[b]=K.extend(K.attrHooks[b],{set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}})}),K.attrHooks.contenteditable={get:P.get,set:function(a,b,c){""===b&&(b="false"),P.set(a,b,c)}}),K.support.hrefNormalized||K.each(["href","src","width","height"],function(a,c){K.attrHooks[c]=K.extend(K.attrHooks[c],{get:function(a){return a=a.getAttribute(c,2),null===a?b:a}})}),K.support.style||(K.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),K.support.optSelected||(K.propHooks.selected=K.extend(K.propHooks.selected,{get:function(){return null}})),K.support.enctype||(K.propFix.enctype="encoding"),K.support.checkOn||K.each(["radio","checkbox"],function(){K.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),K.each(["radio","checkbox"],function(){K.valHooks[this]=K.extend(K.valHooks[this],{set:function(a,b){return K.isArray(b)?a.checked=K.inArray(K(a).val(),b)>=0:void 0}})});var $=/^(?:textarea|input|select)$/i,_=/^([^\.]*)?(?:\.(.+))?$/,ab=/\bhover(\.\S+)?\b/,bb=/^key/,cb=/^(?:mouse|contextmenu)|click/,db=/^(?:focusinfocus|focusoutblur)$/,eb=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,fb=function(a){return(a=eb.exec(a))&&(a[1]=(a[1]||"").toLowerCase(),a[3]=a[3]&&new RegExp("(?:^|\\s)"+a[3]+"(?:\\s|$)")),a},gb=function(a,b){var c=a.attributes||{};return!(b[1]&&a.nodeName.toLowerCase()!==b[1]||b[2]&&(c.id||{}).value!==b[2]||b[3]&&!b[3].test((c["class"]||{}).value))},hb=function(a){return K.event.special.hover?a:a.replace(ab,"mouseenter$1 mouseleave$1")};K.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o;if(3!==a.nodeType&&8!==a.nodeType&&c&&d&&(g=K._data(a))){for(d.handler&&(m=d,d=m.handler),d.guid||(d.guid=K.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return"undefined"==typeof K||a&&K.event.triggered===a.type?b:K.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=K.trim(hb(c)).split(" "),g=0;g<c.length;g++)j=_.exec(c[g])||[],k=j[1],l=(j[2]||"").split(".").sort(),o=K.event.special[k]||{},k=(f?o.delegateType:o.bindType)||k,o=K.event.special[k]||{},j=K.extend({type:k,origType:j[1],data:e,handler:d,guid:d.guid,selector:f,quick:fb(f),namespace:l.join(".")},m),n=i[k],n||(n=i[k]=[],n.delegateCount=0,o.setup&&o.setup.call(a,e,l,h)!==!1||(a.addEventListener?a.addEventListener(k,h,!1):a.attachEvent&&a.attachEvent("on"+k,h))),o.add&&(o.add.call(a,j),j.handler.guid||(j.handler.guid=d.guid)),f?n.splice(n.delegateCount++,0,j):n.push(j),K.event.global[k]=!0;a=null}},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p=K.hasData(a)&&K._data(a);if(p&&(l=p.events)){for(b=K.trim(hb(b||"")).split(" "),f=0;f<b.length;f++)if(g=_.exec(b[f])||[],h=i=g[1],g=g[2],h){for(m=K.event.special[h]||{},h=(d?m.delegateType:m.bindType)||h,n=l[h]||[],j=n.length,g=g?new RegExp("(^|\\.)"+g.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,k=0;k<n.length;k++)o=n[k],!e&&i!==o.origType||c&&c.guid!==o.guid||g&&!g.test(o.namespace)||d&&d!==o.selector&&("**"!==d||!o.selector)||(n.splice(k--,1),o.selector&&n.delegateCount--,m.remove&&m.remove.call(a,o));0===n.length&&j!==n.length&&(m.teardown&&m.teardown.call(a,g)!==!1||K.removeEvent(a,h,p.handle),delete l[h])}else for(h in l)K.event.remove(a,h+b[f],c,d,!0);K.isEmptyObject(l)&&((b=p.handle)&&(b.elem=null),K.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){if(!e||3!==e.nodeType&&8!==e.nodeType){var g,h,i,j,k,l=c.type||c,m=[];if(!db.test(l+K.event.triggered)&&(l.indexOf("!")>=0&&(l=l.slice(0,-1),g=!0),l.indexOf(".")>=0&&(m=l.split("."),l=m.shift(),m.sort()),e&&!K.event.customEvent[l]||K.event.global[l]))if(c="object"==typeof c?c[K.expando]?c:new K.Event(l,c):new K.Event(l),c.type=l,c.isTrigger=!0,c.exclusive=g,c.namespace=m.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,g=l.indexOf(":")<0?"on"+l:"",e){if(c.result=b,c.target||(c.target=e),d=null!=d?K.makeArray(d):[],d.unshift(c),i=K.event.special[l]||{},!i.trigger||i.trigger.apply(e,d)!==!1){if(k=[[e,i.bindType||l]],!f&&!i.noBubble&&!K.isWindow(e)){for(j=i.delegateType||l,m=db.test(j+l)?e:e.parentNode,h=null;m;m=m.parentNode)k.push([m,j]),h=m;h&&h===e.ownerDocument&&k.push([h.defaultView||h.parentWindow||a,j])}for(h=0;h<k.length&&!c.isPropagationStopped();h++)m=k[h][0],c.type=k[h][1],(j=(K._data(m,"events")||{})[c.type]&&K._data(m,"handle"))&&j.apply(m,d),(j=g&&m[g])&&K.acceptData(m)&&j.apply(m,d)===!1&&c.preventDefault();return c.type=l,f||c.isDefaultPrevented()||i._default&&i._default.apply(e.ownerDocument,d)!==!1||"click"===l&&K.nodeName(e,"a")||!K.acceptData(e)||g&&e[l]&&("focus"!==l&&"blur"!==l||0!==c.target.offsetWidth)&&!K.isWindow(e)&&((h=e[g])&&(e[g]=null),K.event.triggered=l,e[l](),K.event.triggered=b,h&&(e[g]=h)),c.result}}else{e=K.cache;for(h in e)e[h].events&&e[h].events[l]&&K.event.trigger(c,d,e[h].handle.elem,!0)}}},dispatch:function(c){c=K.event.fix(c||a.event);var d,e,f,g,h,i,j,k=(K._data(this,"events")||{})[c.type]||[],l=k.delegateCount,m=[].slice.call(arguments,0),n=!c.exclusive&&!c.namespace,o=[];if(m[0]=c,c.delegateTarget=this,l&&!c.target.disabled&&(!c.button||"click"!==c.type))for(f=K(this),f.context=this.ownerDocument||this,e=c.target;e!=this;e=e.parentNode||this){for(h={},i=[],f[0]=e,d=0;l>d;d++)g=k[d],j=g.selector,h[j]===b&&(h[j]=g.quick?gb(e,g.quick):f.is(j)),h[j]&&i.push(g);i.length&&o.push({elem:e,matches:i})}for(k.length>l&&o.push({elem:this,matches:k.slice(l)}),d=0;d<o.length&&!c.isPropagationStopped();d++)for(l=o[d],c.currentTarget=l.elem,k=0;k<l.matches.length&&!c.isImmediatePropagationStopped();k++)g=l.matches[k],(n||!c.namespace&&!g.namespace||c.namespace_re&&c.namespace_re.test(g.namespace))&&(c.data=g.data,c.handleObj=g,g=((K.event.special[g.origType]||{}).handle||g.handler).apply(l.elem,m),g!==b&&(c.result=g,g===!1&&(c.preventDefault(),c.stopPropagation())));return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f=c.button,g=c.fromElement;return null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||H,e=d.documentElement,d=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||d&&d.scrollLeft||0)-(e&&e.clientLeft||d&&d.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||d&&d.scrollTop||0)-(e&&e.clientTop||d&&d.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?c.toElement:g),a.which||f===b||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[K.expando])return a;var c,d,e=a,f=K.event.fixHooks[a.type]||{},g=f.props?this.props.concat(f.props):this.props;for(a=K.Event(e),c=g.length;c;)d=g[--c],a[d]=e[d];return a.target||(a.target=e.srcElement||H),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey),f.filter?f.filter(a,e):a},special:{ready:{setup:K.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){K.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){a=K.extend(new K.Event,c,{type:a,isSimulated:!0,originalEvent:{}}),d?K.event.trigger(a,null,b):K.event.dispatch.call(b,a),a.isDefaultPrevented()&&c.preventDefault()}},K.event.handle=K.event.dispatch,K.removeEvent=H.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},K.Event=function(a,b){return this instanceof K.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?h:g):this.type=a,b&&K.extend(this,b),this.timeStamp=a&&a.timeStamp||K.now(),this[K.expando]=!0,void 0):new K.Event(a,b)},K.Event.prototype={preventDefault:function(){this.isDefaultPrevented=h;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=h;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=h,this.stopPropagation()},isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g},K.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){K.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!K.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),K.support.submitBubbles||(K.event.special.submit={setup:function(){return K.nodeName(this,"form")?!1:(K.event.add(this,"click._submit keypress._submit",function(a){a=a.target,(a=K.nodeName(a,"input")||K.nodeName(a,"button")?a.form:b)&&!a._submit_attached&&(K.event.add(a,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&K.event.simulate("submit",this.parentNode,a,!0)}),a._submit_attached=!0)}),void 0)},teardown:function(){return K.nodeName(this,"form")?!1:(K.event.remove(this,"._submit"),void 0)}}),K.support.changeBubbles||(K.event.special.change={setup:function(){return $.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(K.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),K.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,K.event.simulate("change",this,a,!0))})),!1):(K.event.add(this,"beforeactivate._change",function(a){a=a.target,$.test(a.nodeName)&&!a._change_attached&&(K.event.add(a,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&K.event.simulate("change",this.parentNode,a,!0)}),a._change_attached=!0)}),void 0)},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return K.event.remove(this,"._change"),$.test(this.nodeName)}}),K.support.focusinBubbles||K.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){K.event.simulate(b,a.target,K.event.fix(a),!0)};K.event.special[b]={setup:function(){0===c++&&H.addEventListener(a,d,!0)},teardown:function(){0===--c&&H.removeEventListener(a,d,!0)}}}),K.fn.extend({on:function(a,c,d,e,f){var h,i;if("object"==typeof a){"string"!=typeof c&&(d=c,c=b);for(i in a)this.on(i,c,d,a[i],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=g;else if(!e)return this;return 1===f&&(h=e,e=function(a){return K().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=K.guid++)),this.each(function(){K.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;return K(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler),this}if("object"==typeof a){for(e in a)this.off(e,c,a[e]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=g),this.each(function(){K.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return K(this.context).on(a,this.selector,b,c),this},die:function(a,b){return K(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1==arguments.length?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){K.event.trigger(a,b,this)})},triggerHandler:function(a,b){return this[0]?K.event.trigger(a,b,this[0],!0):void 0},toggle:function(a){var b=arguments,c=a.guid||K.guid++,d=0,e=function(c){var e=(K._data(this,"lastToggle"+a.guid)||0)%d;return K._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};for(e.guid=c;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){K.fn[b]=function(a,c){return null==c&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},K.attrFn&&(K.attrFn[b]=!0),bb.test(b)&&(K.event.fixHooks[b]=K.event.keyHooks),cb.test(b)&&(K.event.fixHooks[b]=K.event.mouseHooks)}),function(){function a(a,b,c,d,f,g){f=0;for(var h=d.length;h>f;f++){var i=d[f];if(i){var j=!1;for(i=i[a];i;){if(i[e]===c){j=d[i.sizset];break}if(1!==i.nodeType||g||(i[e]=c,i.sizset=f),i.nodeName.toLowerCase()===b){j=i;break}i=i[a]}d[f]=j}}}function c(a,b,c,d,f,g){f=0;for(var h=d.length;h>f;f++){var i=d[f];if(i){var j=!1;for(i=i[a];i;){if(i[e]===c){j=d[i.sizset];break}if(1===i.nodeType)if(g||(i[e]=c,i.sizset=f),"string"!=typeof b){if(i===b){j=!0;break}}else if(m.filter(b,[i]).length>0){j=i;break}i=i[a]}d[f]=j}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e="sizcache"+(Math.random()+"").replace(".",""),f=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){return i=!1,0});var m=function(a,b,c,e){c=c||[];var f=b=b||H;if(1!==b.nodeType&&9!==b.nodeType)return[];if(!a||"string"!=typeof a)return c;var h,i,j,k,l,n=!0,q=m.isXML(b),r=[],t=a;do if(d.exec(""),(h=d.exec(t))&&(t=h[3],r.push(h[1]),h[2])){k=h[3];break}while(h);if(r.length>1&&p.exec(a))if(2===r.length&&o.relative[r[0]])i=w(r[0]+r[1],b,e);else for(i=o.relative[r[0]]?[b]:m(r.shift(),b);r.length;)a=r.shift(),o.relative[a]&&(a+=r.shift()),i=w(a,i,e);else if(!e&&r.length>1&&9===b.nodeType&&!q&&o.match.ID.test(r[0])&&!o.match.ID.test(r[r.length-1])&&(h=m.find(r.shift(),b,q),b=h.expr?m.filter(h.expr,h.set)[0]:h.set[0]),b)for(h=e?{expr:r.pop(),set:s(e)}:m.find(r.pop(),1!==r.length||"~"!==r[0]&&"+"!==r[0]||!b.parentNode?b:b.parentNode,q),i=h.expr?m.filter(h.expr,h.set):h.set,r.length>0?j=s(i):n=!1;r.length;)h=l=r.pop(),o.relative[l]?h=r.pop():l="",null==h&&(h=b),o.relative[l](j,h,q);else j=[];if(j||(j=i),j||m.error(l||a),"[object Array]"===g.call(j))if(n)if(b&&1===b.nodeType)for(a=0;null!=j[a];a++)j[a]&&(j[a]===!0||1===j[a].nodeType&&m.contains(b,j[a]))&&c.push(i[a]);else for(a=0;null!=j[a];a++)j[a]&&1===j[a].nodeType&&c.push(i[a]);else c.push.apply(c,j);else s(j,c);return k&&(m(k,f,c,e),m.uniqueSort(c)),c};m.uniqueSort=function(a){if(u&&(h=i,a.sort(u),h))for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;f>e;e++)if(h=o.order[e],(g=o.leftMatch[h].exec(a))&&(i=g[1],g.splice(1,1),"\\"!==i.substr(i.length-1)&&(g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c),null!=d))){a=a.replace(o.match[h],"");break}return d||(d="undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName("*"):[]),{set:d,expr:a}},m.filter=function(a,c,d,e){for(var f,g,h,i,j,k,l,n,p=a,q=[],r=c,s=c&&c[0]&&m.isXML(c[0]);a&&c.length;){for(h in o.filter)if(null!=(f=o.leftMatch[h].exec(a))&&f[2]&&(k=o.filter[h],j=f[1],g=!1,f.splice(1,1),"\\"!==j.substr(j.length-1))){if(r===q&&(q=[]),o.preFilter[h])if(f=o.preFilter[h](f,r,d,q,e,s)){if(f===!0)continue}else g=i=!0;if(f)for(l=0;null!=(j=r[l]);l++)j&&(i=k(j,f,l,r),n=e^i,d&&null!=i?n?g=!0:r[l]=!1:n&&(q.push(j),g=!0));if(i!==b){if(d||(r=q),a=a.replace(o.match[h],""),!g)return[];break}}if(a===p){if(null!=g)break;m.error(a)}p=a}return r},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c;b=a.nodeType;var d="";if(b){if(1===b||9===b){if("string"==typeof a.textContent)return a.textContent;if("string"==typeof a.innerText)return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)d+=n(a)}else if(3===b||4===b)return a.nodeValue}else for(b=0;c=a[b];b++)8!==c.nodeType&&(d+=n(c));return d},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c="string"==typeof b,d=c&&!l.test(b);c=c&&!d,d&&(b=b.toLowerCase()),d=0;for(var e,f=a.length;f>d;d++)if(e=a[d]){for(;(e=e.previousSibling)&&1!==e.nodeType;);a[d]=c||e&&e.nodeName.toLowerCase()===b?e||!1:e===b}c&&m.filter(b,a,!0)},">":function(a,b){var c,d="string"==typeof b,e=0,f=a.length;if(d&&!l.test(b))for(b=b.toLowerCase();f>e;e++)(c=a[e])&&(c=c.parentNode,a[e]=c.nodeName.toLowerCase()===b?c:!1);else{for(;f>e;e++)(c=a[e])&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(b,d,e){var g,h=f++,i=c;"string"!=typeof d||l.test(d)||(g=d=d.toLowerCase(),i=a),i("parentNode",d,h,b,g,e)},"~":function(b,d,e){var g,h=f++,i=c;"string"!=typeof d||l.test(d)||(g=d=d.toLowerCase(),i=a),i("previousSibling",d,h,b,g,e)}},find:{ID:function(a,b,c){return"undefined"==typeof b.getElementById||c?void 0:(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if("undefined"!=typeof b.getElementsByName){var c=[];b=b.getElementsByName(a[1]);for(var d=0,e=b.length;e>d;d++)b[d].getAttribute("name")===a[1]&&c.push(b[d]);return 0===c.length?null:c}},TAG:function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a[1]):void 0}},preFilter:{CLASS:function(a,b,c,d,e,f){if(a=" "+a[1].replace(j,"")+" ",f)return a;f=0;for(var g;null!=(g=b[f]);f++)g&&(e^(g.className&&(" "+g.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(g):c&&(b[f]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if("nth"===a[1]){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);return a[0]=f++,a},ATTR:function(a,b,c,d,e,f){return b=a[1]=a[1].replace(j,""),!f&&o.attrMap[b]&&(a[1]=o.attrMap[b]),a[4]=(a[4]||a[5]||"").replace(j,""),"~="===a[2]&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(a,b,c,e,f){if("not"===a[1]){if(!((d.exec(a[3])||"").length>1||/^\w/.test(a[3])))return a=m.filter(a[3],b,c,!0^f),c||e.push.apply(e,a),!1;a[3]=m(a[3],null,null,b)}else if(o.match.POS.test(a[0])||o.match.CHILD.test(a[0]))return!0;return a},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&"hidden"!==a.type},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return"input"===a.nodeName.toLowerCase()&&"text"===c&&(b===c||null===b)},radio:function(a){return"input"===a.nodeName.toLowerCase()&&"radio"===a.type},checkbox:function(a){return"input"===a.nodeName.toLowerCase()&&"checkbox"===a.type},file:function(a){return"input"===a.nodeName.toLowerCase()&&"file"===a.type},password:function(a){return"input"===a.nodeName.toLowerCase()&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"submit"===a.type},image:function(a){return"input"===a.nodeName.toLowerCase()&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return 0===b%2},odd:function(a,b){return 1===b%2},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if("contains"===e)return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if("not"===e){for(b=b[3],c=0,d=b.length;d>c;c++)if(b[c]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,d,f,g;c=b[1];var h=a;switch(c){case"only":case"first":for(;h=h.previousSibling;)if(1===h.nodeType)return!1;if("first"===c)return!0;h=a;case"last":for(;h=h.nextSibling;)if(1===h.nodeType)return!1;return!0;case"nth":if(c=b[2],d=b[3],1===c&&0===d)return!0;if(b=b[0],(f=a.parentNode)&&(f[e]!==b||!a.nodeIndex)){for(g=0,h=f.firstChild;h;h=h.nextSibling)1===h.nodeType&&(h.nodeIndex=++g);f[e]=b}return a=a.nodeIndex-d,0===c?0===a:0===a%c&&a/c>=0}},ID:function(a,b){return 1===a.nodeType&&a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1];a=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):null!=a[c]?a[c]:a.getAttribute(c),c=a+"";var d=b[2];return b=b[4],null==a?"!="===d:!d&&m.attr?null!=a:"="===d?c===b:"*="===d?c.indexOf(b)>=0:"~="===d?(" "+c+" ").indexOf(b)>=0:b?"!="===d?c!==b:"^="===d?0===c.indexOf(b):"$="===d?c.substr(c.length-b.length)===b:"|="===d?c===b||c.substr(0,b.length+1)===b+"-":!1:c&&a!==!1},POS:function(a,b,c,d){var e=o.setFilters[b[2]];return e?e(a,c,b,d):void 0}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));var s=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(H.documentElement.childNodes,0)}catch(t){s=function(a,b){var c=0;if(b=b||[],"[object Array]"===g.call(a))Array.prototype.push.apply(b,a);else if("number"==typeof a.length)for(var d=a.length;d>c;c++)b.push(a[c]);else for(;a[c];c++)b.push(a[c]);return b}}var u,v;H.documentElement.compareDocumentPosition?u=function(a,b){return a===b?(h=!0,0):a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b)?-1:1:a.compareDocumentPosition?-1:1}:(u=function(a,b){if(a===b)return h=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[];c=a.parentNode,d=b.parentNode;var g=c;if(c===d)return v(a,b);if(!c)return-1;if(!d)return 1;for(;g;)e.unshift(g),g=g.parentNode;for(g=d;g;)f.unshift(g),g=g.parentNode;for(c=e.length,d=f.length,g=0;c>g&&d>g;g++)if(e[g]!==f[g])return v(e[g],f[g]);return g===c?v(a,f[g],-1):v(e[g],b,1)},v=function(a,b,c){if(a===b)return c;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1}),function(){var a=H.createElement("div"),c="script"+(new Date).getTime(),d=H.documentElement;a.innerHTML="<a name='"+c+"'/>",d.insertBefore(a,d.firstChild),H.getElementById(c)&&(o.find.ID=function(a,c,d){return"undefined"==typeof c.getElementById||d?void 0:(c=c.getElementById(a[1]))?c.id===a[1]||"undefined"!=typeof c.getAttributeNode&&c.getAttributeNode("id").nodeValue===a[1]?[c]:b:[]},o.filter.ID=function(a,b){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&c&&c.nodeValue===b}),d.removeChild(a),d=a=null}(),function(){var a=H.createElement("div");a.appendChild(H.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){if(b=b.getElementsByTagName(a[1]),"*"===a[1]){a=[];for(var c=0;b[c];c++)1===b[c].nodeType&&a.push(b[c]);b=a}return b}),a.innerHTML="<a href='#'></a>",a.firstChild&&"undefined"!=typeof a.firstChild.getAttribute&&"#"!==a.firstChild.getAttribute("href")&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),H.querySelectorAll&&function(){var a=m,b=H.createElement("div");if(b.innerHTML="<p class='TEST'></p>",!b.querySelectorAll||0!==b.querySelectorAll(".TEST").length){m=function(b,c,d,e){if(c=c||H,!e&&!m.isXML(c)){var f=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(f&&(1===c.nodeType||9===c.nodeType)){if(f[1])return s(c.getElementsByTagName(b),d);if(f[2]&&o.find.CLASS&&c.getElementsByClassName)return s(c.getElementsByClassName(f[2]),d)}if(9===c.nodeType){if("body"===b&&c.body)return s([c.body],d);if(f&&f[3]){var g=c.getElementById(f[3]);if(!g||!g.parentNode)return s([],d);if(g.id===f[3])return s([g],d)}try{return s(c.querySelectorAll(b),d)}catch(h){}}else if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){f=c;var i=(g=c.getAttribute("id"))||"__sizzle__",j=c.parentNode,k=/^\s*[+~]/.test(b);g?i=i.replace(/'/g,"\\$&"):c.setAttribute("id",i),k&&j&&(c=c.parentNode);try{if(!k||j)return s(c.querySelectorAll("[id='"+i+"'] "+b),d)}catch(l){}finally{g||f.removeAttribute("id")}}}return a(b,c,d,e)};for(var c in a)m[c]=a[c];b=null}}(),function(){var a=H.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var c=!b.call(H.createElement("div"),"div"),d=!1;try{b.call(H.documentElement,"[test!='']:sizzle")}catch(e){d=!0}m.matchesSelector=function(a,e){if(e=e.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!m.isXML(a))try{if(d||!o.match.PSEUDO.test(e)&&!/!=/.test(e)){var f=b.call(a,e);if(f||!c||a.document&&11!==a.document.nodeType)return f}}catch(g){}return m(e,null,null,[a]).length>0}}}(),function(){var a=H.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>",a.getElementsByClassName&&0!==a.getElementsByClassName("e").length&&(a.lastChild.className="e",1!==a.getElementsByClassName("e").length&&(o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){return"undefined"==typeof b.getElementsByClassName||c?void 0:b.getElementsByClassName(a[1])
},a=null))}(),m.contains=H.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:H.documentElement.compareDocumentPosition?function(a,b){return!!(16&a.compareDocumentPosition(b))}:function(){return!1},m.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1};var w=function(a,b,c){var d,e=[],f="";for(b=b.nodeType?[b]:b;d=o.match.PSEUDO.exec(a);)f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a,d=0;for(var g=b.length;g>d;d++)m(a,b[d],e,c);return m.filter(f,e)};m.attr=K.attr,m.selectors.attrMap={},K.find=m,K.expr=m.selectors,K.expr[":"]=K.expr.filters,K.unique=m.uniqueSort,K.text=m.getText,K.isXMLDoc=m.isXML,K.contains=m.contains}();var ib=/Until$/,jb=/^(?:parents|prevUntil|prevAll)/,kb=/,/,lb=/^.[^:#\[\.,]*$/,mb=Array.prototype.slice,nb=K.expr.match.POS,ob={children:!0,contents:!0,next:!0,prev:!0};K.fn.extend({find:function(a){var b,c,d=this;if("string"!=typeof a)return K(a).filter(function(){for(b=0,c=d.length;c>b;b++)if(K.contains(d[b],this))return!0});var e,f,g,h=this.pushStack("","find",a);for(b=0,c=this.length;c>b;b++)if(e=h.length,K.find(a,this[b],h),b>0)for(f=e;f<h.length;f++)for(g=0;e>g;g++)if(h[g]===h[f]){h.splice(f--,1);break}return h},has:function(a){var b=K(a);return this.filter(function(){for(var a=0,c=b.length;c>a;a++)if(K.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(j(this,a,!1),"not",a)},filter:function(a){return this.pushStack(j(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?nb.test(a)?K(a,this.context).index(this[0])>=0:K.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c,d,e=[],f=this[0];if(K.isArray(a)){for(d=1;f&&f.ownerDocument&&f!==b;){for(c=0;c<a.length;c++)K(f).is(a[c])&&e.push({selector:a[c],elem:f,level:d});f=f.parentNode,d++}return e}var g=nb.test(a)||"string"!=typeof a?K(a,b||this.context):0;for(c=0,d=this.length;d>c;c++)for(f=this[c];f;){if(g?g.index(f)>-1:K.find.matchesSelector(f,a)){e.push(f);break}if(f=f.parentNode,!f||!f.ownerDocument||f===b||11===f.nodeType)break}return e=e.length>1?K.unique(e):e,this.pushStack(e,"closest",a)},index:function(a){return a?"string"==typeof a?K.inArray(this[0],K(a)):K.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){return a="string"==typeof a?K(a,b):K.makeArray(a&&a.nodeType?[a]:a),b=K.merge(this.get(),a),this.pushStack(i(a[0])||i(b[0])?b:K.unique(b))},andSelf:function(){return this.add(this.prevObject)}}),K.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return K.dir(a,"parentNode")},parentsUntil:function(a,b,c){return K.dir(a,"parentNode",c)},next:function(a){return K.nth(a,2,"nextSibling")},prev:function(a){return K.nth(a,2,"previousSibling")},nextAll:function(a){return K.dir(a,"nextSibling")},prevAll:function(a){return K.dir(a,"previousSibling")},nextUntil:function(a,b,c){return K.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return K.dir(a,"previousSibling",c)},siblings:function(a){return K.sibling(a.parentNode.firstChild,a)},children:function(a){return K.sibling(a.firstChild)},contents:function(a){return K.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:K.makeArray(a.childNodes)}},function(a,b){K.fn[a]=function(c,d){var e=K.map(this,b,c);return ib.test(a)||(d=c),d&&"string"==typeof d&&(e=K.filter(d,e)),e=this.length>1&&!ob[a]?K.unique(e):e,(this.length>1||kb.test(d))&&jb.test(a)&&(e=e.reverse()),this.pushStack(e,a,mb.call(arguments).join(","))}}),K.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?K.find.matchesSelector(b[0],a)?[b[0]]:[]:K.find.matches(a,b)},dir:function(a,c,d){var e=[];for(a=a[c];a&&9!==a.nodeType&&(d===b||1!==a.nodeType||!K(a).is(d));)1===a.nodeType&&e.push(a),a=a[c];return e},nth:function(a,b,c){b=b||1;for(var d=0;a&&(1!==a.nodeType||++d!==b);a=a[c]);return a},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var pb="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",qb=/ jQuery\d+="(?:\d+|null)"/g,rb=/^\s+/,sb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,tb=/<([\w:]+)/,ub=/<tbody/i,vb=/<|&#?\w+;/,wb=/<(?:script|style)/i,xb=/<(?:script|object|embed|option|style)/i,yb=new RegExp("<(?:"+pb+")","i"),zb=/checked\s*(?:[^=]|=\s*.checked.)/i,Ab=/\/(java|ecma)script/i,Bb=/^\s*<!(?:\[CDATA\[|\-\-)/,Cb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Db=k(H);Cb.optgroup=Cb.option,Cb.tbody=Cb.tfoot=Cb.colgroup=Cb.caption=Cb.thead,Cb.th=Cb.td,K.support.htmlSerialize||(Cb._default=[1,"div<div>","</div>"]),K.fn.extend({text:function(a){return K.isFunction(a)?this.each(function(b){var c=K(this);c.text(a.call(this,b,c.text()))}):"object"!=typeof a&&a!==b?this.empty().append((this[0]&&this[0].ownerDocument||H).createTextNode(a)):K.text(this)},wrapAll:function(a){if(K.isFunction(a))return this.each(function(b){K(this).wrapAll(a.call(this,b))});if(this[0]){var b=K(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return K.isFunction(a)?this.each(function(b){K(this).wrapInner(a.call(this,b))}):this.each(function(){var b=K(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=K.isFunction(a);return this.each(function(c){K(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){K.nodeName(this,"body")||K(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=K.clean(arguments);return a.push.apply(a,this.toArray()),this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);return a.push.apply(a,K.clean(arguments)),a}},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)(!a||K.filter(a,[c]).length)&&(b||1!==c.nodeType||(K.cleanData(c.getElementsByTagName("*")),K.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&K.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return K.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(qb,""):null;if("string"!=typeof a||wb.test(a)||!K.support.leadingWhitespace&&rb.test(a)||Cb[(tb.exec(a)||["",""])[1].toLowerCase()])K.isFunction(a)?this.each(function(b){var c=K(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);else{a=a.replace(sb,"<$1></$2>");try{for(var c=0,d=this.length;d>c;c++)1===this[c].nodeType&&(K.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}return this},replaceWith:function(a){return this[0]&&this[0].parentNode?K.isFunction(a)?this.each(function(b){var c=K(this),d=c.html();c.replaceWith(a.call(this,b,d))}):("string"!=typeof a&&(a=K(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;K(this).remove(),b?K(b).before(a):K(c).append(a)})):this.length?this.pushStack(K(K.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,f,g,h=a[0],i=[];if(!K.support.checkClone&&3===arguments.length&&"string"==typeof h&&zb.test(h))return this.each(function(){K(this).domManip(a,c,d,!0)});if(K.isFunction(h))return this.each(function(e){var f=K(this);a[0]=h.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){if(e=h&&h.parentNode,e=K.support.parentNode&&e&&11===e.nodeType&&e.childNodes.length===this.length?{fragment:e}:K.buildFragment(a,this,i),g=e.fragment,f=1===g.childNodes.length?g=g.firstChild:g.firstChild){c=c&&K.nodeName(f,"tr");for(var j=0,k=this.length,m=k-1;k>j;j++)d.call(c?l(this[j],f):this[j],e.cacheable||k>1&&m>j?K.clone(g,!0,!0):g)}i.length&&K.each(i,s)}return this}}),K.buildFragment=function(a,b,c){var d,e,f,g,h=a[0];return b&&b[0]&&(g=b[0].ownerDocument||b[0]),g.createDocumentFragment||(g=H),!(1===a.length&&"string"==typeof h&&h.length<512&&g===H&&"<"===h.charAt(0))||xb.test(h)||!K.support.checkClone&&zb.test(h)||!K.support.html5Clone&&yb.test(h)||(e=!0,(f=K.fragments[h])&&1!==f&&(d=f)),d||(d=g.createDocumentFragment(),K.clean(a,g,d,c)),e&&(K.fragments[h]=f?d:1),{fragment:d,cacheable:e}},K.fragments={},K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){K.fn[a]=function(c){var d=[];c=K(c);var e=1===this.length&&this[0].parentNode;if(e&&11===e.nodeType&&1===e.childNodes.length&&1===c.length)return c[b](this[0]),this;e=0;for(var f=c.length;f>e;e++){var g=(e>0?this.clone(!0):this).get();K(c[e])[b](g),d=d.concat(g)}return this.pushStack(d,a,c.selector)}}),K.extend({clone:function(a,b,c){var d,e,f,g=K.support.html5Clone||!yb.test("<"+a.nodeName)?a.cloneNode(!0):r(a);if(!(K.support.noCloneEvent&&K.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||K.isXMLDoc(a)))for(n(a,g),d=o(a),e=o(g),f=0;d[f];++f)e[f]&&n(d[f],e[f]);if(b&&(m(a,g),c))for(d=o(a),e=o(g),f=0;d[f];++f)m(d[f],e[f]);return g},clean:function(a,b,c,d){b=b||H,"undefined"==typeof b.createElement&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||H);for(var e,f,g=[],h=0;null!=(f=a[h]);h++)if("number"==typeof f&&(f+=""),f){if("string"==typeof f)if(vb.test(f)){f=f.replace(sb,"<$1></$2>"),e=(tb.exec(f)||["",""])[1].toLowerCase();var i=Cb[e]||Cb._default,j=i[0],l=b.createElement("div");for(b===H?Db.appendChild(l):k(b).appendChild(l),l.innerHTML=i[1]+f+i[2];j--;)l=l.lastChild;if(!K.support.tbody)for(j=ub.test(f),i="table"!==e||j?"<table>"!==i[1]||j?[]:l.childNodes:l.firstChild&&l.firstChild.childNodes,e=i.length-1;e>=0;--e)K.nodeName(i[e],"tbody")&&!i[e].childNodes.length&&i[e].parentNode.removeChild(i[e]);!K.support.leadingWhitespace&&rb.test(f)&&l.insertBefore(b.createTextNode(rb.exec(f)[0]),l.firstChild),f=l.childNodes}else f=b.createTextNode(f);var m;if(!K.support.appendChecked)if(f[0]&&"number"==typeof(m=f.length))for(e=0;m>e;e++)q(f[e]);else q(f);f.nodeType?g.push(f):g=K.merge(g,f)}if(c)for(a=function(a){return!a.type||Ab.test(a.type)},h=0;g[h];h++)!d||!K.nodeName(g[h],"script")||g[h].type&&"text/javascript"!==g[h].type.toLowerCase()?(1===g[h].nodeType&&(b=K.grep(g[h].getElementsByTagName("script"),a),g.splice.apply(g,[h+1,0].concat(b))),c.appendChild(g[h])):d.push(g[h].parentNode?g[h].parentNode.removeChild(g[h]):g[h]);return g},cleanData:function(a){for(var b,c,d,e=K.cache,f=K.event.special,g=K.support.deleteExpando,h=0;null!=(d=a[h]);h++)if((!d.nodeName||!K.noData[d.nodeName.toLowerCase()])&&(c=d[K.expando])){if((b=e[c])&&b.events){for(var i in b.events)f[i]?K.event.remove(d,i):K.removeEvent(d,i,b.handle);b.handle&&(b.handle.elem=null)}g?delete d[K.expando]:d.removeAttribute&&d.removeAttribute(K.expando),delete e[c]}}});var Eb,Fb,Gb,Hb=/alpha\([^)]*\)/i,Ib=/opacity=([^)]*)/,Jb=/([A-Z]|^ms)/g,Kb=/^-?\d+(?:px)?$/i,Lb=/^-?\d/,Mb=/^([\-+])=([\-+.\de]+)/,Nb={position:"absolute",visibility:"hidden",display:"block"},Ob=["Left","Right"],Pb=["Top","Bottom"];K.fn.css=function(a,c){return 2===arguments.length&&c===b?this:K.access(this,a,c,!0,function(a,c,d){return d!==b?K.style(a,c,d):K.css(a,c)})},K.extend({cssHooks:{opacity:{get:function(a,b){return b?(a=Eb(a,"opacity","opacity"),""===a?"1":a):a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":K.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g=K.camelCase(c),h=a.style,i=K.cssHooks[g];if(c=K.cssProps[g]||g,d===b)return i&&"get"in i&&(f=i.get(a,!1,e))!==b?f:h[c];if(e=typeof d,"string"===e&&(f=Mb.exec(d))&&(d=+(f[1]+1)*+f[2]+parseFloat(K.css(a,c)),e="number"),!(null==d||"number"===e&&isNaN(d)||("number"!==e||K.cssNumber[g]||(d+="px"),i&&"set"in i&&(d=i.set(a,d))===b)))try{h[c]=d}catch(j){}}},css:function(a,c,d){var e,f;return c=K.camelCase(c),f=K.cssHooks[c],c=K.cssProps[c]||c,"cssFloat"===c&&(c="float"),f&&"get"in f&&(e=f.get(a,!0,d))!==b?e:Eb?Eb(a,c):void 0},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),K.curCSS=K.css,K.each(["height","width"],function(a,b){K.cssHooks[b]={get:function(a,c,d){var e;return c?0!==a.offsetWidth?t(a,b,d):(K.swap(a,Nb,function(){e=t(a,b,d)}),e):void 0},set:function(a,b){return Kb.test(b)?(b=parseFloat(b),b>=0?b+"px":void 0):b}}}),K.support.opacity||(K.cssHooks.opacity={get:function(a,b){return Ib.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style;a=a.currentStyle;var d=K.isNumeric(b)?"alpha(opacity="+100*b+")":"",e=a&&a.filter||c.filter||"";c.zoom=1,b>=1&&""===K.trim(e.replace(Hb,""))&&(c.removeAttribute("filter"),a&&!a.filter)||(c.filter=Hb.test(e)?e.replace(Hb,d):e+" "+d)}}),K(function(){K.support.reliableMarginRight||(K.cssHooks.marginRight={get:function(a,b){var c;return K.swap(a,{display:"inline-block"},function(){c=b?Eb(a,"margin-right","marginRight"):a.style.marginRight}),c}})}),H.defaultView&&H.defaultView.getComputedStyle&&(Fb=function(a,b){var c,d,e;return b=b.replace(Jb,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),""!==c||K.contains(a.ownerDocument.documentElement,a)||(c=K.style(a,b))),c}),H.documentElement.currentStyle&&(Gb=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;return null===e&&f&&(c=f[b])&&(e=c),!Kb.test(e)&&Lb.test(e)&&(c=f.left,(d=a.runtimeStyle&&a.runtimeStyle.left)&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":e||0,e=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d)),""===e?"auto":e}),Eb=Fb||Gb,K.expr&&K.expr.filters&&(K.expr.filters.hidden=function(a){var b=a.offsetHeight;return 0===a.offsetWidth&&0===b||!K.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||K.css(a,"display"))},K.expr.filters.visible=function(a){return!K.expr.filters.hidden(a)});var Qb,Rb,Sb=/%20/g,Tb=/\[\]$/,Ub=/\r?\n/g,Vb=/#.*$/,Wb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Xb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Yb=/^(?:GET|HEAD)$/,Zb=/^\/\//,$b=/\?/,_b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,ac=/^(?:select|textarea)/i,bc=/\s+/,cc=/([?&])_=[^&]*/,dc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,ec=K.fn.load,fc={},gc={},hc=["*/"]+["*"];try{Qb=J.href}catch(ic){Qb=H.createElement("a"),Qb.href="",Qb=Qb.href}Rb=dc.exec(Qb.toLowerCase())||[],K.fn.extend({load:function(a,c,d){if("string"!=typeof a&&ec)return ec.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var f=a.slice(e,a.length);a=a.slice(0,e)}e="GET",c&&(K.isFunction(c)?(d=c,c=b):"object"==typeof c&&(c=K.param(c,K.ajaxSettings.traditional),e="POST"));var g=this;return K.ajax({url:a,type:e,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),g.html(f?K("<div>").append(c.replace(_b,"")).find(f):c)),d&&g.each(d,[c,b,a])}}),this},serialize:function(){return K.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?K.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ac.test(this.nodeName)||Xb.test(this.type))}).map(function(a,b){return a=K(this).val(),null==a?null:K.isArray(a)?K.map(a,function(a){return{name:b.name,value:a.replace(Ub,"\r\n")}}):{name:b.name,value:a.replace(Ub,"\r\n")}}).get()}}),K.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){K.fn[b]=function(a){return this.on(b,a)}}),K.each(["get","post"],function(a,c){K[c]=function(a,d,e,f){return K.isFunction(d)&&(f=f||e,e=d,d=b),K.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),K.extend({getScript:function(a,c){return K.get(a,b,c,"script")},getJSON:function(a,b,c){return K.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?w(a,K.ajaxSettings):(b=a,a=K.ajaxSettings),w(a,b),a},ajaxSettings:{url:Qb,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Rb[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":hc},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":K.parseJSON,"text xml":K.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:u(fc),ajaxTransport:u(gc),ajax:function(a,c){function d(a,c,d,g){if(2!==t){t=2,i&&clearTimeout(i),h=b,f=g||"",u.readyState=a>0?4:0;var k,r,s;g=c,d=d?y(l,u,d):b;var v;if(a>=200&&300>a||304===a)if(l.ifModified&&((v=u.getResponseHeader("Last-Modified"))&&(K.lastModified[e]=v),(v=u.getResponseHeader("Etag"))&&(K.etag[e]=v)),304===a)g="notmodified",k=!0;else try{r=z(l,d),g="success",k=!0}catch(w){g="parsererror",s=w}else s=g,(!g||a)&&(g="error",0>a&&(a=0));u.status=a,u.statusText=""+(c||g),k?o.resolveWith(m,[r,g,u]):o.rejectWith(m,[u,g,s]),u.statusCode(q),q=b,j&&n.trigger("ajax"+(k?"Success":"Error"),[u,l,k?r:s]),p.fireWith(m,[u,g]),j&&(n.trigger("ajaxComplete",[u,l]),--K.active||K.event.trigger("ajaxStop"))}}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l=K.ajaxSetup({},c),m=l.context||l,n=m!==l&&(m.nodeType||m instanceof K)?K(m):K.event,o=K.Deferred(),p=K.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u={readyState:0,setRequestHeader:function(a,b){if(!t){var c=a.toLowerCase();a=s[c]=s[c]||a,r[a]=b}return this},getAllResponseHeaders:function(){return 2===t?f:null},getResponseHeader:function(a){var c;if(2===t){if(!g)for(g={};c=Wb.exec(f);)g[c[1].toLowerCase()]=c[2];c=g[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return t||(l.mimeType=a),this},abort:function(a){return a=a||"abort",h&&h.abort(a),d(0,a),this}};if(o.promise(u),u.success=u.done,u.error=u.fail,u.complete=p.add,u.statusCode=function(a){if(a){var b;if(2>t)for(b in a)q[b]=[q[b],a[b]];else b=a[u.status],u.then(b,b)}return this},l.url=((a||l.url)+"").replace(Vb,"").replace(Zb,Rb[1]+"//"),l.dataTypes=K.trim(l.dataType||"*").toLowerCase().split(bc),null==l.crossDomain&&(a=dc.exec(l.url.toLowerCase()),l.crossDomain=!(!a||a[1]==Rb[1]&&a[2]==Rb[2]&&(a[3]||("http:"===a[1]?80:443))==(Rb[3]||("http:"===Rb[1]?80:443)))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=K.param(l.data,l.traditional)),v(fc,l,c,u),2===t)return!1;if(j=l.global,l.type=l.type.toUpperCase(),l.hasContent=!Yb.test(l.type),j&&0===K.active++&&K.event.trigger("ajaxStart"),!l.hasContent&&(l.data&&(l.url+=($b.test(l.url)?"&":"?")+l.data,delete l.data),e=l.url,l.cache===!1)){a=K.now();var w=l.url.replace(cc,"$1_="+a);l.url=w+(w===l.url?($b.test(l.url)?"&":"?")+"_="+a:"")}(l.data&&l.hasContent&&l.contentType!==!1||c.contentType)&&u.setRequestHeader("Content-Type",l.contentType),l.ifModified&&(e=e||l.url,K.lastModified[e]&&u.setRequestHeader("If-Modified-Since",K.lastModified[e]),K.etag[e]&&u.setRequestHeader("If-None-Match",K.etag[e])),u.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+hc+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)u.setRequestHeader(k,l.headers[k]);if(l.beforeSend&&(l.beforeSend.call(m,u,l)===!1||2===t))return u.abort(),!1;for(k in{success:1,error:1,complete:1})u[k](l[k]);if(h=v(gc,l,c,u)){u.readyState=1,j&&n.trigger("ajaxSend",[u,l]),l.async&&l.timeout>0&&(i=setTimeout(function(){u.abort("timeout")},l.timeout));try{t=1,h.send(r,d)}catch(x){if(!(2>t))throw x;d(-1,x)}}else d(-1,"No Transport");return u},param:function(a,c){var d=[],e=function(a,b){b=K.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=K.ajaxSettings.traditional),K.isArray(a)||a.jquery&&!K.isPlainObject(a))K.each(a,function(){e(this.name,this.value)});else for(var f in a)x(f,a[f],c,e);return d.join("&").replace(Sb,"+")}}),K.extend({active:0,lastModified:{},etag:{}});var jc=K.now(),kc=/(\=)\?(&|$)|\?\?/i;K.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return K.expando+"_"+jc++}}),K.ajaxPrefilter("json jsonp",function(b,c,d){if(c="application/x-www-form-urlencoded"===b.contentType&&"string"==typeof b.data,"jsonp"===b.dataTypes[0]||b.jsonp!==!1&&(kc.test(b.url)||c&&kc.test(b.data))){var e,f=b.jsonpCallback=K.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,g=a[f],h=b.url,i=b.data,j="$1"+f+"$2";return b.jsonp!==!1&&(h=h.replace(kc,j),b.url===h&&(c&&(i=i.replace(kc,j)),b.data===i&&(h+=(/\?/.test(h)?"&":"?")+b.jsonp+"="+f))),b.url=h,b.data=i,a[f]=function(a){e=[a]},d.always(function(){a[f]=g,e&&K.isFunction(g)&&a[f](e[0])}),b.converters["script json"]=function(){return e||K.error(f+" was not called"),e[0]},b.dataTypes[0]="json","script"}}),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return K.globalEval(a),a}}}),K.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),K.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=H.head||H.getElementsByTagName("head")[0]||H.documentElement;return{send:function(e,f){c=H.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){(e||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||f(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var lc,mc=a.ActiveXObject?function(){for(var a in lc)lc[a](0,1)}:!1,nc=0;K.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&A()||B()}:A,function(a){K.extend(K.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(K.ajaxSettings.xhr()),K.support.ajax&&K.ajaxTransport(function(c){if(!c.crossDomain||K.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l,m;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=K.noop,mc&&delete lc[g]),e)4!==i.readyState&&i.abort();else{h=i.status,k=i.getAllResponseHeaders(),l={},(m=i.responseXML)&&m.documentElement&&(l.xml=m),l.text=i.responseText;try{j=i.statusText}catch(n){j=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(o){e||f(-1,o)}l&&f(h,j,l,k)},c.async&&4!==i.readyState?(g=++nc,mc&&(lc||(lc={},K(a).unload(mc)),lc[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var oc,pc,qc,rc,sc={},tc=/^(?:toggle|show|hide)$/,uc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,vc=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];K.fn.extend({show:function(a,b,c){if(a||0===a)return this.animate(E("show",3),a,b,c);c=0;for(var d=this.length;d>c;c++)a=this[c],a.style&&(b=a.style.display,K._data(a,"olddisplay")||"none"!==b||(b=a.style.display=""),""===b&&"none"===K.css(a,"display")&&K._data(a,"olddisplay",F(a.nodeName)));for(c=0;d>c;c++)a=this[c],a.style&&(b=a.style.display,(""===b||"none"===b)&&(a.style.display=K._data(a,"olddisplay")||""));return this},hide:function(a,b,c){if(a||0===a)return this.animate(E("hide",3),a,b,c);c=0;for(var d=this.length;d>c;c++)a=this[c],a.style&&(b=K.css(a,"display"),"none"!==b&&!K._data(a,"olddisplay")&&K._data(a,"olddisplay",b));for(c=0;d>c;c++)this[c].style&&(this[c].style.display="none");return this},_toggle:K.fn.toggle,toggle:function(a,b,c){var d="boolean"==typeof a;return K.isFunction(a)&&K.isFunction(b)?this._toggle.apply(this,arguments):null==a||d?this.each(function(){var b=d?a:K(this).is(":hidden");K(this)[b?"show":"hide"]()}):this.animate(E("toggle",3),a,b,c),this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function e(){f.queue===!1&&K._mark(this);var b,c,d,e,g,h=K.extend({},f),i=1===this.nodeType,j=i&&K(this).is(":hidden");h.animatedProperties={};for(d in a){if(b=K.camelCase(d),d!==b&&(a[b]=a[d],delete a[d]),c=a[b],K.isArray(c)?(h.animatedProperties[b]=c[1],c=a[b]=c[0]):h.animatedProperties[b]=h.specialEasing&&h.specialEasing[b]||h.easing||"swing","hide"===c&&j||"show"===c&&!j)return h.complete.call(this);!i||"height"!==b&&"width"!==b||(h.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===K.css(this,"display")&&"none"===K.css(this,"float")&&(K.support.inlineBlockNeedsLayout&&"inline"!==F(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=h.overflow&&(this.style.overflow="hidden");for(d in a)i=new K.fx(this,h,d),c=a[d],tc.test(c)?(b=K._data(this,"toggle"+d)||("toggle"===c?j?"show":"hide":0))?(K._data(this,"toggle"+d,"show"===b?"hide":"show"),i[b]()):i[c]():(b=uc.exec(c),e=i.cur(),b?(c=parseFloat(b[2]),g=b[3]||(K.cssNumber[d]?"":"px"),"px"!==g&&(K.style(this,d,(c||1)+g),e=(c||1)/i.cur()*e,K.style(this,d,e+g)),b[1]&&(c=("-="===b[1]?-1:1)*c+e),i.custom(e,c,g)):i.custom(e,c,""));return!0}var f=K.speed(b,c,d);return K.isEmptyObject(a)?this.each(f.complete,[!1]):(a=K.extend({},a),f.queue===!1?this.each(e):this.queue(f.queue,e))},stop:function(a,c,d){return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){function b(a,b,c){b=b[c],K.removeData(a,c,!0),b.stop(d)}var c,e=!1,f=K.timers,g=K._data(this);if(d||K._unmark(!0,this),null==a)for(c in g)g[c]&&g[c].stop&&c.indexOf(".run")===c.length-4&&b(this,g,c);else g[c=a+".run"]&&g[c].stop&&b(this,g,c);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(d?f[c](!0):f[c].saveState(),e=!0,f.splice(c,1));d&&e||K.dequeue(this,a)})}}),K.each({slideDown:E("show",1),slideUp:E("hide",1),slideToggle:E("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){K.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),K.extend({speed:function(a,b,c){var d=a&&"object"==typeof a?K.extend({},a):{complete:c||!c&&b||K.isFunction(a)&&a,duration:a,easing:c&&b||b&&!K.isFunction(b)&&b};return d.duration=K.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in K.fx.speeds?K.fx.speeds[d.duration]:K.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(a){K.isFunction(d.old)&&d.old.call(this),d.queue?K.dequeue(this,d.queue):a!==!1&&K._unmark(this)},d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),K.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(K.fx.step[this.prop]||K.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var a,b=K.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?b&&"auto"!==b?b:0:a},custom:function(a,c,d){function e(a){return f.step(a)}var f=this,g=K.fx;this.startTime=rc||C(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(K.cssNumber[this.prop]?"":"px"),e.queue=this.options.queue,e.elem=this.elem,e.saveState=function(){f.options.hide&&K._data(f.elem,"fxshow"+f.prop)===b&&K._data(f.elem,"fxshow"+f.prop,f.start)},e()&&K.timers.push(e)&&!qc&&(qc=setInterval(g.tick,g.interval))},show:function(){var a=K._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||K.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),K(this.elem).show()},hide:function(){this.options.orig[this.prop]=K._data(this.elem,"fxshow"+this.prop)||K.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c=rc||C(),d=!0,e=this.elem,f=this.options;if(a||c>=f.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),f.animatedProperties[this.prop]=!0;for(b in f.animatedProperties)f.animatedProperties[b]!==!0&&(d=!1);if(d){if(null!=f.overflow&&!K.support.shrinkWrapBlocks&&K.each(["","X","Y"],function(a,b){e.style["overflow"+b]=f.overflow[a]}),f.hide&&K(e).hide(),f.hide||f.show)for(b in f.animatedProperties)K.style(e,b,f.orig[b]),K.removeData(e,"fxshow"+b,!0),K.removeData(e,"toggle"+b,!0);(a=f.complete)&&(f.complete=!1,a.call(e))}return!1}return 1/0==f.duration?this.now=c:(a=c-this.startTime,this.state=a/f.duration,this.pos=K.easing[f.animatedProperties[this.prop]](this.state,a,0,1,f.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},K.extend(K.fx,{tick:function(){for(var a,b=K.timers,c=0;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||K.fx.stop()},interval:13,stop:function(){clearInterval(qc),qc=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){K.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&null!=a.elem.style[a.prop]?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),K.each(["width","height"],function(a,b){K.fx.step[b]=function(a){K.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),K.expr&&K.expr.filters&&(K.expr.filters.animated=function(a){return K.grep(K.timers,function(b){return a===b.elem}).length});var wc=/^t(?:able|d|h)$/i,xc=/^(?:body|html)$/i;K.fn.offset="getBoundingClientRect"in H.documentElement?function(a){var b,c=this[0];if(a)return this.each(function(b){K.offset.setOffset(this,a,b)});if(!c||!c.ownerDocument)return null;if(c===c.ownerDocument.body)return K.offset.bodyOffset(c);try{b=c.getBoundingClientRect()}catch(d){}var e=c.ownerDocument,f=e.documentElement;return b&&K.contains(f,c)?(c=e.body,e=G(e),{top:b.top+(e.pageYOffset||K.support.boxModel&&f.scrollTop||c.scrollTop)-(f.clientTop||c.clientTop||0),left:b.left+(e.pageXOffset||K.support.boxModel&&f.scrollLeft||c.scrollLeft)-(f.clientLeft||c.clientLeft||0)}):b?{top:b.top,left:b.left}:{top:0,left:0}}:function(a){var b=this[0];if(a)return this.each(function(b){K.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return K.offset.bodyOffset(b);var c,d=b.offsetParent,e=b,f=b.ownerDocument,g=f.documentElement,h=f.body;c=(f=f.defaultView)?f.getComputedStyle(b,null):b.currentStyle;for(var i=b.offsetTop,j=b.offsetLeft;(b=b.parentNode)&&b!==h&&b!==g&&(!K.support.fixedPosition||"fixed"!==c.position);)c=f?f.getComputedStyle(b,null):b.currentStyle,i-=b.scrollTop,j-=b.scrollLeft,b===d&&(i+=b.offsetTop,j+=b.offsetLeft,!K.support.doesNotAddBorder||K.support.doesAddBorderForTableAndCells&&wc.test(b.nodeName)||(i+=parseFloat(c.borderTopWidth)||0,j+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),K.support.subtractsBorderForOverflowNotVisible&&"visible"!==c.overflow&&(i+=parseFloat(c.borderTopWidth)||0,j+=parseFloat(c.borderLeftWidth)||0),c=c;
return("relative"===c.position||"static"===c.position)&&(i+=h.offsetTop,j+=h.offsetLeft),K.support.fixedPosition&&"fixed"===c.position&&(i+=Math.max(g.scrollTop,h.scrollTop),j+=Math.max(g.scrollLeft,h.scrollLeft)),{top:i,left:j}},K.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return K.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(K.css(a,"marginTop"))||0,c+=parseFloat(K.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=K.css(a,"position");"static"===d&&(a.style.position="relative");var e=K(a),f=e.offset(),g=K.css(a,"top"),h=K.css(a,"left"),i={},j={};("absolute"===d||"fixed"===d)&&K.inArray("auto",[g,h])>-1?(j=e.position(),d=j.top,h=j.left):(d=parseFloat(g)||0,h=parseFloat(h)||0),K.isFunction(b)&&(b=b.call(a,c,f)),null!=b.top&&(i.top=b.top-f.top+d),null!=b.left&&(i.left=b.left-f.left+h),"using"in b?b.using.call(a,i):e.css(i)}},K.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=xc.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(K.css(a,"marginTop"))||0,c.left-=parseFloat(K.css(a,"marginLeft"))||0,d.top+=parseFloat(K.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(K.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||H.body;a&&!xc.test(a.nodeName)&&"static"===K.css(a,"position");)a=a.offsetParent;return a})}}),K.each(["Left","Top"],function(a,c){var d="scroll"+c;K.fn[d]=function(c){var e,f;return c===b?(e=this[0],e?(f=G(e))?"pageXOffset"in f?f[a?"pageYOffset":"pageXOffset"]:K.support.boxModel&&f.document.documentElement[d]||f.document.body[d]:e[d]:null):this.each(function(){(f=G(this))?f.scrollTo(a?K(f).scrollLeft():c,a?c:K(f).scrollTop()):this[d]=c})}}),K.each(["Height","Width"],function(a,c){var d=c.toLowerCase();K.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(K.css(a,d,"padding")):this[d]():null},K.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(K.css(b,d,a?"margin":"border")):this[d]():null},K.fn[d]=function(a){var e=this[0];if(!e)return null==a?null:this;if(K.isFunction(a))return this.each(function(b){var c=K(this);c[d](a.call(this,b,c[d]()))});if(K.isWindow(e)){var f=e.document.documentElement["client"+c],g=e.document.body;return"CSS1Compat"===e.document.compatMode&&f||g&&g["client"+c]||f}return 9===e.nodeType?Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]):a===b?(e=K.css(e,d),f=parseFloat(e),K.isNumeric(f)?f:e):this.css(d,"string"==typeof a?a:a+"px")}}),a.jQuery=a.$=K,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return K})}(window),steal.loaded("jquery/jquery.js"),steal("jquery/class").then(function(){var a=$.isArray,b=function(a){return"object"==typeof a&&null!==a&&a},c=$.makeArray,d=$.each,e=function(b,c,d){return b instanceof $.Observe?f([b],d._namespace):b=a(b)?new $.Observe.List(b):new $.Observe(b),b.bind("change"+d._namespace,function(a){var e=$.makeArray(arguments);a=e.shift(),e[0]="*"===c?d.indexOf(b)+"."+e[0]:c+"."+e[0],$.event.trigger(a,e,d)}),b},f=function(a,b){for(var c,d=0;d<a.length;d++)(c=a[d])&&c.unbind&&c.unbind("change"+b)},g=0,h=null,i=function(){return h?void 0:(h=[],!0)},j=function(a,b,c){if(!a._init){if(!h)return $.event.trigger(b,c,a,!0);h.push({t:a,ev:b,args:c})}},k=0,l=function(){var a,b=h.length,c=h.slice(0);h=null,k++;for(var d=0;b>d;d++)a=c[d],$.event.trigger({type:a.ev,batchNum:k},a.args,a.t)},m=function(a,c,d){return a.each(function(a,e){d[a]=b(e)&&"function"==typeof e[c]?e[c]():e}),d};$.Class("jQuery.Observe",{init:function(a){this._data={},this._namespace=".observe"+ ++g,this._init=!0,this.attrs(a),delete this._init},attr:function(a,b){return void 0===b?this._get(a):(this._set(a,b),this)},each:function(){return d.apply(null,[this.__get()].concat(c(arguments)))},removeAttr:function(b){b=a(b)?b:b.split(".");var c=b.shift(),d=this._data[c];return b.length?d.removeAttr(b):(delete this._data[c],j(this,"change",[c,"remove",void 0,d]),d)},_get:function(b){b=a(b)?b:(""+b).split(".");var c=this.__get(b.shift());return b.length?c?c._get(b):void 0:c},__get:function(a){return a?this._data[a]:this._data},_set:function(c,d){var g=a(c)?c:(""+c).split(".");c=g.shift();var h=this.__get(c);if(b(h)&&g.length)h._set(g,d);else{if(g.length)throw"jQuery.Observe: set a property on an object that does not exist";d!==h&&(g=this.__get().hasOwnProperty(c)?"set":"add",this.__set(c,b(d)?e(d,c,this):d),j(this,"change",[c,g,d,h]),h&&f([h],this._namespace))}},__set:function(a,b){this._data[a]=b,a in this.constructor.prototype||(this[a]=b)},bind:function(){return $.fn.bind.apply($([this]),arguments),this},unbind:function(){return $.fn.unbind.apply($([this]),arguments),this},serialize:function(){return m(this,"serialize",{})},attrs:function(a,c){if(void 0===a)return m(this,"attrs",{});a=$.extend(!0,{},a);var d,e=i();for(d in this._data){var f=this._data[d],g=a[d];void 0===g?c&&this.removeAttr(d):(b(f)&&b(g)?f.attrs(g,c):f!=g&&this._set(d,g),delete a[d])}for(d in a)g=a[d],this._set(d,g);e&&l()}});var n=jQuery.Observe("jQuery.Observe.List",{init:function(a,b){this.length=0,this._namespace=".list"+ ++g,this._init=!0,this.bind("change",this.proxy("_changes")),this.push.apply(this,c(a||[])),$.extend(this,b),this.comparator&&this.sort(),delete this._init},_changes:function(a,b,c,d,e){if(this.comparator&&/^\d+./.test(b)){var f=+/^\d+/.exec(b)[0],g=this[f],h=this.sortedIndex(g);if(h!==f)return[].splice.call(this,f,1),[].splice.call(this,h,0,g),j(this,"move",[g,h,f]),a.stopImmediatePropagation(),j(this,"change",[b.replace(/^\d+/,h),c,d,e]),void 0}-1===b.indexOf(".")&&("add"===c?j(this,c,[d,+b]):"remove"===c&&j(this,c,[e,+b]))},sortedIndex:function(a){var b,c=a.attr(this.comparator),d=0;for(b=0;b<this.length;b++)if(a===this[b])d=-1;else if(c<=this[b].attr(this.comparator))return b+d;return b+d},__get:function(a){return a?this[a]:this},__set:function(a,b){this[a]=b},serialize:function(){return m(this,"serialize",[])},splice:function(a,d){var g,h=c(arguments);for(g=2;g<h.length;g++){var i=h[g];b(i)&&(h[g]=e(i,"*",this))}return void 0===d&&(d=h[1]=this.length-a),g=[].splice.apply(this,h),d>0&&(j(this,"change",[""+a,"remove",void 0,g]),f(g,this._namespace)),h.length>2&&j(this,"change",[""+a,"add",h.slice(2),g]),g},attrs:function(a,c){if(void 0===a)return m(this,"attrs",[]);a=a.slice(0);for(var d=Math.min(a.length,this.length),e=i(),f=0;d>f;f++){var g=this[f],h=a[f];b(g)&&b(h)?g.attrs(h,c):g!=h&&this._set(f,h)}a.length>this.length?this.push(a.slice(this.length)):a.length<this.length&&c&&this.splice(a.length),e&&l()},sort:function(a,b){var c=this.comparator;[].sort.apply(this,c?[function(a,b){return a=a[c],b=b[c],a===b?0:b>a?-1:1}]:[]),!b&&j(this,"reset")}}),o=function(a){return a[0]&&$.isArray(a[0])?a[0]:c(a)};d({push:"length",unshift:0},function(a,c){n.prototype[a]=function(){for(var d=o(arguments),f=c?this.length:0,g=0;g<d.length;g++){var h=d[g];b(h)&&(d[g]=e(h,"*",this))}return 1==d.length&&this.comparator?(this.splice(this.sortedIndex(d[0]),0,d[0]),this.length):(g=[][a].apply(this,d),this.comparator&&d.length>1?(this.sort(null,!0),j(this,"reset",[d])):j(this,"change",[""+f,"add",d,void 0]),g)}}),d({pop:"length",shift:0},function(a,b){n.prototype[a]=function(){var c=o(arguments),d=b&&this.length?this.length-1:0;return c=[][a].apply(this,c),j(this,"change",[""+d,"remove",void 0,[c]]),c&&c.unbind&&c.unbind("change"+this._namespace),c}}),n.prototype.indexOf=[].indexOf||function(a){return $.inArray(a,this)},$.O=function(b,c){return a(b)||b instanceof $.Observe.List?new $.Observe.List(b,c):new $.Observe(b,c)}}),steal.loaded("jquery/lang/observe/observe.js"),steal("jquery/lang/observe",function(){var a=function(a,b){for(var c,d=a.length,e=0,f=[];d>e;e++){if(c=b[e],"string"!=typeof c)return null;if("**"==a[e])return b.join(".");if("*"==a[e])f.push(c);else{if(c!==a[e])return null;f.push(c)}}return f.join(".")},b=function(b,c,d,e,f){var g,h,i,j,k,l=c.split("."),m=($.data(this,"_observe_delegates")||[]).slice(0);b.attr=c,b.lastAttr=l[l.length-1];for(var n=0;g=m[n++];)if(!(b.batchNum&&g.batchNum===b.batchNum||g.undelegated)){j=void 0,k=!0;for(var o=0;o<g.attrs.length;o++)h=g.attrs[o],(i=a(h.parts,l))&&(j=i),h.value&&k?k=h.value===""+this.attr(h.attr):k&&g.attrs.length>1&&(k=void 0!==this.attr(h.attr));j&&k&&(h=c.replace(j+".",""),b.batchNum&&(g.batchNum=b.batchNum),"change"===g.event?(arguments[1]=h,b.curAttr=j,g.callback.apply(this.attr(j),$.makeArray(arguments))):g.event===d?g.callback.apply(this.attr(j),[b,e,f,h]):"set"===g.event&&"add"==d&&g.callback.apply(this.attr(j),[b,e,f,h]))}};$.extend($.Observe.prototype,{delegate:function(a,c,d){a=$.trim(a);var e=$.data(this,"_observe_delegates")||$.data(this,"_observe_delegates",[]),f=[];return a.replace(/([^\s=]+)=?([^\s]+)?/g,function(a,b,c){f.push({attr:b,parts:b.split("."),value:c})}),e.push({selector:a,attrs:f,callback:d,event:c}),1===e.length&&this.bind("change",b),this},undelegate:function(a,c,d){a=$.trim(a),c=0;var e,f=$.data(this,"_observe_delegates")||[];if(a)for(;c<f.length;)e=f[c],e.callback===d||!d&&e.selector===a?(e.undelegated=!0,f.splice(c,1)):c++;else f=[];return f.length||($.removeData(this,"_observe_delegates"),this.unbind("change",b)),this}}),$.Observe.prototype.delegate.matches=a}),steal.loaded("jquery/lang/observe/delegate/delegate.js"),steal("jquery/event/livehack").then(function(a){var b="ontouchend"in document,c=b?"touchend":"mouseup",d=function(b){var c=b.originalEvent.touches?b.originalEvent.touches[0]||b.originalEvent.changedTouches[0]:b;return{time:(new Date).getTime(),coords:[c.pageX,c.pageY],origin:a(b.target)}};a.event.setupHelper(["tap"],b?"touchstart":"mousedown",function(b){function e(c){f=d(c),Math.abs(g.coords[0]-f.coords[0])<10&&Math.abs(g.coords[1]-f.coords[1])<10&&a.each(a.event.find(h,["tap"],i),function(){this.call(j,b,{start:g,end:f})})}var f,g=d(b),h=b.delegateTarget||b.currentTarget,i=b.handleObj.selector,j=this;setTimeout(function(){a(h).unbind(c,e)},500),a(h).one(c,e)})}),steal.loaded("jquery/event/tap/tap.js"),steal("jquery/event/livehack").then(function(a){var b=!/Phantom/.test(navigator.userAgent)&&"ontouchend"in document,c=b?"touchstart":"mousedown",d=b?"touchend":"mouseup",e=b?"touchmove":"mousemove",f=function(b){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b;return{time:(new Date).getTime(),coords:[c.pageX,c.pageY],origin:a(b.target)}},g=a.event.swipe={delay:500,max:75,min:30};a.event.setupHelper(["swipe","swipeleft","swiperight","swipeup","swipedown"],c,function(b){function c(a){i&&(h=f(a),Math.abs(i.coords[0]-h.coords[0])>10&&a.preventDefault())}var h,i=f(b),j=b.delegateTarget||b.currentTarget,k=b.handleObj.selector,l=this;a(document.documentElement).bind(e,c).one(d,function(){if(a(this).unbind(e,c),i&&h){var d=Math.abs(i.coords[0]-h.coords[0]),f=Math.abs(i.coords[1]-h.coords[1]),m=Math.sqrt(d*d+f*f);h.time-i.time<g.delay&&m>=g.min&&(m=["swipe"],d>=g.min&&f<g.min?m.push(i.coords[0]>h.coords[0]?"swipeleft":"swiperight"):f>=g.min&&d<g.min&&m.push(i.coords[1]<h.coords[1]?"swipedown":"swipeup"),a.each(a.event.find(j,m,k),function(){this.call(l,b,{start:i,end:h})}))}i=h=void 0})})}),steal.loaded("jquery/event/swipe/swipe.js"),steal("jquery/class","jquery/lang/string",function(){var a=$.String,b=a.getObject,c=a.underscore,d=a.classize,e=$.isArray,f=$.makeArray,g=$.extend,h=$.each,i=function(a,b,c){$.event.trigger(b,c,a,!0)},j=function(b,c,d,f,h,i,j){if("string"==typeof b){var k=b.indexOf(" ");b=k>-1?{url:b.substr(k+1),type:b.substr(0,k)}:{url:b}}return b.data="object"!=typeof c||e(c)?c:g(b.data||{},c),b.url=a.sub(b.url,b.data,!0),$.ajax(g({type:i||"post",dataType:j||"json",fixture:h,success:d,error:f},b))},k=function(a,b,d){var e=c(a.shortName),f="-"+e+(b||"");return $.fixture&&$.fixture[f]?f:d||"//"+c(a.fullName).replace(/\.models\..*/,"").replace(/\./g,"/")+"/fixtures/"+e+(b||"")+".json"},l=function(b,c,d){return c=c||{},b=b.id,c[b]&&c[b]!==d&&(c["new"+a.capitalize(d)]=c[b],delete c[b]),c[b]=d,c},m=function(a){return new(a||$.Model.List||Array)},n=function(a){return a[a.constructor.id]},o=function(a){var b=[];return h(a,function(a,c){c["__u Nique"]||(b.push(c),c["__u Nique"]=1)}),h(b,function(a,b){delete b["__u Nique"]})},p=function(a,b,c,d,e){var f,g=$.Deferred(),h=[a.serialize(),function(c){a[e||b+"d"](c),g.resolveWith(a,[a,c,b])},function(b){g.rejectWith(a,[b])}],i=a.constructor,j=g.promise();return"destroy"==b&&h.shift(),"create"!==b&&h.unshift(n(a)),g.then(c),g.fail(d),(f=i[b].apply(i,h))&&f.abort&&(j.abort=function(){f.abort()}),j},q=function(a){return"object"==typeof a&&null!==a&&a},r=function(a){return function(){return $.fn[a].apply($([this]),arguments)}},s=r("bind");r=r("unbind"),ajaxMethods={create:function(a){return function(b,c,d){return j(a||this._shortName,b,c,d,k(this,"Create","-restCreate"))}},update:function(a){return function(b,c,d,e){return j(a||this._shortName+"/{"+this.id+"}",l(this,c,b),d,e,k(this,"Update","-restUpdate"),"put")}},destroy:function(a){return function(b,c,d){var e={};return e[this.id]=b,j(a||this._shortName+"/{"+this.id+"}",e,c,d,k(this,"Destroy","-restDestroy"),"delete")}},findAll:function(a){return function(b,c,d){return j(a||this._shortName,b,c,d,k(this,"s"),"get","json "+this._shortName+".models")}},findOne:function(a){return function(b,c,d){return j(a||this._shortName+"/{"+this.id+"}",b,c,d,k(this),"get","json "+this._shortName+".model")}}},jQuery.Class("jQuery.Model",{setup:function(a){var b=this,d=this.fullName;if(h(["attributes","validations"],function(c,d){b[d]&&a[d]!==b[d]||(b[d]={})}),h(["convert","serialize"],function(c,d){a[d]!=b[d]&&(b[d]=g({},a[d],b[d]))}),this._fullName=c(d.replace(/\./g,"_")),this._shortName=c(this.shortName),0!=d.indexOf("jQuery")){this.listType&&(this.list=new this.listType([])),h(ajaxMethods,function(a,c){var d=b[a];"function"!=typeof d&&(b[a]=c(d))}),d={};var e="* "+this._shortName+".model";d[e+"s"]=this.proxy("models"),d[e]=this.proxy("model"),$.ajaxSetup({converters:d})}},attributes:{},model:function(a){return a?(a instanceof this&&(a=a.serialize()),new this(q(a[this._shortName])||q(a.data)||q(a.attributes)||a)):null},models:function(a){if(!a)return null;var b=m(this.List),c=e(a),d=$.Model.List;d=d&&a instanceof d;for(var f=(d=c?a:d?a.serialize():a.data)?d.length:null,g=0;f>g;g++)b.push(this.model(d[g]));return c||h(a,function(a,c){"data"!==a&&(b[a]=c)}),b},id:"id",addAttr:function(a,b){var c=this.attributes;return c[a]||(c[a]=b),b},convert:{date:function(a){var b=typeof a;return"string"===b?isNaN(Date.parse(a))?null:Date.parse(a):"number"===b?new Date(a):a},number:function(a){return parseFloat(a)},"boolean":function(a){return Boolean("false"===a?0:a)},"default":function(a,c,d){c=b(d);var e=window;return d.indexOf(".")>=0&&(d=d.substring(0,d.lastIndexOf(".")),e=b(d)),"function"==typeof c?c.call(e,a):a}},serialize:{"default":function(a){return q(a)&&a.serialize?a.serialize():a},date:function(a){return a&&a.getTime()}},bind:s,unbind:r,_ajax:j},{setup:function(a){this._init=!0,this.attrs(g({},this.constructor.defaults,a)),delete this._init},update:function(a,b,c){return this.attrs(a),this.save(b,c)},errors:function(a){a&&(a=e(a)?a:f(arguments));var b={},c=this,d=function(a,d){h(d,function(d,e){(d=e.call(c))&&(b[a]||(b[a]=[]),b[a].push(d))})},g=this.constructor.validations;return h(a||g||{},function(a,b){"number"==typeof a&&(a=b,b=g[a]),d(a,b||[])}),$.isEmptyObject(b)?null:b},attr:function(a,b,c,e){var f=d(a),g="get"+f;if(void 0!==b){f="set"+f,g=this[a];var h=this,j=function(b){e&&e.call(h,b),i(h,"error."+a,b)};if(this[f]&&void 0===(b=this[f](b,this.proxy("_updateProperty",a,b,g,c,j),j)))return;return this._updateProperty(a,b,g,c,j),this}return this[g]?this[g]():this[a]},bind:s,unbind:r,_updateProperty:function(a,b,c,d,e){var f=this.constructor,g=f.attributes[a]||f.addAttr(a,"string"),h=f.convert[g]||f.convert["default"],j=null,k="",l="updated.";d=d;var m=f.list;b=this[a]=null===b?null:h.call(f,b,function(){},g),this._init||(j=this.errors(a)),g=[b],h=[a,b,c],j&&(k=l="error.",d=e,h.splice(1,0,j),g.unshift(j)),c===b||this._init||(!j&&i(this,k+a,g),i(this,l+"attr",h)),d&&d.apply(this,g),a===f.id&&null!==b&&m&&(c?c!=b&&(m.remove(c),m.push(this)):m.push(this))},removeAttr:function(a){var b=this[a],c=!1,d=this.constructor.attributes;this[a]&&delete this[a],d[a]&&(delete d[a],c=!0),!this._init&&c&&b&&i(this,"updated.attr",[a,null,b])},attrs:function(a){var b,c=this.constructor,d=c.attributes;if(a){c=c.id;for(b in a)b!=c&&this.attr(b,a[b]);c in a&&this.attr(c,a[c])}else{a={};for(b in d)d.hasOwnProperty(b)&&(a[b]=this.attr(b))}return a},serialize:function(){var a,b,c,d=this.constructor,e=d.attributes,f={};attributes={};for(c in e)e.hasOwnProperty(c)&&(a=e[c],b=d.serialize[a]||d.serialize["default"],f[c]=b.call(d,this[c],a));return f},isNew:function(){var a=n(this);return void 0===a||null===a||""===a},save:function(a,b){return p(this,this.isNew()?"create":"update",a,b)},destroy:function(a,b){return p(this,"destroy",a,b,"destroyed")},identity:function(){var a=n(this),b=this.constructor;return(b._fullName+"_"+(b.escapeIdentity?encodeURIComponent(a):a)).replace(/ /g,"_")},elements:function(a){var b=this.identity();return this.constructor.escapeIdentity&&(b=b.replace(/([ #;&,.+*~\'%:"!^$[\]()=>|\/])/g,"\\$1")),$("."+b,a)},hookup:function(a){var b=this.constructor._shortName,c=$.data(a,"models")||$.data(a,"models",{});$(a).addClass(b+" "+this.identity()),c[b]=this}}),h(["created","updated","destroyed"],function(a,b){$.Model.prototype[b]=function(a){var c=this.constructor;return"destroyed"===b&&c.list&&c.list.remove(n(this)),a&&"object"==typeof a&&this.attrs(a.attrs?a.attrs():a),i(this,b),i(c,b,this),[this].concat(f(arguments))}}),$.fn.models=function(){var a,b,c=[];return this.each(function(){h($.data(this,"models")||{},function(b,d){a=void 0===a?d.constructor.List||null:d.constructor.List===a?a:null,c.push(d)})}),b=m(a),b.push.apply(b,o(c)),b},$.fn.model=function(a){return a&&a instanceof $.Model?(a.hookup(this[0]),this):this.models.apply(this,arguments)[0]}}),steal.loaded("jquery/model/model.js"),steal("jquery/model").then(function(a){var b=function(b){return b[0]&&a.isArray(b[0])?b[0]:b[0]instanceof a.Model.List?a.makeArray(b[0]):a.makeArray(b)},c=0,d=function(a){return a[a.constructor.id]},e=jQuery.expando,f=a.each,g=a.Model._ajax,h={update:function(a){return function(b,c,d,e){return g(a,{ids:b,attrs:c},d,e,"-updateAll","put")}},destroy:function(a){return function(b,c,d){return g(a,b,c,d,"-destroyAll","post")}}};a.Class("jQuery.Model.List",{setup:function(){for(var a in h)"function"!=typeof this[a]&&(this[a]=h[a](this[a]))}},{init:function(b){this.length=0,this._data={},this._namespace=".list"+ ++c,this.push.apply(this,a.makeArray(b||[]))},slice:function(){return new this.Class(Array.prototype.slice.apply(this,arguments))},match:function(a,b){return this.grep(function(c){return c[a]==b})},grep:function(b,c){return new this.Class(a.grep(this,b,c))},_makeData:function(){var a=this._data={};this.each(function(b,c){a[c[c.constructor.id]]=c})},get:function(){if(!this.length)return new this.Class([]);this._changed&&this._makeData();var a=[],c=this[0].constructor,d=c.id;c=new RegExp(c._fullName+"_([^ ]+)");for(var e,f,g=b(arguments),h=0;h<g.length;h++)(f=g[h].nodeName&&(e=g[h].className.match(c))?this._data[e[1]]:this._data["string"==typeof g[h]||"number"==typeof g[h]?g[h]:g[h][d]])&&a.push(f);return new this.Class(a)},remove:function(c){if(!this.length)return[];var d=[],e=this[0].constructor,f=e.id;e=new RegExp(e._fullName+"_([^ ]+)");var g;c=b(arguments);for(var h=0;h<this.length;){for(var i=this[h],j=!1,k=0;k<c.length;k++){var l=c[k].nodeName&&(g=c[k].className.match(e))&&g[1]||("string"==typeof c[k]||"number"==typeof c[k]?c[k]:c[k][f]);if(i[f]==l){d.push.apply(d,this.splice(h,1)),c.splice(k,1),j=!0;break}}j||h++}return d=new this.Class(d),d.length&&a([this]).trigger("remove",[d]),d},elements:function(b){return a(this.map(function(a){return"."+a.identity()}).join(","),b)},model:function(){return this.constructor.namespace},findAll:function(a,b,c){var d=this;this.model().findAll(a,function(a){d.push(a),b&&b(d)},c)},destroy:function(a,b){var c=this.map(d),e=this.slice(0,this.length);return c.length?this.constructor.destroy(c,function(){f(e,function(){this.destroyed()}),a&&a(e)},b):a&&a(this),this},update:function(b,c,e){var g=this.map(d),h=this.slice(0,this.length);return g.length?this.constructor.update(g,b,function(d){var e=a.extend(b,d||{});f(h,function(){this.updated(e)}),c&&c(h)},e):c&&c(this),this},bind:function(){return void 0===this[e]&&this.bindings(this),a.fn.bind.apply(a([this]),arguments),this},unbind:function(){return a.fn.unbind.apply(a([this]),arguments),void 0===this[e]&&a(this).unbind(this._namespace),this},bindings:function(b){var c=this;a(b).bind("destroyed"+this._namespace,function(){c.remove(this)}).bind("updated"+this._namespace,function(){a([c]).trigger("updated",this)})},push:function(){var c=b(arguments);void 0!==this[e]&&this.bindings(c),this._changed=!0;var d=i.apply(this,c);return this[e]&&c.length&&a([this]).trigger("add",[c]),d},serialize:function(){return this.map(function(a){return a.serialize()})}});var i=[].push;f({pop:[].pop,shift:[].shift,unshift:[].unshift,splice:[].splice,indexOf:[].indexOf,sort:[].sort,reverse:[].reverse},function(b,c){a.Model.List.prototype[b]=function(){return this._changed=!0,c.apply(this,arguments)}}),f(["each","map"],function(b,c){a.Model.List.prototype[c]=function(b,d){return a[c](this,b,d)}})}),steal.loaded("jquery/model/list/list.js"),steal("jquery/view","jquery/lang/string/rsplit").then(function(a){var b=function(Q){eval(Q)},e=a.String.rsplit,g=a.extend,i=a.isArray,k=/\r\n/g,l=/\r/g,j=/\n/g,v=/\n/,t=/\\/g,z=/"/g,E=/'/g,y=/\t/g,n=/\{/g,s=/\}/g,q=/\s*\(([\$\w]+)\)\s*->([^\n]*)/,B=function(a){return a.replace(t,"\\\\").replace(j,"\\n").replace(z,'\\"').replace(y,"\\t")},I=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(z,"&#34;").replace(E,"&#39;")},L=a.View,A=function(a){var b=a.match(n);return a=a.match(s),(b?b.length:0)-(a?a.length:0)},G=function(a){if(this.constructor!=G){var b=new G(a);return function(a,c){return b.render(a,c)}}"function"==typeof a?this.template={fn:a}:(g(this,G.options,a),this.template=T(this.text,this.type,this.name))};window.jQuery&&(jQuery.EJS=G),G.prototype.render=function(a,b){return a=a||{},this._extra_helpers=b,b=new G.Helpers(a,b||{}),this.template.fn.call(a,a,b)},g(G,{text:function(a){if("string"==typeof a)return a;if(null===a||void 0===a)return"";var b=a.hookup&&function(b,c){a.hookup.call(a,b,c)}||"function"==typeof a&&a||i(a)&&function(b,c){for(var d=0;d<a.length;d++)a[d].hookup?a[d].hookup(b,c):a[d](b,c)};return b?"data-view-id='"+L.hookup(b)+"'":a.toString?a.toString():""},clean:function(a){return"string"==typeof a?I(a):"number"==typeof a?a:G.text(a)},options:{type:"<",ext:".ejs"}});var u=function(a,b,c){b=e(b,v);for(var d=0;d<b.length;d++)S(a,b[d],c)},S=function(a,b,c){a.lines++,b=e(b,a.splitter);for(var d,f=0;f<b.length;f++)d=b[f],null!==d&&c(d,a)},R=function(a,b){var c={};return g(c,{left:a+"%",right:"%"+b,dLeft:a+"%%",dRight:"%%"+b,eeLeft:a+"%==",eLeft:a+"%=",cmnt:a+"%#",scan:u,lines:0}),c.splitter=new RegExp("("+[c.dLeft,c.dRight,c.eeLeft,c.eLeft,c.cmnt,c.left,c.right+"\n",c.right,"\n"].join(")|(").replace(/\[/g,"\\[").replace(/\]/g,"\\]")+")"),c},T=function(a,c,d){a=a.replace(k,"\n").replace(l,"\n"),c=c||"<";var e=new G.Buffer(["var ___v1ew = [];"],[]),f="",g=function(a){e.push("___v1ew.push(",'"',B(a),'");')},h=null,i=function(){f=""},j=[];return u(R(c,"["===c?"]":">"),a||"",function(a,b){if(null===h)switch(a){case"\n":f+="\n",g(f),e.cr(),i();break;case b.left:case b.eLeft:case b.eeLeft:case b.cmnt:h=a,f.length>0&&g(f),i();break;case b.dLeft:f+=b.left;break;default:f+=a}else switch(a){case b.right:switch(h){case b.left:a=A(f),b=j.length&&-1==a?j.pop():";","));"===b&&e.push("return ___v1ew.join('')"),e.push(f,b),1===a&&j.push(";");break;case b.eLeft:(a=A(f))&&j.push("));"),q.test(f)&&(b=f.match(q),f="function(__){var "+b[1]+"=$(__);"+b[2]+"}"),e.push("___v1ew.push(","jQuery.EJS.clean(",f,a?"var ___v1ew = [];":"));");break;case b.eeLeft:(a=A(f))&&j.push("));"),e.push("___v1ew.push(","jQuery.EJS.text(",f,a?"var ___v1ew = [];":"));")}h=null,i();break;case b.dRight:f+=b.right;break;default:f+=a}}),f.length>0&&e.push("___v1ew.push(",'"',B(f)+'");'),a={out:"try { with(_VIEW) { with (_CONTEXT) {"+e.close()+" return ___v1ew.join('')}}}catch(e){e.lineNumber=null;throw e;}"},b.call(a,"this.fn = (function(_CONTEXT,_VIEW){"+a.out+'});\r\n//@ sourceURL="'+d+'.js"'),a};G.Buffer=function(a,b){this.line=[],this.script=[],this.post=b,this.push.apply(this,a)},G.Buffer.prototype={push:function(){this.line.push.apply(this.line,arguments)},cr:function(){this.script.push(this.line.join(""),"\n"),this.line=[]},close:function(){return this.line.length>0&&(this.script.push(this.line.join("")),this.line=[]),this.post.length&&this.push.apply(this,this.post),this.script.push(";"),this.script.join("")}},G.Helpers=function(a,b){this._data=a,this._extras=b,g(this,b)},G.Helpers.prototype={plugin:function(){var b=a.makeArray(arguments),c=b.shift();return function(d){d=a(d),d[c].apply(d,b)}},view:function(a,b,c){return c=c||this._extras,b=b||this._data,L(a,b,c)}},L.register({suffix:"ejs",script:function(a,b){return"jQuery.EJS(function(_CONTEXT,_VIEW) { "+new G({text:b,name:a}).template.out+" })"},renderer:function(a,b){return G({text:b,name:a})}})}),steal.loaded("jquery/view/ejs/ejs.js"),steal("jquery/class","jquery/lang/string","jquery/event/destroyed",function(a){var b,c=function(b,c,d){var e,g=b.bind&&b.unbind?b:a(f(b)?[b]:b);return 0===c.indexOf(">")&&(c=c.substr(1),e=function(a){a.target===b&&d.apply(this,arguments)}),g.bind(c,e||d),function(){g.unbind(c,e||d),b=c=d=e=null}},d=a.makeArray,e=a.isArray,f=a.isFunction,g=a.extend,h=a.String,i=a.each,j=Array.prototype.slice,k=function(b,c,d,e){var g=b.delegate&&b.undelegate?b:a(f(b)?[b]:b);return g.delegate(c,d,e),function(){g.undelegate(c,d,e),g=b=d=e=c=null}},l=function(a,b,d,e){return e?k(a,e,b,d):c(a,b,d)},m=function(b,c){var d="string"==typeof c?b[c]:c;return function(){return b.called=c,d.apply(b,[this.nodeName?a(this):this].concat(j.call(arguments,0)))}},n=/\./g,o=/_?controllers?/gi,p=function(a){return h.underscore(a.replace("jQuery.","").replace(n,"_").replace(o,""))},q=/[^\w]/,r=/\{([^\}]+)\}/g,s=/^(?:(.*?)\s)?([\w\.\:>]+)$/,t=function(b,c){return a.data(b,"controllers",c)};a.Class("jQuery.Controller",{setup:function(){if(this._super.apply(this,arguments),this.shortName&&"jQuery.Controller"!=this.fullName){this._fullName=p(this.fullName),this._shortName=p(this.shortName);var b,c=this,e=this.pluginName||this._fullName;a.fn[e]||(a.fn[e]=function(a){var b=d(arguments),g="string"==typeof a&&f(c.prototype[a]),h=b[0];return this.each(function(){var a=t(this);(a=a&&a[e])?g?a[h].apply(a,b.slice(1)):a.update.apply(a,b):c.newInstance.apply(c,[this].concat(b))})}),this.actions={};for(b in this.prototype)"constructor"!=b&&f(this.prototype[b])&&this._isAction(b)&&(this.actions[b]=this._action(b))}},hookup:function(a){return new this(a)},_isAction:function(b){return q.test(b)?!0:a.inArray(b,this.listensTo)>-1||a.event.special[b]||u[b]},_action:function(a,c){if(r.lastIndex=0,!c&&r.test(a))return null;a=c?h.sub(a,[c,window]):a,c=e(a);var d=(c?a[1]:a).match(s);return{processor:u[d[2]]||b,parts:d,delegate:c?a[0]:void 0}},processors:{},listensTo:[],defaults:{}},{setup:function(b,c){var e=this.constructor;b=("string"==typeof b?a(b):b.jquery?b:[b])[0];var f=e.pluginName||e._fullName;return this.element=a(b).addClass(f),(t(b)||t(b,{}))[f]=this,this.options=g(g(!0,{},e.defaults),c),this.called="init",this.bind(),[this.element,this.options].concat(d(arguments).slice(2))},bind:function(b,c,d){if(void 0===b){this._bindings=[],b=this.constructor,c=this._bindings,d=b.actions;var e=this.element;for(funcName in d)d.hasOwnProperty(funcName)&&(ready=d[funcName]||b._action(funcName,this.options),c.push(ready.processor(ready.delegate||e,ready.parts[2],ready.parts[1],funcName,this)));var f=m(this,"destroy");return e.bind("destroyed",f),c.push(function(b){a(b).unbind("destroyed",f)}),c.length}return"string"==typeof b&&(d=c,c=b,b=this.element),this._binder(b,c,d)},_binder:function(a,b,c,d){return"string"==typeof c&&(c=m(this,c)),this._bindings.push(l(a,b,c,d)),this._bindings.length},_unbind:function(){var a=this.element[0];i(this._bindings,function(b,c){c(a)}),this._bindings=[]},delegate:function(a,b,c,d){return"string"==typeof a&&(d=c,c=b,b=a,a=this.element),this._binder(a,c,d,b)},update:function(a){g(this.options,a),this._unbind(),this.bind()},destroy:function(){if(this._destroyed)throw this.constructor.shortName+" controller already deleted";var b=this.constructor.pluginName||this.constructor._fullName;this._destroyed=!0,this.element.removeClass(b),this._unbind(),delete this._actions,delete this.element.data("controllers")[b],a(this).triggerHandler("destroyed"),this.element=null},find:function(a){return this.element.find(a)},_set_called:!0});var u=a.Controller.processors;b=function(a,b,c,d,e){return l(a,b,m(e,d),c)},i("change click contextmenu dblclick keydown keyup keypress mousedown mousemove mouseout mouseover mouseup reset resize scroll select submit focusin focusout mouseenter mouseleave".split(" "),function(a,c){u[c]=b});var v,w=function(a,b){for(v=0;v<b.length;v++)if("string"==typeof b[v]?a.constructor._shortName==b[v]:a instanceof b[v])return!0;return!1};a.fn.extend({controllers:function(){var b,c,e,f=d(arguments),g=[];return this.each(function(){b=a.data(this,"controllers");for(e in b)b.hasOwnProperty(e)&&(c=b[e],(!f.length||w(c,f))&&g.push(c))}),g},controller:function(){return this.controllers.apply(this,arguments)[0]}})}),steal.loaded("jquery/controller/controller.js"),steal("jquery/controller","jquery/view").then(function(){var a=steal.URI||steal.File;jQuery.Controller.getFolder=function(){return jQuery.String.underscore(this.fullName.replace(/\./g,"/")).replace("/Controllers","")},jQuery.Controller._calculatePosition=function(b,c,d){var e=b.fullName.split("."),f=e.slice(0);f.splice(0,2),f.join("/"),e=(b=e.length>2&&"Controllers"==e[1])?jQuery.String.underscore(e[0]):jQuery.String.underscore(e.join("/")),f=jQuery.String.underscore(f.join("/")).toLowerCase();var g="string"==typeof c&&/\.[\w\d]+$/.test(c)?"":jQuery.View.ext;return"string"==typeof c?"//"!=c.substr(0,2)&&(c="//"+a(e).join("views/"+(-1!==c.indexOf("/")?c:(b?f+"/":"")+c))+g):c||(c="//"+a(e).join("views/"+(b?f+"/":"")+d.replace(/\.|#/g,"").replace(/ /g,"_"))+g),c};var b=function(a){var b={};if(a)if(jQuery.isArray(a))for(var c=0;c<a.length;c++)jQuery.extend(b,a[c]);else jQuery.extend(b,a);else{this._default_helpers&&(b=this._default_helpers),a=window,c=this.constructor.fullName.split(/\./);for(var d=0;d<c.length;d++)a&&("object"==typeof a.Helpers&&jQuery.extend(b,a.Helpers),a=a[c[d]]);a&&"object"==typeof a.Helpers&&jQuery.extend(b,a.Helpers),this._default_helpers=b}return b};jQuery.Controller.prototype.view=function(a,c,d){return"string"==typeof a||d||(d=c,c=a,a=null),a=jQuery.Controller._calculatePosition(this.Class,a,this.called),c=c||this,d=b.call(this,d),jQuery.View(a,c,d)}}),steal.loaded("jquery/controller/view/view.js"),steal("jquery/dom/route","jquery/controller",function(){jQuery.Controller.processors.route=function(a,b,c,d,e){$.route(c||"");var f,g=function(a){$.route.attr("route")!==(c||"")||void 0!==a.batchNum&&a.batchNum===f||(f=a.batchNum,a=$.route.attrs(),delete a.route,e[d](a))};return $.route.bind("change",g),function(){$.route.unbind("change",g)}}}),steal.loaded("jquery/controller/route/route.js"),steal("jquery","jquery/lang/string",function(a){var b=!1,c=a.makeArray,d=a.isFunction,e=a.isArray,f=a.extend,g=a.String.getObject,h=function(a,b){return a.concat(c(b))},i=/xyz/.test(function(){})?/\b_super\b/:/.*/,j=function(a,b,c){c=c||a;
for(var e in a)c[e]=d(a[e])&&d(b[e])&&i.test(a[e])?function(a,c){return function(){var d,e=this._super;return this._super=b[a],d=c.apply(this,arguments),this._super=e,d}}(e,a[e]):a[e]};clss=a.Class=function(){return arguments.length?clss.extend.apply(clss,arguments):void 0},f(clss,{proxy:function(a){var b,d=c(arguments);return a=d.shift(),e(a)||(a=[a]),b=this,function(){for(var c,f,g=h(d,arguments),i=a.length,j=0;i>j;j++)(f=a[j])&&((c="string"==typeof f)&&b._set_called&&(b.called=f),g=(c?b[f]:f).apply(b,g||[]),i-1>j&&(g=!e(g)||g._use_call?[g]:g));return g}},newInstance:function(){var a,b=this.rawInstance();return b.setup&&(a=b.setup.apply(b,arguments)),b.init&&b.init.apply(b,e(a)?a:arguments),b},setup:function(a){return this.defaults=f(!0,{},a.defaults,this.defaults),arguments},rawInstance:function(){b=!0;var a=new this;return b=!1,a},extend:function(a,c,d){function e(){return b?void 0:this.constructor!==e&&arguments.length?arguments.callee.extend.apply(arguments.callee,arguments):this.Class.newInstance.apply(this.Class,arguments)}"string"!=typeof a&&(d=c,c=a,a=null),d||(d=c,c=null),d=d||{};var i,k,l,m,n=this,o=this.prototype;b=!0,m=new this,b=!1,j(d,o,m);for(i in this)this.hasOwnProperty(i)&&(e[i]=this[i]);return j(c,this,e),a&&(l=a.split(/\./),k=l.pop(),l=o=g(l.join("."),window,!0),o[k]=e),f(e,{prototype:m,namespace:l,shortName:k,constructor:e,fullName:a}),e.prototype.Class=e.prototype.constructor=e,k=e.setup.apply(e,h([n],arguments)),e.init&&e.init.apply(e,k||h([n],arguments)),e}}),clss.callback=clss.prototype.callback=clss.prototype.proxy=clss.proxy})(),steal.loaded("jquery/class/class.js"),steal("jquery").then(function(a){var b,c={undHash:/_|-/,colons:/::/,words:/([A-Z]+)([A-Z][a-z])/g,lowUp:/([a-z\d])([A-Z])/g,dash:/([a-z\d])([A-Z])/g,replacer:/\{([^\}]+)\}/g,dot:/\./},d=function(a,b,c){return void 0!==a[b]?a[b]:c&&(a[b]={})},e=function(a){var b=typeof a;return a&&("function"==b||"object"==b)},f=a.String=a.extend(a.String||{},{getObject:b=function(b,f,g){b=b?b.split(c.dot):[];var h,i,j,k=b.length,l=0;if(f=a.isArray(f)?f:[f||window],0==k)return f[0];for(;h=f[l++];){for(j=0;k-1>j&&e(h);j++)h=d(h,b[j],g);if(e(h)&&(i=d(h,b[j],g),void 0!==i))return g===!1&&delete h[b[j]],i}},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},camelize:function(a){return a=f.classize(a),a.charAt(0).toLowerCase()+a.substr(1)},classize:function(a,b){a=a.split(c.undHash);for(var d=0;d<a.length;d++)a[d]=f.capitalize(a[d]);return a.join(b||"")},niceName:function(a){return f.classize(a," ")},underscore:function(a){return a.replace(c.colons,"/").replace(c.words,"$1_$2").replace(c.lowUp,"$1_$2").replace(c.dash,"_").toLowerCase()},sub:function(a,d,f){var g=[];return f="boolean"==typeof f?!f:f,g.push(a.replace(c.replacer,function(a,c){return a=b(c,d,f),e(a)?(g.push(a),""):""+a})),g.length<=1?g[0]:g},_regs:c})}),steal.loaded("jquery/lang/string/string.js"),steal("jquery/event").then(function(){var a=jQuery.event,b=function(a,b,c,d){var e,f,g,h,i,j,k,l;for(e=0;e<b.length;e++)for(f=b[e],h=f.indexOf(".")<0,h||(g=f.split("."),f=g.shift(),k=new RegExp("(^|\\.)"+g.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")),g=(a[f]||[]).slice(0),i=0;i<g.length;i++)j=g[i],(l=h||k.test(j.namespace))&&(d?j.selector===d&&c(f,j.origHandler||j.handler):null===d?c(f,j.origHandler||j.handler,j.selector):j.selector||c(f,j.origHandler||j.handler))};a.find=function(a,c,d){a=($._data(a)||{}).events;var e=[];return a?(b(a,c,function(a,b){e.push(b)},d),e):e},a.findBySelector=function(a,c){a=$._data(a).events;var d={},e=function(a,b,c){a=d[a]||(d[a]={}),(a[b]||(a[b]=[])).push(c)};return a?(b(a,c,function(a,b,c){e(c||"",a,b)},null),d):d},a.supportTouch="ontouchend"in document,$.fn.respondsTo=function(b){return this.length?a.find(this[0],$.isArray(b)?b:[b]).length>0:!1},$.fn.triggerHandled=function(a,b){return a="string"==typeof a?$.Event(a):a,this.trigger(a,b),a.handled},a.setupHelper=function(b,c,d){d||(d=c,c=null);var e=function(e){var f=e.selector||"";f?(e=a.find(this,b,f),e.length||$(this).delegate(f,c,d)):a.find(this,b,f).length||a.add(this,c,d,{selector:f,delegate:this})},f=function(e){var f=e.selector||"";f?(e=a.find(this,b,f),e.length||$(this).undelegate(f,c,d)):a.find(this,b,f).length||a.remove(this,c,d,{selector:f,delegate:this})};$.each(b,function(){a.special[this]={add:e,remove:f,setup:function(){},teardown:function(){}}})}}),steal.loaded("jquery/event/livehack/livehack.js"),steal("jquery"),steal.loaded("jquery/event/event.js"),steal("jquery").then(function(a){var b=function(a){return a.replace(/^\/\//,"").replace(/[\/\.]/g,"_")},c=a.makeArray,d=1,e=a.View=function(b,d,e,f){"function"==typeof e&&(f=e,e=void 0);var k=i(d);if(k.length){var l=a.Deferred();return k.push(g(b,!0)),a.when.apply(a,k).then(function(a){var b=c(arguments),g=b.pop()[0];if(h(d))d=j(a);else for(var i in d)h(d[i])&&(d[i]=j(b.shift()));b=g(d,e),l.resolve(b),f&&f(b)}),l.promise()}var m;return k="function"==typeof f,l=g(b,k),k?(m=l,l.done(function(a){f(a(d,e))})):l.done(function(a){m=a(d,e)}),m},f=function(a,b){if(!a.match(/[^\s]/))throw"$.View ERROR: There is no template or an empty template at "+b},g=function(b,c){return a.ajax({url:b,dataType:"view",async:c})},h=function(b){return b&&a.isFunction(b.always)},i=function(a){var b=[];if(h(a))return[a];for(var c in a)h(a[c])&&b.push(a[c]);return b},j=function(b){return a.isArray(b)&&3===b.length&&"success"===b[1]?b[0]:b};a.ajaxTransport("view",function(c,d){var g=d.url;c=g.match(/\.[\w\d]+$/);var h,i,j,k,l=function(a){return a=h.renderer(j,a),e.cache&&(e.cached[j]=a),{view:a}};if((i=document.getElementById(g))&&(c="."+i.type.match(/\/(x\-)?(.+)/)[2]),c||(c=e.ext,g+=e.ext),j=b(g),g.match(/^\/\//)){var m=g.substr(2);g="undefined"==typeof steal?g="/"+m:steal.root.mapJoin(m)+""}return h=e.types[c],{send:function(b,c){return e.cached[j]?c(200,"success",{view:e.cached[j]}):(i?c(200,"success",l(i.innerHTML)):k=a.ajax({async:d.async,url:g,dataType:"text",error:function(){f("",g),c(404)},success:function(a){f(a,g),c(200,"success",l(a))}}),void 0)},abort:function(){k&&k.abort()}}}),a.extend(e,{hookups:{},hookup:function(a){var b=++d;return e.hookups[b]=a,b},cached:{},cache:!0,register:function(a){this.types["."+a.suffix]=a,window.steal&&steal.type(a.suffix+" view js",function(a,c){var d=e.types["."+a.type],f=b(a.rootSrc+"");a.text=d.script(f,a.text),c()})},types:{},ext:".ejs",registerScript:function(a,b,c){return"$.View.preload('"+b+"',"+e.types["."+a].script(b,c)+");"},preload:function(a,b){e.cached[a]=function(a,c){return b.call(a,a,c)}}}),window.steal&&steal.type("view js",function(a,c){var d=e.types["."+a.type],f=b(a.rootSrc+"");a.text="steal('"+(d.plugin||"jquery/view/"+a.type)+"').then(function($){$.View.preload('"+f+"',"+a.text+");\n})",c()});var k,l,m,n,o,p,q,r={val:!0,text:!0};k=function(b){var d=a.fn[b];a.fn[b]=function(){var a,f,g=c(arguments),i=this;if(h(g[0]))return g[0].done(function(a){l.call(i,[a],d)}),this;if(m(g)){if(a=p(g))return f=g[a],g[a]=function(a){l.call(i,[a],d),f.call(i,a)},e.apply(e,g),this;if(g=e.apply(e,g),h(g))return g.done(function(a){l.call(i,[a],d)}),this;g=[g]}return r[b]?d.apply(this,g):l.call(this,g,d)}},l=function(b,c){var d;for(var f in e.hookups)break;return f&&b[0]&&n(b[0])&&(d=e.hookups,e.hookups={},b[0]=a(b[0])),c=c.apply(this,b),d&&q(b[0],d),c},m=function(a){var b=typeof a[1];return"string"==typeof a[0]&&("object"==b||"function"==b)&&!o(a[1])},o=function(a){return a.nodeType||a.jquery},n=function(b){return o(b)?!0:"string"==typeof b?(b=a.trim(b),"<"===b.substr(0,1)&&">"===b.substr(b.length-1,1)&&b.length>=3):!1},p=function(a){return"function"==typeof a[3]?3:"function"==typeof a[2]&&2},q=function(b,c){var d,f,g,h=0;for(b=b.filter(function(){return 3!=this.nodeType}),b=b.add("[data-view-id]",b),d=b.length;d>h;h++)b[h].getAttribute&&(f=b[h].getAttribute("data-view-id"))&&(g=c[f])&&(g(b[h],f),delete c[f],b[h].removeAttribute("data-view-id"));a.extend(e.hookups,c)},a.fn.hookup=function(){var a=e.hookups;return e.hookups={},q(this,a),this},a.each(["prepend","append","after","before","text","html","replaceWith","val"],function(a,b){k(b)})}),steal.loaded("jquery/view/view.js"),steal("jquery/lang/string",function(a){a.String.rsplit=function(a,b){for(var c,d=b.exec(a),e=[];null!==d;)c=d.index,0!==c&&(e.push(a.substring(0,c)),a=a.slice(c)),e.push(d[0]),a=a.slice(d[0].length),d=b.exec(a);return""!==a&&e.push(a),e}}),steal.loaded("jquery/lang/string/rsplit/rsplit.js"),steal("jquery/event").then(function(a){var b=jQuery.cleanData;a.cleanData=function(c){for(var d,e=0;void 0!==(d=c[e]);e++)a(d).triggerHandler("destroyed");b(c)}}),steal.loaded("jquery/event/destroyed/destroyed.js"),steal("jquery/lang/observe","jquery/event/hashchange","jquery/lang/string/deparam",function(a){var b=/\:([\w\.]+)/g,c=/^(?:&[^=]+=[^&]*)+/,d=function(a){var b=[];return k(a,function(a,c){"className"===a&&(a="class"),c&&b.push(e(a),'="',e(c),'" ')}),b.join("")},e=function(a){return a.replace(/"/g,"&#34;").replace(/'/g,"&#39;")},f=function(a,b){for(var c=0,d=0;d<a.names.length;d++){if(!b.hasOwnProperty(a.names[d]))return-1;c++}return c},g=!0,h=window.location,i=encodeURIComponent,j=decodeURIComponent,k=a.each,l=a.extend;a.route=function(c,d){var e=[],f=c.replace(b,function(a,b){return e.push(b),"([^\\/\\&]*)"});return a.route.routes[c]={test:new RegExp("^"+f+"($|&)"),route:c,names:e,defaults:d||{},length:c.split("/").length},a.route},l(a.route,{param:function(c){var d,e,g=0,h=c.route;if(delete c.route,h&&(d=a.route.routes[h])||k(a.route.routes,function(a,b){e=f(b,c),e>g&&(d=b,g=e)}),d){var j=l({},c);h=d.route.replace(b,function(a,b){return delete j[b],c[b]===d.defaults[b]?"":i(c[b])});var m;return k(d.defaults,function(a,b){j[a]===b&&delete j[a]}),m=a.param(j),h+(m?"&"+m:"")}return a.isEmptyObject(c)?"":"&"+a.param(c)},deparam:function(b){var d={length:-1};if(k(a.route.routes,function(a,c){c.test.test(b)&&c.length>d.length&&(d=c)}),d.length>-1){var e=b.match(d.test),f=e.shift(),g=(f=b.substr(f.length-("&"===e[e.length-1]?1:0)))&&c.test(f)?a.String.deparam(f.slice(1)):{};return g=l(!0,{},d.defaults,g),k(e,function(a,b){b&&"&"!==b&&(g[d.names[a]]=j(b))}),g.route=d.route,g}return"&"!==b.charAt(0)&&(b="&"+b),c.test(b)?a.String.deparam(b.slice(1)):{}},data:new a.Observe({}),routes:{},ready:function(b){return b===!1&&(g=!1),(b===!0||g===!0)&&n(),a.route},url:function(b,c){return c?"#!"+a.route.param(l({},m,b)):"#!"+a.route.param(b)},link:function(b,c,e,f){return"<a "+d(l({href:a.route.url(c,f)},e))+">"+b+"</a>"},current:function(b){return h.hash=="#!"+a.route.param(b)}}),a(function(){a.route.ready()}),k(["bind","unbind","delegate","undelegate","attr","attrs","serialize","removeAttr"],function(b,c){a.route[c]=function(){return a.route.data[c].apply(a.route.data,arguments)}});var m,n=function(){var b="!"===h.hash.substr(1,1)?h.hash.slice(2):h.hash.slice(1);m=a.route.deparam(b),a.route.attrs(m,!0)};a(window).bind("hashchange",n),a.route.bind("change",function(a){var b;return function(){var c=arguments,d=this;clearTimeout(b),b=setTimeout(function(){a.apply(d,c)},1)}}(function(){h.hash="#!"+a.route.param(a.route.serialize())}))}),steal.loaded("jquery/dom/route/route.js"),steal("jquery").then(function(a){function b(a){return a=a||window[e][f],a.replace(/^[^#]*#?(.*)$/,"$1")}var c,d=a.event.special,e="location",f="href",g=document.documentMode,h=a.browser.msie&&(void 0===g||8>g),i="onhashchange"in window&&!h;a.hashchangeDelay=100,d.hashchange=a.extend(d.hashchange,{setup:function(){return i?!1:(a(c.start),void 0)},teardown:function(){return i?!1:(a(c.stop),void 0)}}),c=function(){function c(){i=j=function(a){return a},h&&(g=a('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,j=function(){return b(g.document[e][f])},i=function(a,b){a!==b&&(b=g.document,b.open().close(),b[e].hash="#"+a)},i(b()))}var d,g,i,j,k={};return k.start=function(){if(!d){var g=b();i||c(),navigator.userAgent.match(/Rhino/)||function h(){var c=b(),k=j(g);c!==g?(i(g=c,k),a(window).trigger("hashchange")):k!==g&&(window[e][f]=window[e][f].replace(/#.*/,"")+"#"+k),d=setTimeout(h,a.hashchangeDelay)}()}},k.stop=function(){g||(d&&clearTimeout(d),d=0)},k}()}),steal.loaded("jquery/event/hashchange/hashchange.js"),steal("jquery",function(a){var b=/^\d+$/,c=/([^\[\]]+)|(\[\])/g,d=/\+/g,e=/([^?#]*)(#.*)?$/;a.String=a.extend(a.String||{},{deparam:function(a){if(!a||!e.test(a))return{};var f={};a=a.split("&");for(var g,h=0;h<a.length;h++){g=f;var i=a[h].split("=");2!=i.length&&(i=[i[0],i.slice(1).join("=")]);var j=decodeURIComponent(i[0].replace(d," "));i=decodeURIComponent(i[1].replace(d," ")),j=j.match(c);for(var k=0;k<j.length-1;k++){var l=j[k];g[l]||(g[l]=b.test(j[k+1])||"[]"==j[k+1]?[]:{}),g=g[l]}lastPart=j[j.length-1],"[]"==lastPart?g.push(i):g[lastPart]=i}return f}})}),steal.loaded("jquery/lang/string/deparam/deparam.js"),steal("anddev/core/vendor/modernizr","anddev/core/vendor/underscore"),steal.loaded("anddev/core/vendor/vendor.js"),steal(function(){window.Modernizr=function(a,b,c){function d(a){o.cssText=a}function e(a,b){return d(s.join(a+";")+(b||""))}function f(a,b){return typeof a===b}function g(a,b){return!!~(""+a).indexOf(b)}function h(a,b){for(var d in a){var e=a[d];if(!g(e,"-")&&o[e]!==c)return"pfx"==b?e:!0}return!1}function i(a,b,d){for(var e in a){var g=b[a[e]];if(g!==c)return d===!1?a[e]:f(g,"function")?g.bind(d||b):g}return!1}function j(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+t.join(d+" ")+d).split(" ");return f(b,"string")||f(b,"undefined")?h(e,b):(e=(a+" "+u.join(d+" ")+d).split(" "),i(e,b,c))}function k(){l.input=function(c){for(var d=0,e=c.length;e>d;d++)z[c[d]]=!!(c[d]in p);return z.list&&(z.list=!(!b.createElement("datalist")||!a.HTMLDataListElement)),z}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),l.inputtypes=function(a){for(var d,e,f=0,g=a.length;g>f;f++)p.setAttribute("type",e=a[f]),(d="text"!==p.type)&&(p.value=q,p.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(e)&&p.style.WebkitAppearance!==c?(m.appendChild(p),d=b.defaultView,d=d.getComputedStyle&&"textfield"!==d.getComputedStyle(p,null).WebkitAppearance&&0!==p.offsetHeight,m.removeChild(p)):/^(search|tel)$/.test(e)||(d=/^(url|email)$/.test(e)?p.checkValidity&&p.checkValidity()===!1:p.value!=q)),y[a[f]]=!!d;return y}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var l={},m=b.documentElement,n=b.createElement("modernizr"),o=n.style,p=b.createElement("input"),q=":)",r={}.toString,s=" -webkit- -moz- -o- -ms- ".split(" "),t="Webkit Moz O ms".split(" "),u="Webkit Moz O ms".toLowerCase().split(" "),v={svg:"http://www.w3.org/2000/svg"};n={};var w,x,y={},z={},A=[],B=A.slice,C=function(a,c,d,e){var f,g,h=b.createElement("div"),i=b.body,j=i||b.createElement("body");if(parseInt(d,10))for(;d--;)f=b.createElement("div"),f.id=e?e[d]:"modernizr"+(d+1),h.appendChild(f);return d=['&#173;<style id="smodernizr">',a,"</style>"].join(""),h.id="modernizr",(i?h:j).innerHTML+=d,j.appendChild(h),i||(j.style.background="",j.style.overflow="hidden",g=m.style.overflow,m.style.overflow="hidden",m.appendChild(j)),a=c(h,a),i?h.parentNode.removeChild(h):(j.parentNode.removeChild(j),m.style.overflow=g),!!a},D=function(){function a(a,e){e=e||b.createElement(d[a]||"div"),a="on"+a;var g=a in e;return g||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(a,""),g=f(e[a],"function"),f(e[a],"undefined")||(e[a]=c),e.removeAttribute(a))),g}var d={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return a}(),E={}.hasOwnProperty;x=f(E,"undefined")||f(E.call,"undefined")?function(a,b){return b in a&&f(a.constructor.prototype[b],"undefined")}:function(a,b){return E.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=B.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype,e=new e;var f=b.apply(e,c.concat(B.call(arguments)));return Object(f)===f?f:e}return b.apply(a,c.concat(B.call(arguments)))};return d}),n.flexbox=function(){return j("flexWrap")},n.flexboxlegacy=function(){return j("boxDirection")},n.canvas=function(){var a=b.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},n.canvastext=function(){return!(!l.canvas||!f(b.createElement("canvas").getContext("2d").fillText,"function"))},n.webgl=function(){return!!a.WebGLRenderingContext},n.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:C(["@media (",s.join("touch-enabled),("),"modernizr){#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=9===a.offsetTop}),c},n.geolocation=function(){return"geolocation"in navigator},n.postmessage=function(){return!!a.postMessage},n.websqldatabase=function(){return!!a.openDatabase},n.indexedDB=function(){return!!j("indexedDB",a)},n.hashchange=function(){return D("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},n.history=function(){return!(!a.history||!history.pushState)},n.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},n.websockets=function(){return"WebSocket"in a||"MozWebSocket"in a},n.rgba=function(){return d("background-color:rgba(150,255,150,.5)"),g(o.backgroundColor,"rgba")},n.hsla=function(){return d("background-color:hsla(120,40%,100%,.5)"),g(o.backgroundColor,"rgba")||g(o.backgroundColor,"hsla")},n.multiplebgs=function(){return d("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(o.background)},n.backgroundsize=function(){return j("backgroundSize")},n.borderimage=function(){return j("borderImage")},n.borderradius=function(){return j("borderRadius")},n.boxshadow=function(){return j("boxShadow")},n.textshadow=function(){return""===b.createElement("div").style.textShadow},n.opacity=function(){return e("opacity:.55"),/^0.55$/.test(o.opacity)},n.cssanimations=function(){return j("animationName")},n.csscolumns=function(){return j("columnCount")},n.cssgradients=function(){return d(("background-image:"+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:")+s.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0,-17)),g(o.backgroundImage,"gradient")},n.cssreflections=function(){return j("boxReflect")},n.csstransforms=function(){return!!j("transform")},n.csstransforms3d=function(){var a=!!j("perspective");return a&&"webkitPerspective"in m.style&&C("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b){a=9===b.offsetLeft&&3===b.offsetHeight}),a},n.csstransitions=function(){return j("transition")},n.fontface=function(){var a;return C('@font-face {font-family:"font";src:url("https://")}',function(c,d){c=b.getElementById("smodernizr"),c=(c=c.sheet||c.styleSheet)?c.cssRules&&c.cssRules[0]?c.cssRules[0].cssText:c.cssText||"":"",a=/src/i.test(c)&&0===c.indexOf(d.split(" ")[0])}),a},n.generatedcontent=function(){var a;return C(['#modernizr{font:0/0 a}#modernizr:after{content:"',q,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=b.offsetHeight>=3}),a},n.video=function(){var a=b.createElement("video"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(d){}return c},n.audio=function(){var a=b.createElement("audio"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(d){}return c},n.localstorage=function(){try{return localStorage.setItem("modernizr","modernizr"),localStorage.removeItem("modernizr"),!0}catch(a){return!1}},n.sessionstorage=function(){try{return sessionStorage.setItem("modernizr","modernizr"),sessionStorage.removeItem("modernizr"),!0}catch(a){return!1}},n.webworkers=function(){return!!a.Worker},n.applicationcache=function(){return!!a.applicationCache},n.svg=function(){return!!b.createElementNS&&!!b.createElementNS(v.svg,"svg").createSVGRect},n.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==v.svg},n.smil=function(){return!!b.createElementNS&&/SVGAnimate/.test(r.call(b.createElementNS(v.svg,"animate")))},n.svgclippaths=function(){return!!b.createElementNS&&/SVGClipPath/.test(r.call(b.createElementNS(v.svg,"clipPath")))};for(var F in n)x(n,F)&&(w=F.toLowerCase(),l[w]=n[F](),A.push((l[w]?"":"no-")+w));return l.input||k(),l.addTest=function(a,b){if("object"==typeof a)for(var d in a)x(a,d)&&l.addTest(d,a[d]);else{if(a=a.toLowerCase(),l[a]!==c)return l;b="function"==typeof b?b():b,"undefined"!=typeof enableClasses&&enableClasses&&(m.className+=" "+(b?"":"no-")+a),l[a]=b}return l},d(""),n=p=null,l._version="2.6.2",l._prefixes=s,l._domPrefixes=u,l._cssomPrefixes=t,l.hasEvent=D,l.testProp=function(a){return h([a])},l.testAllProps=j,l.testStyles=C,l.prefixed=function(a,b,c){return b?j(a,b,c):j(a,"pfx")},l}(this,this.document)}),steal.loaded("anddev/core/vendor/modernizr/modernizr.js"),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=d.push,g=d.slice,h=d.concat,i=e.toString,j=e.hasOwnProperty,k=d.forEach,l=d.map,m=d.reduce,n=d.reduceRight,o=d.filter,p=d.every,q=d.some,r=d.indexOf,s=d.lastIndexOf;e=Array.isArray;var t=Object.keys,u=Function.prototype.bind,v=function(a){return a instanceof v?a:this instanceof v?(this._wrapped=a,void 0):new v(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports._=v):a._=v,v.VERSION="1.4.2";var w=v.each=v.forEach=function(a,b,d){if(null!=a)if(k&&a.forEach===k)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(e in a)if(v.has(a,e)&&b.call(d,a[e],e,a)===c)return};v.map=v.collect=function(a,b,c){var d=[];return null==a?d:l&&a.map===l?a.map(b,c):(w(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)},v.reduce=v.foldl=v.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),m&&a.reduce===m)return d&&(b=v.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(w(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError("Reduce of empty array with no initial value");return c},v.reduceRight=v.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduceRight===n)return d&&(b=v.bind(b,d)),arguments.length>2?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=v.keys(a);f=g.length}if(w(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError("Reduce of empty array with no initial value");return c},v.find=v.detect=function(a,b,c){var d;return x(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},v.filter=v.select=function(a,b,c){var d=[];return null==a?d:o&&a.filter===o?a.filter(b,c):(w(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},v.reject=function(a,b,c){var d=[];return null==a?d:(w(a,function(a,e,f){b.call(c,a,e,f)||(d[d.length]=a)}),d)},v.every=v.all=function(a,b,d){b||(b=v.identity);var e=!0;return null==a?e:p&&a.every===p?a.every(b,d):(w(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var x=v.some=v.any=function(a,b,d){b||(b=v.identity);var e=!1;return null==a?e:q&&a.some===q?a.some(b,d):(w(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};v.contains=v.include=function(a,b){var c=!1;return null==a?c:r&&a.indexOf===r?-1!=a.indexOf(b):c=x(a,function(a){return a===b})},v.invoke=function(a,b){var c=g.call(arguments,2);return v.map(a,function(a){return(v.isFunction(b)?b:a[b]).apply(a,c)})},v.pluck=function(a,b){return v.map(a,function(a){return a[b]})},v.where=function(a,b){return v.isEmpty(b)?[]:v.filter(a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},v.max=function(a,b,c){if(!b&&v.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&v.isEmpty(a))return-1/0;var d={computed:-1/0};return w(a,function(a,e,f){e=b?b.call(c,a,e,f):a,e>=d.computed&&(d={value:a,computed:e})}),d.value},v.min=function(a,b,c){if(!b&&v.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&v.isEmpty(a))return 1/0;var d={computed:1/0};return w(a,function(a,e,f){e=b?b.call(c,a,e,f):a,e<d.computed&&(d={value:a,computed:e})}),d.value},v.shuffle=function(a){var b,c=0,d=[];return w(a,function(a){b=v.random(c++),d[c-1]=d[b],d[b]=a}),d};var y=function(a){return v.isFunction(a)?a:function(b){return b[a]}};v.sortBy=function(a,b,c){var d=y(b);return v.pluck(v.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var z=function(a,b,c,d){var e={},f=y(b);return w(a,function(b,g){g=f.call(c,b,g,a),d(e,g,b)}),e};v.groupBy=function(a,b,c){return z(a,b,c,function(a,b,c){(v.has(a,b)?a[b]:a[b]=[]).push(c)})},v.countBy=function(a,b,c){return z(a,b,c,function(a,b){v.has(a,b)||(a[b]=0),a[b]++})},v.sortedIndex=function(a,b,c,d){c=null==c?v.identity:y(c),b=c.call(d,b);for(var e=0,f=a.length;f>e;){var g=e+f>>>1;c.call(d,a[g])<b?e=g+1:f=g}return e},v.toArray=function(a){return a?a.length===+a.length?g.call(a):v.values(a):[]},v.size=function(a){return a.length===+a.length?a.length:v.keys(a).length},v.first=v.head=v.take=function(a,b,c){return null==b||c?a[0]:g.call(a,0,b)},v.initial=function(a,b,c){return g.call(a,0,a.length-(null==b||c?1:b))},v.last=function(a,b,c){return null==b||c?a[a.length-1]:g.call(a,Math.max(a.length-b,0))},v.rest=v.tail=v.drop=function(a,b,c){return g.call(a,null==b||c?1:b)},v.compact=function(a){return v.filter(a,function(a){return!!a})};var A=function(a,b,c){return w(a,function(a){v.isArray(a)?b?f.apply(c,a):A(a,b,c):c.push(a)}),c};v.flatten=function(a,b){return A(a,b,[])},v.without=function(a){return v.difference(a,g.call(arguments,1))},v.uniq=v.unique=function(a,b,c,d){c=c?v.map(a,c,d):a;var e=[],f=[];return w(c,function(c,d){(b?d&&f[f.length-1]===c:v.contains(f,c))||(f.push(c),e.push(a[d]))}),e},v.union=function(){return v.uniq(h.apply(d,arguments))},v.intersection=function(a){var b=g.call(arguments,1);return v.filter(v.uniq(a),function(a){return v.every(b,function(b){return v.indexOf(b,a)>=0})})},v.difference=function(a){var b=h.apply(d,g.call(arguments,1));return v.filter(a,function(a){return!v.contains(b,a)})},v.zip=function(){for(var a=g.call(arguments),b=v.max(v.pluck(a,"length")),c=new Array(b),d=0;b>d;d++)c[d]=v.pluck(a,""+d);return c},v.object=function(a,b){for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},v.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=v.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(r&&a.indexOf===r)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},v.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(s&&a.lastIndexOf===s)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(c=d?c:a.length;c--;)if(a[c]===b)return c;return-1},v.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var B=function(){};v.bind=function(a,b){var c,d;if(a.bind===u&&u)return u.apply(a,g.call(arguments,1));if(!v.isFunction(a))throw new TypeError;return d=g.call(arguments,2),c=function(){if(!(this instanceof c))return a.apply(b,d.concat(g.call(arguments)));B.prototype=a.prototype;var e=new B,f=a.apply(e,d.concat(g.call(arguments)));return Object(f)===f?f:e}},v.bindAll=function(a){var b=g.call(arguments,1);return 0==b.length&&(b=v.functions(a)),w(b,function(b){a[b]=v.bind(a[b],a)}),a},v.memoize=function(a,b){var c={};return b||(b=v.identity),function(){var d=b.apply(this,arguments);return v.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},v.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},v.defer=function(a){return v.delay.apply(v,[a,1].concat(g.call(arguments,1)))},v.throttle=function(a,b){var c,d,e,f,g,h,i=v.debounce(function(){g=f=!1},b);return function(){c=this,d=arguments;var j=function(){e=null,g&&(h=a.apply(c,d)),i()};return e||(e=setTimeout(j,b)),f?g=!0:(f=!0,h=a.apply(c,d)),i(),h}},v.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=c&&!d;return clearTimeout(d),d=setTimeout(function(){d=null,c||(e=a.apply(f,g))},b),h&&(e=a.apply(f,g)),e}},v.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},v.wrap=function(a,b){return function(){var c=[a];return f.apply(c,arguments),b.apply(this,c)}},v.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},v.after=function(a,b){return 0>=a?b():function(){return--a<1?b.apply(this,arguments):void 0}},v.keys=t||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)v.has(a,c)&&(b[b.length]=c);return b},v.values=function(a){var b=[];for(var c in a)v.has(a,c)&&b.push(a[c]);return b},v.pairs=function(a){var b=[];for(var c in a)v.has(a,c)&&b.push([c,a[c]]);return b},v.invert=function(a){var b={};for(var c in a)v.has(a,c)&&(b[a[c]]=c);return b},v.functions=v.methods=function(a){var b=[];for(var c in a)v.isFunction(a[c])&&b.push(c);return b.sort()},v.extend=function(a){return w(g.call(arguments,1),function(b){for(var c in b)a[c]=b[c]}),a},v.pick=function(a){var b={},c=h.apply(d,g.call(arguments,1));return w(c,function(c){c in a&&(b[c]=a[c])}),b},v.omit=function(a){var b={},c=h.apply(d,g.call(arguments,1));for(var e in a)v.contains(c,e)||(b[e]=a[e]);return b},v.defaults=function(a){return w(g.call(arguments,1),function(b){for(var c in b)null==a[c]&&(a[c]=b[c])}),a},v.clone=function(a){return v.isObject(a)?v.isArray(a)?a.slice():v.extend({},a):a},v.tap=function(a,b){return b(a),a};var C=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof v&&(a=a._wrapped),b instanceof v&&(b=b._wrapped);var e=i.call(a);if(e!=i.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;c.push(a),d.push(b),f=0;var g=!0;if("[object Array]"==e){if(f=a.length,g=f==b.length)for(;f--&&(g=C(a[f],b[f],c,d)););}else{e=a.constructor;var h=b.constructor;if(e!==h&&!(v.isFunction(e)&&e instanceof e&&v.isFunction(h)&&h instanceof h))return!1;for(var j in a)if(v.has(a,j)&&(f++,!(g=v.has(b,j)&&C(a[j],b[j],c,d))))break;if(g){for(j in b)if(v.has(b,j)&&!f--)break;g=!f}}return c.pop(),d.pop(),g};v.isEqual=function(a,b){return C(a,b,[],[])},v.isEmpty=function(a){if(null==a)return!0;if(v.isArray(a)||v.isString(a))return 0===a.length;for(var b in a)if(v.has(a,b))return!1;return!0},v.isElement=function(a){return!(!a||1!==a.nodeType)},v.isArray=e||function(a){return"[object Array]"==i.call(a)},v.isObject=function(a){return a===Object(a)},w(["Arguments","Function","String","Number","Date","RegExp"],function(a){v["is"+a]=function(b){return i.call(b)=="[object "+a+"]"}}),v.isArguments(arguments)||(v.isArguments=function(a){return!(!a||!v.has(a,"callee"))}),"function"!=typeof/./&&(v.isFunction=function(a){return"function"==typeof a}),v.isFinite=function(a){return v.isNumber(a)&&isFinite(a)
},v.isNaN=function(a){return v.isNumber(a)&&a!=+a},v.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==i.call(a)},v.isNull=function(a){return null===a},v.isUndefined=function(a){return void 0===a},v.has=function(a,b){return j.call(a,b)},v.noConflict=function(){return a._=b,this},v.identity=function(a){return a},v.times=function(a,b,c){for(var d=0;a>d;d++)b.call(c,d)},v.random=function(a,b){return null==b&&(b=a,a=0),a+(0|Math.random()*(b-a+1))};var D={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};D.unescape=v.invert(D.escape);var E={escape:new RegExp("["+v.keys(D.escape).join("")+"]","g"),unescape:new RegExp("("+v.keys(D.unescape).join("|")+")","g")};v.each(["escape","unescape"],function(a){v[a]=function(b){return null==b?"":(""+b).replace(E[a],function(b){return D[a][b]})}}),v.result=function(a,b){return null==a?null:(b=a[b],v.isFunction(b)?b.call(a):b)},v.mixin=function(a){w(v.functions(a),function(b){var c=v[b]=a[b];v.prototype[b]=function(){var a=[this._wrapped];return f.apply(a,arguments),J.call(this,c.apply(v,a))}})};var F=0;v.uniqueId=function(a){var b=F++;return a?a+b:b},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var G=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\t|\u2028|\u2029/g;v.template=function(a,b,c){c=v.defaults({},c,v.templateSettings);var d=new RegExp([(c.escape||G).source,(c.interpolate||G).source,(c.evaluate||G).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){f+=a.slice(e,h).replace(I,function(a){return"\\"+H[a]}),f+=c?"'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?"'+\n((__t=("+d+"))==null?'':__t)+\n'":g?"';\n"+g+"\n__p+='":"",e=h+b.length}),f+="';\n",c.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(c.variable||"obj","_",f)}catch(h){throw h.source=f,h}return b?g(b,v):(b=function(a){return g.call(this,a,v)},b.source="function("+(c.variable||"obj")+"){\n"+f+"}",b)},v.chain=function(a){return v(a).chain()};var J=function(a){return this._chain?v(a).chain():a};v.mixin(v),w(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];v.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],J.call(this,c)}}),w(["concat","join","slice"],function(a){var b=d[a];v.prototype[a]=function(){return J.call(this,b.apply(this._wrapped,arguments))}}),v.extend(v.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),steal.loaded("anddev/core/vendor/underscore/underscore.js"),steal("jquery").then(function(){$.Model("anddev.Models.Config",{},{}),anddev.config=new anddev.Models.Config(jQuery.extend(!0,{include:[],SI:{url:"pre/si.json",loadingPage:{file:"icons/background.jpg",fadeIn:500,plugin:"siLoadingPage",element:"loadingPage"},switchPresentation:{clip:"icons/clip.png",layout:{clip:{width:48,height:48},list:{width:200}},plugin:"siSwitchPresentation",element:"switchPresentation",limitation:["slidesorter","presentation"]},closeButton:{icon:"icons/close.png",fadeOut:500,layout:{width:32,height:32},plugin:"siCloseButton",element:"closeButton",background:"#000 url('icons/background.jpg')"}},navigation:{name:"default",slides:{data:"pre/slides.json",folder:"pre/slides/%slide.name%/",index:"pre/slide.html"},flows:{list:{}},stage:{layout:{width:1280,height:752}},slider:{layout:{width:1280,height:752},range:{size:5,index:0},animation:!1,selectedSlideID:null,selectedAsset:null,wideContent:!1},menu:{layout:{width:1280,height:100,top:668,left:0},thumbPath:"pre/thumbnails/%slide.name%.png",screenPath:"pre/captures/%slide.name%.png",plugin:"subMenu",subMenuEffect:"slide",subMenuEffectOption:{direction:"down"},subMenuEffectDuration:500,autoHideMenu:{}}},debug:{enabled:!1,helper:!0,host:"int-dev.anddev.asia",port:"8080"},mailing:{mail_from:"si@anddevhealth.com"}},anddev.config||{}))}),steal.loaded("anddev/core/config/config.js"),steal("./loader/loader.js","./storage/storage.js","./custom/custom.js","./debug/debug.js","./memory/memory.js"),steal.loaded("anddev/core/helpers/helpers.js"),steal("jquery","jquery/class").then("anddev/core/helpers/custom/jquery").then("anddev/core/models/file.js").then("anddev/core/models/list/files.js").then(function(a){a.Class.extend("anddev.helpers.loader",{loaded:new anddev.Models.File.List,loading:new anddev.Models.File.List,strict:!1,js:function(a,b){return this.loadone(a,b)},css:function(a,b){return this.loadone(a,b)},loadone:function(b,c){c=c||{};var d={success:c.success||function(){},error:c.error||function(){}};return c=a.removeKeys(c,["success","error","context"]),b=new anddev.Models.File({url:b},c),a.when(b.load()).done(d.success).fail(d.error)},load:function(b,c){var d=this;c=c||null,b=a.makeArray(b),c&&anddev.helpers.memory.release()&&this.loaded.each(function(b,e){e&&-1==a.inArray(e.slide,c.parent.current().requiredRange)&&(a("link[href='"+e.url+"']").remove(),a("script[src='"+e.url+"']").remove(),d.loaded.splice(b,1))}),b=new anddev.Models.File.List(b);var e=b.diff(d.loaded).loadAll(!1,d.loading);return d.loading.merge(b),e.done(function(){d.loaded.merge(b,c),d.loading=d.loading.diff(d.loaded)}),e},reset:function(){return this.loaded.removeAll(),this},baseUrl:function(){var a=window.location.href.match(/([^#]*\/)/);if(!a)throw new Error("can't found absolute base url");return a[1]}(),urlFor:function(a){return this.baseUrl+a},strictMode:function(a){this.strict=a||!0}},{})}),steal.loaded("anddev/core/helpers/loader/loader.js"),steal("jquery/class").then("anddev/core/helpers/custom/failback").then(function(a){a.Class("anddev.Class.Storage",{},{store:window.localStorage,json:window.JSON,separator:"/",identifier:"%base%%s%%name%%s%%key%",init:function(a,b){this.setIdentifier(a,b)},set:function(b,c){return this.store.setItem(this.key(b),a.isPlainObject(c)||a.isArray(c)?this.json.stringify(c):c),this},get:function(b,e){b=this.store.getItem(this.key(b));var g=null;try{g=this.json.parse(b)}catch(i){try{"undefined"==typeof window[b]&&eval("typeof ("+b+") == 'function'")?g=eval("("+b+")"):(g=eval("("+b+")"),a.isPlainObject(g)||(g=b))}catch(k){g=b}}return e?g?a.extend(!0,e,g):e:g},remove:function(a){this.store.removeItem(this.key(a))},has:function(a){return this.store.hasOwnProperty(this.key(a))},key:function(a){return this.identifier.replace(/%key%/g,a)},clear:function(a){a=a||"";var b=new RegExp("^"+this.key(a)+".*$");for(a in this.store)b.test(a)&&this.store.removeItem(a);return this},count:function(){var a=0,b=new RegExp("^"+this.key("")+".*$");for(var c in this.store)a=b.test(c)?a+1:a;return a},setIdentifier:function(a,b){this.identifier=this.identifier.replace(/%s%/g,this.separator).replace(/%base%/g,a).replace(/%name%/g,b)},destroy:function(){this.clear()}})}),steal.loaded("anddev/core/helpers/storage/storage.js"),steal("./failback/failback.js","./jquery/jquery.js","./view/view.js","./modernizr/modernizr.js"),steal.loaded("anddev/core/helpers/custom/custom.js"),steal("jquery/class").then(function(){$.Class("anddev.helpers.debug",{enableWeinre:function(a,b,c){if(a.enabled){var d=$('<div id="config-helper">');a.helper&&(d.css({position:"fixed",bottom:"5px",right:"5px",border:"2px solid #333",borderRadius:"5px",background:"#eee",padding:"5px",opacity:.5}),$("body").append(d));var e=c||"anonymous";b.js("http://"+a.host+":"+a.port+"/target/target-script-min.js#"+e,{success:function(){if(a.helper){var b="http://"+a.host+":"+a.port+"/client/#"+e;d.append($("<span>").css({color:"#090"}).html("weinre config: ")),d.append($('<a target="config" href="'+b+'">').html(b))}},error:function(){d.append($("<span>").css({color:"#900"}).html("weinre server down on "+a.host+":"+a.port))}})}}},{})}),steal.loaded("anddev/core/helpers/debug/debug.js"),steal("jquery/class").then(function(){$.Class("anddev.helpers.memory",{enableRelease:!1,release:function(){if("SI"==anddev.helpers.modernizr.player){var a=anddev.player.memoryInfo();a&&a.responseDatas&&a.responseDatas.length>1&&(a=a.responseDatas[1],a.resident_size&&a.virtual_size&&a.resident_size>a.virtual_size/2&&(this.enableRelease=!0))}return this.enableRelease||!1}},{})}),steal.loaded("anddev/core/helpers/memory/memory.js"),steal("jquery").then(function(){$.isString=function(a){return"string"==typeof a},$.removeKeys=function(a,b){var c={};return b=$.makeArray(b),$.each(a||{},function(a,d){-1==b.indexOf(a)&&(c[a]=d)}),c},$.whenAll=function(){function a(a){return function(b){c[a]=arguments.length>1?$.makeArray(arguments):b,j="rejected"===this.state()?"rejected":j,--g||setTimeout(function(){h.resolveWith(h,c)},0)}}function b(a){return function(b){f[a]=arguments.length>1?$.makeArray(arguments):b,h.notifyWith(i,f)}}for(var c=$.makeArray(arguments),d=0,e=c.length,f=new Array(e),g=e,h=jQuery.Deferred(),i=h.promise(),j="resolved";e>d;d++)c[d]&&c[d].promise&&jQuery.isFunction(c[d].promise)?c[d].promise().done(a(d)).fail(a(d)).progress(b(d)):--g;return g||h.resolveWith(h,c),i}}),steal.loaded("anddev/core/helpers/custom/jquery/jquery.js"),steal("anddev/core/models/iterator.js").then("//anddev/core/helpers/loader/processor/processor","//anddev/core/helpers/loader/processor/javascript","//anddev/core/helpers/loader/processor/stylesheet","//anddev/core/helpers/loader/processor/images","//anddev/core/helpers/loader/processor/fonts").then(function(){anddev.Models.Iterator("anddev.Models.File",{},{patterns:{getExt:/\.([^#^.]+)(#|$)/},processor:null,options:{strict:!1},promise:null,init:function(a,b){$.extend(this.options,b),this.getProcessor()},load:function(){return this.promise=this.getProcessor().load(this.attr("url"))},getProcessor:function(){if(null==this.processor){var a=null,b=this.getType(),c=this.options;if($.each(anddev.Class.Processor,function(d,e){e.support(b)&&(a=new e(c))}),null==(this.processor=a))throw new Error("no processor available for file "+this.attr("url")+", type "+b)}return this.processor},getType:function(){var a=this.attr("url").match(this.patterns.getExt);return a&&a.length>1?a[1].toLowerCase():""}})}),steal.loaded("anddev/core/models/file.js"),steal("jquery","jquery/model").then(function(){$.Model("anddev.Models.Iterator",{},{init:function(){this.attr("selected",!1)},select:function(){return this.attr("selected",!0),$([this.parent]).trigger("model:selected",[this].concat($.makeArray(arguments))),this},unselect:function(a){return this.attr("selected",!1),$([this.parent]).trigger("model:unselected",[this,a]),this},isSelected:function(){return this.attr("selected")},match:function(a){var b=!0;for(var c in a)b=this[c]!=a[c]?!1:b;return b},on:function(a,b,c){try{this.bind(a,function(){b.apply(c||this,jQuery.makeArray(arguments))})}catch(d){console.error(d)}},off:function(a){this.unbind(a)},clear:function(){var a=this.attrs(),b=this;$.each(a,function(a){b.removeAttr(a)})},destroy:function(){this.unbind(),this.clear()}})}),steal.loaded("anddev/core/models/iterator.js"),steal("jquery","jquery/class").then(function(a){a.Class.extend("anddev.Class.Processor.Base",{supported:[],support:function(a){return this.supported.indexOf(a)>-1}},{init:function(b){this.deferred=new a.Deferred,this.promise=this.deferred.promise(),a.extend(this.options,b)},include:function(){throw new Error("include method of anddev.Class.Processor.Base is defined has abstract")},load:function(){throw new Error("load method of anddev.Class.Processor.Base is defined has abstract")},fireSuccess:function(){this.deferred.resolve.apply(this.deferred,a.makeArray(arguments))},fireError:function(){this.deferred.reject.apply(this.deferred,a.makeArray(arguments))}})}),steal.loaded("anddev/core/helpers/loader/processor/processor.js"),steal("./processor.js").then(function(){anddev.Class.Processor.Base.extend("anddev.Class.Processor.JS",{supported:["js"]},{include:function(a){var b=this,c=document.createElement("script");return c.type="text/javascript",c.src=a,c.onload=function(){b.fireSuccess(a)},c.onerror=function(){b.fireError(a)},document.getElementsByTagName("head")[0].appendChild(c),this.deferred.promise()},load:function(a){return this.include(a)}})}),steal.loaded("anddev/core/helpers/loader/processor/javascript.js"),steal("./processor.js").then(function(a){anddev.Class.Processor.Base.extend("anddev.Class.Processor.CSS",{supported:["css"]},{init:function(){this.options={strict:!1},this._super.apply(this,jQuery.makeArray(arguments))},patterns:{image:/[^\('"]+\.(gif|jpg|jpeg|png|bmp)/g,font:/[^\('"]+\.(otf|ttf|fon|fnt)/g},include:function(a){var b=document.createElement("link");return b.type="text/css",b.rel="stylesheet",b.href=a,document.getElementsByTagName("head")[0].appendChild(b),this.deferred.promise()},load:function(b){var c=this;return a.ajax({url:b,success:function(){c.preloadUrl.apply(c,[b].concat(a.makeArray(arguments)))},error:function(){c.fireError(b)}}),this.deferred.promise()},preloadUrl:function(b,c){var d=this,e=c.match(this.patterns.image)||[];c=c.match(this.patterns.font)||[],e=new anddev.Models.File.List(e.concat(c)),e=a.when(e.rebaseFiles(b).loadAll(this.options.strict)),e.done(function(c){d.include(b),a('link[href="'+b+'"]');var e=setInterval(function(){try{d.fireSuccess(b,c),clearInterval(e)}catch(a){}},10)}),e.fail(function(a){d.fireError(b,a)})}})}),steal.loaded("anddev/core/helpers/loader/processor/stylesheet.js"),steal("./processor.js").then(function(a){anddev.Class.Processor.Base.extend("anddev.Class.Processor.Images",{supported:["gif","jpg","jpeg","png","bmp"]},{include:function(b){var c=this;return a("<img />").load(function(){c.fireSuccess(b)}).error(function(){c.fireError(b)}).attr("src",b),this.deferred.promise()},load:function(a){return this.include(a)}})}),steal.loaded("anddev/core/helpers/loader/processor/images.js"),steal("./processor.js").then(function(a){anddev.Class.Processor.Base.extend("anddev.Class.Processor.Font",{supported:["otf","ttf","fon","fnt"]},{include:function(b){var c=this;return a.ajax({url:b,success:function(){c.fireSuccess(b)},error:function(){c.fireError(b)}}),this.deferred.promise()},load:function(a){return this.include(a)}})}),steal.loaded("anddev/core/helpers/loader/processor/fonts.js"),steal("anddev/core/models/list/iterator.js").then(function(){anddev.Models.Iterator.List("anddev.Models.File.List",{name:"files"},{patterns:{getFolder:/([^\/]+)$/},init:function(a){if($.isArray(a)&&!$.isEmptyObject(a)&&$.isString(a[0])){this._super.apply(this,[]);var b=this;$.each(a,function(a,c){a=new anddev.Models.File({url:c}),b.push(a)})}else this._super.apply(this,$.makeArray(arguments))},loadAll:function(a,b){a=a||!1,b=b||!1;var c=new jQuery.Deferred,d=[];return a=function(a){for(var e=a.length-1;e>=0;e--){var f=null;if(b.length>0){var g=b.findByAttributes({url:a[e].url});g&&(f=g.promise)}null==f&&(f=a[e].load()),d.push(f)}$.whenAll.apply($,d).done(function(){setTimeout(function(){c.resolve(d)},0)})},this.length>0?a(this):c.resolve([]),c.promise()},rebaseFiles:function(a){return a=a.replace(this.patterns.getFolder,""),this.each(function(b,c){c.attr("url",a+c.attr("url"))}),this},diff:function(a){var b=this;return a.each(function(a,c){a=null,(a=b.findByAttributes({url:c.url}))&&b.remove(a)}),this},merge:function(a,b){var c=this;return a.each(function(a,d){c.findByAttributes({url:d.url})||(b&&(d.slide=b),c.push(d))}),this}})}),steal.loaded("anddev/core/models/list/files.js"),steal("jquery","jquery/model/list").then("//anddev/core/models/iterator").then(function(){$.Model.List("anddev.Models.Iterator.List",{name:"iterator",currentIndex:null},{init:function(){this._super.apply(this,jQuery.makeArray(arguments)),this.bindEvents()},bindEvents:function(){this.on("model:selected",this.select,this)},selected:function(){return this.findByAttributes({selected:!0})},select:function(a){this.lastSelected=this.current(),this.currentIndex=this.getModel(a).index;var b=this.current();return this.each(function(a,c){b!==c&&c.unselect()}),$([this]).trigger("selected",jQuery.makeArray(arguments)),b},push:function(){for(var a=jQuery.makeArray(arguments),b=null,c=0;c<a.length;c++)b=a[c],b instanceof $.Model&&(b.parent=b.parent?b.parent:this,b.index=b.index?b.index:void 0==this.length?0:this.length+c);return this._super.apply(this,a)},getModel:function(a){var b=null;return a instanceof this.model()?b=a:"number"==typeof a&&(b=this[a]),b},reduce:function(a){return this.replaceModelsBy(this.filter(a))},filter:function(a){return this.grep(function(b){return b.match(a)})},current:function(){return this[this.getCurrentIndex()]},prev:function(a){return a=this.getBasedOnPosition(this.previousIndex(),a,!1,!1),null==a?this.current():a},next:function(a){return a=this.getBasedOnPosition(this.nextIndex(),a,!0,!0),null==a?this.current():a},first:function(a){return this.getBasedOnPosition(this.lastIndex(),a,!1,!0)},last:function(a){return this.getBasedOnPosition(this.firstIndex(),a,!0,!1)},getBasedOnPosition:function(a,b,c,d){var e=[];return this.each(function(d,f){(c?d>=a:a>=d)&&f.match(b)&&e.push(f)}),0==e.length?null:e[d?0:e.length-1]},getCurrentIndex:function(){return this.currentIndex||0},nextIndex:function(){return this.getCurrentIndex()+1},previousIndex:function(){return this.getCurrentIndex()-1},lastIndex:function(){return this.length>0?this.length-1:0},firstIndex:function(){return 0},findByName:function(a){return this.findByAttributes({name:a})},findById:function(a){return this.findByAttributes({id:a})},findByAttributes:function(a){var b=[];return this.each(function(c,d){d.match(a)&&b.push(d)}),b.length>1?b[0]:1==b.length?b[0]:null},on:function(a,b,c){try{c=c||this,this.bind(a+this._namespace,function(){b.apply(c,Array.prototype.slice.call(arguments).splice(1))})}catch(d){console.error(d)}},off:function(a){this.unbind(a+this._namespace)},compare:function(a){var b=!0;return b=a instanceof this.constructor,this.each(function(c,d){b=a[c]&&d===a[c]?b:!1}),b},replicate:function(a){return this.replaceModelsBy(a),$([this]).trigger("replicated",[this]),this},replaceModelsBy:function(a){var b=this;return this.removeAll(),this.currentIndex=0,a.each(function(a,c){c.parent=b,b.push(c)}),this},removeAll:function(){return this.splice(0,this.length),this},destroy:function(){return this.currentIndex=this.lastSelected=null,this.unbind(),list.each(function(a,b){b.destroy()}),this.removeAll()}})}),steal.loaded("anddev/core/models/list/iterator.js"),steal(function(){window.localStorage=window.localStorage||{getItem:function(){this.error()},setItem:function(){this.error()},error:function(){console.error("localStorage not supported")}},window.JSON=window.JSON||{stringify:function(){this.error()},parse:function(){this.error()},error:function(){console.error("JSON not supported")}}}),steal.loaded("anddev/core/helpers/custom/failback/failback.js"),steal("jquery/view","jquery/view/ejs").then(function(){$.View.register({suffix:"html",script:function(a,b){return"jQuery.EJS(function(_CONTEXT,_VIEW) { "+new jQuery.EJS({text:b,name:a}).template.out+" })"},renderer:function(a,b){return jQuery.EJS({text:b,name:a,ext:".html"})}})}),steal.loaded("anddev/core/helpers/custom/view/view.js"),steal("anddev/core/vendor/modernizr").then(function(){Modernizr.addTest("ios4",function(){return!!navigator.userAgent.match(/OS 4_.*\ like Mac OS X/i)}),Modernizr.addTest("ios5",function(){return!!navigator.userAgent.match(/OS 5_.*\ like Mac OS X/i)}),Modernizr.addTest("ios6",function(){return!!navigator.userAgent.match(/OS 6_.*\ like Mac OS X/i)}),Modernizr.addTest("ipad",function(){return!!navigator.userAgent.match(/iPad/i)}),Modernizr.addTest("iphone",function(){return!!navigator.userAgent.match(/iPhone/i)}),Modernizr.addTest("ipod",function(){return!!navigator.userAgent.match(/iPod/i)}),Modernizr.addTest("appleios",function(){return Modernizr.ipad||Modernizr.ipod||Modernizr.iphone}),Modernizr.addTest("si",function(){return!!window.localStorage.getItem("content/infos/si")}),Modernizr.addTest("exploria",function(){return!1}),Modernizr.addTest("ibinder",function(){return!1}),Modernizr.addTest("irep",function(){return!1}),Modernizr.addTest("mercury",function(){return!1}),Modernizr.addTest("player",function(){var a="Browser",b=["SI","Exploria","iRep","iBinder","Mercury"];for(var c in b)Modernizr[b[c].toLowerCase()]&&(a=b[c]);return a}),$.Class("anddev.helpers.modernizr",Modernizr,{})}),steal.loaded("anddev/core/helpers/custom/modernizr/modernizr.js"),steal("jquery/class").then(function(){$.Class("anddev.Class.Component",{},{classes:{},models:{},controllers:{},config:{},init:function(a){this.config=$.extend(!0,a,this.config)},initModels:function(){return(new $.Deferred).resolve().promise()},initControllers:function(){return(new $.Deferred).resolve().promise()},map:function(){return $.extend(!0,this.mapping(),this.defaultMapping())},defaultMapping:function(){return{classes:this.classes,models:this.models,controllers:this.controllers,config:{component:this.config}}}})}),steal.loaded("anddev/core/component/component.js"),steal("jquery/class","anddev/core/config").then(function(a){var b={ready:new a.Deferred,componentReady:{core:new a.Deferred,player:new a.Deferred,navigation:new a.Deferred,content:new a.Deferred},componentInitialization:{core:new a.Deferred,player:new a.Deferred,navigation:new a.Deferred,content:new a.Deferred}},c={ready:a.isArray(anddev.readyTmp)?anddev.readyTmp:[]},d=a.extend(!0,anddev.config.include,{core:[],player:[],navigation:[],content:[]});delete anddev.ready,delete anddev.readyTmp,a.Class("anddev.setup",{ready:function(){var c=a.makeArray(arguments);if(c[0])if(a.isFunction(c[0]))a.each(c,function(a,c){b.ready.done(c)});else{var d=a.isArray(c[0])?c[0]:a.isString(c[0])?[c[0]]:[],e=new a.Deferred,f=0;a.each(d,function(c,g){if(!b.componentReady[g])throw new Error('component "'+g+"\" does't exist.");b.componentReady[g].done(function(){++f==d.length&&e.resolve(this,a.makeArray(arguments))})}),c=c.splice(1),a.each(c,function(a,b){e.done(b)})}},isReady:function(c){if(!b.componentReady[c])throw new Error('component "'+component+"\" does't exist.");b.componentReady[c].resolveWith(this,[jQuery]);var d=!0;for(c in b.componentReady)"resolved"!=b.componentReady[c].state()&&(d=!1);return d&&(b.ready.resolveWith(this,[jQuery]),a([anddev]).trigger("ready")),b.ready.promise()},initialize:function(c){if(b.componentInitialization[c])return"pending"==b.componentInitialization[c].state()&&steal.apply(steal,d[c]).then(function(){b.componentInitialization[c].resolveWith(this,[a])}),b.componentInitialization[c].promise();throw new Error('component "'+c+"\" doesn't exist !")}},{}),anddev.ready=function(){anddev.setup.ready.apply(anddev.setup,a.makeArray(arguments))},anddev.ready.apply(anddev.setup,c.ready)}),steal.loaded("anddev/core/setup/setup.js"),steal("anddev/core/dom/animation","anddev/core/dom/event"),steal.loaded("anddev/core/dom/dom.js"),steal("anddev/core/dom/animation/transform3d"),steal.loaded("anddev/core/dom/animation/animation.js"),steal("jquery").then("./dbltap/dbltap.js").then("./swipe/swipe.js").then("./tap/tap.js"),steal.loaded("anddev/core/dom/event/event.js"),steal("jquery").then("../transition/transition").then(function(){!function(a,b,c){function d(a){return a.slice(0,1).toUpperCase()+a.slice(1)}b=c.createElement("div").style,c=["O","ms","Webkit","Moz"];for(var e,f,g=c.length,h=["transform","transformOrigin","transformStyle","perspective","perspectiveOrigin","backfaceVisibility"],i=c.length;g--;)c[g]+d(h[0])in b&&(e=c[g]);if(e)for(;i--;)f=e+d(h[i]),f in b&&(a.cssNumber[h[i]]=!0,a.cssProps[h[i]]=f,"MozTransform"===f&&(a.cssHooks[h[i]]={get:function(b,c){return c?a.css(b,f).split("px").join(""):b.style[f]},set:function(a,b){/matrix\([^)p]*\)/.test(b)&&(b=b.replace(/matrix((?:[^,]*,){4})([^,]*),([^)]*)/,"matrix$1$2px,$3px")),a.style[f]=b}}))}(jQuery,window,document)}),steal.loaded("anddev/core/dom/animation/transform3d/transform3d.js"),function(){function a(a){if(!e[a]){var b=jQuery("<"+a+">").appendTo("body"),c=b.css("display");b.remove(),("none"===c||""===c)&&(c="block"),e[a]=c}return e[a]}function b(){return d||(d=jQuery.now(),setTimeout(function(){d=null},0)),d}var c,d,e={},f=/^(?:toggle|show|hide)$/,g=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i;jQuery.extend(jQuery.cssNumber,{backgroundColor:!0,borderBottomColor:!0,borderLeftColor:!0,borderRightColor:!0,borderTopColor:!0,borderColor:!0,color:!0,outlineColor:!0});var h=document.createElement("div");h=h.style,jQuery.support.transition="MozTransition"in h?"MozTransition":"WebkitTransition"in h?"WebkitTransition":!1,h=h=null,jQuery.fn.extend({animate:function(c,d,e,h){var i=jQuery.speed(d,e,h),j=b();return jQuery.isEmptyObject(c)?this.each(i.complete):this[i.queue===!1?"each":"queue"](function(){var b,d,e,h,k,l,m,n,o,p=this,q=jQuery.extend,r=jQuery.style,s=jQuery.support,t=jQuery.css,u=jQuery.fx,v=j,w=q({},i),x=(q=1===p.nodeType)&&jQuery(p).is(":hidden"),y=p.style,z=jQuery.cssProps,A=!w.step&&s.transition,B=[];v||(j=v=jQuery.now()),w.animatedProperties={},w.transition={};var C={};$.each(c,function(a,b){"_"!=a&&(C[a]=b)}),c=C;for(b in c){if(d=jQuery.camelCase(b),b!==d&&(c[d]=c[b],delete c[b],b=d),d=c[b],"hide"===d&&x||"show"===d&&!x)return w.complete.call(p);!q||"height"!==b&&"width"!==b||(w.overflow=[y.overflow,y.overflowX,y.overflowY],"inline"===t(p,"display")&&"none"===t(p,"float")&&(s.inlineBlockNeedsLayout?(e=a(p.nodeName),"inline"===e?y.display="inline-block":(y.display="inline",y.zoom=1)):y.display="inline-block")),jQuery.isArray(d)?(e=d[1],d=d[0]):e=w.specialEasing&&w.specialEasing[b]||w.easing||"swing",w.animatedProperties[b]=e,(d=A&&q&&("swing"==e?"ease":"linear"==e?e:!1))&&(e=z[b]||b,o=e.replace(/([A-Z])/g,"-$1").toLowerCase(),d=o+" "+w.duration+"ms "+d,w.transition[b]={lower:o,real:e},B.push(d))}return null!=w.overflow&&(y.overflow="hidden"),jQuery.each(c,function(a,b){h=new u(p,w,a),f.test(b)?h["toggle"===b?x?"show":"hide":b](v):(k=g.exec(b),l=h.cur(),k?(m=parseFloat(k[2]),n=k[3]||(jQuery.cssNumber[a]?"":"px"),"px"!==n&&(r(p,a,(m||1)+n),l=(m||1)/h.cur()*l,r(p,a,l+n)),k[1]&&(m=("-="===k[1]?-1:1)*m+l),h.custom(v,l,m,n)):h.custom(v,l,b,""))}),A&&B.length&&(d=y[A],y[A]=B.join()+(d?","+d:"")),!0})},stop:function(a,b){return a&&this.queue([]),this.each(function(){for(var a=jQuery.timers,c=a.length,d=jQuery.support.transition;c--;)a[c].elem===this&&((b||d)&&a[c](b),a.splice(c,1))}),b||this.dequeue(),this}}),jQuery.extend(jQuery.fx.prototype,{cur:function(){var a,b=this.elem,c=this.prop;return null==b[c]||b.style&&null!=b.style[c]?(b=jQuery.css(b,c),isNaN(a=parseFloat(b))?b&&"auto"!==b?b:0:a):b[c]},custom:function(a,b,d,e){function f(a,b){return g.step(a,b)}var g=this,h=jQuery.fx,i=g.prop,j=g.options.transition,k=jQuery.timers;g.startTime=a,g.start=b,g.end=d,g.unit=e||g.unit||(jQuery.cssNumber[i]?"":"px"),g.now=g.start,g.pos=g.state=0,f.elem=g.elem,j[i]?(k.push(f),jQuery.style(g.elem,i,b+g.unit),setTimeout(function(){jQuery.style(g.elem,i,d+g.unit),j[i].timeout=setTimeout(function(){k.splice(k.indexOf(f),1),g.step(!0)},g.options.duration+30)},0)):f(!1,a)&&k.push(f)&&!c&&(c=setInterval(h.tick,h.interval))},show:function(a){this.options.orig[this.prop]=jQuery.style(this.elem,this.prop),this.options.show=!0,this.custom(a,"width"===this.prop||"height"===this.prop?1:0,this.cur()),jQuery(this.elem).show()},hide:function(a){this.options.orig[this.prop]=jQuery.style(this.elem,this.prop),this.options.hide=!0,this.custom(a,this.cur(),0)},step:function(a,b){var c,d,e=!0,f=this.elem,g=this.options,h=g.duration,i=g.transition[this.prop];if(i||a||b>=h+this.startTime){i?(clearTimeout(i.timeout),a||(this.elem.style[i.real]=jQuery.css(this.elem,i.real))):(this.now=this.end,this.pos=this.state=1,this.update()),g.animatedProperties[this.prop]=!0;for(c in g.animatedProperties)g.animatedProperties[c]!==!0&&(e=!1);if(e){if(null!=g.overflow&&!jQuery.support.shrinkWrapBlocks&&jQuery.each(["","X","Y"],function(a,b){f.style["overflow"+b]=g.overflow[a]}),g.hide&&jQuery(f).hide(),g.hide||g.show){h=jQuery.style;for(d in g.animatedProperties)h(f,d,g.orig[d])}if(h=1===f.nodeType&&jQuery.support.transition){i=","+f.style[h];for(d in g.transition)i=i.split(g.transition[d].lower).join("_");f.style[h]=i.replace(/, ?_[^,]*/g,"").substr(1)}g.complete.call(f)}return!1}return 1/0==h?this.now=b:(d=b-this.startTime,this.state=d/h,this.pos=jQuery.easing[g.animatedProperties[this.prop]](this.state,d,0,1,h),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}}),jQuery.extend(jQuery.fx,{tick:function(){for(var a=jQuery.timers,b=0,c=jQuery.now();b<a.length;b++)a[b](!1,c)||a.splice(b--,1);a.length||jQuery.fx.stop()}})}(),steal.loaded("anddev/core/dom/animation/transition/transition.js"),steal("jquery/event/livehack").then(function(a){var b=!/Phantom/.test(navigator.userAgent)&&"ontouchend"in document?"touchstart":"mousedown",c=function(b){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b,d=b.originalEvent.touches?b.originalEvent.touches.length:1;return b={origin:a(b.target),time:(new Date).getTime()},c&&(b=a.extend({fingers:d,coords:[c.pageX,c.pageY],dist:function(a){return Math.sqrt(Math.pow(this.coords[0]-a.coords[0],2)+Math.pow(this.coords[1]-a.coords[1],2))}},b)),b},d=a.event.tap=a.event.tap||{};d.maxDoubleTapDelay=300;var e=null;a.event.setupHelper(["dbltap"],b,function(b){var f=b.delegateTarget||b.currentTarget,g=b.handleObj.selector,h=this,i=c(b);e?a.each(a.event.find(f,["dbltap"],g),function(){this.call(h,b)}):e=i;var j=setTimeout(function(){clearTimeout(j),e=null},d.maxDoubleTapDelay)})}),steal.loaded("anddev/core/dom/event/dbltap/dbltap.js"),steal("jquery/event/livehack").then(function(a){var b=!/Phantom/.test(navigator.userAgent)&&"ontouchend"in document,c=b?"touchstart":"mousedown",d=b?"touchend":"mouseup",e=b?"touchmove":"mousemove",f=function(b){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b;return{time:(new Date).getTime(),coords:[c.pageX,c.pageY],origin:a(b.target)}},g=a.event.swipe=a.event.swipe||{};g.disable=!1,a.event.setupHelper(["swipe","swipeleft","swiperight"],c,function(b){function c(a){i&&(h=f(a),Math.abs(i.coords[0]-h.coords[0])>10&&a.preventDefault())}if(!g.disable){var h,i=f(b),j=b.delegateTarget||b.currentTarget,k=b.handleObj.selector,l=this;a(document.documentElement).bind(e,c).one(d,function(){if(a(this).unbind(e,c),i&&h){var d=Math.abs(i.coords[0]-h.coords[0]),f=Math.abs(i.coords[1]-h.coords[1]),m=Math.sqrt(d*d+f*f);h.time-i.time<g.delay&&m>=g.min&&(m=["swipe"],d>f&&m.push(i.coords[0]>h.coords[0]?"swipeleft":"swiperight"),a.each(a.event.find(j,m,k),function(){this.call(l,b,{start:i,end:h})}))}i=h=void 0})}})}),steal.loaded("anddev/core/dom/event/swipe/swipe.js"),steal("jquery/event/livehack").then(function(a){var b=!/Phantom/.test(navigator.userAgent)&&"ontouchend"in document,c=b?"touchstart":"mousedown",d=b?"touchend":"mouseup",e=b?"touchmove":"mousemove",f=function(b){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b,d=b.originalEvent.touches?b.originalEvent.touches.length:1;return b={origin:a(b.target),time:(new Date).getTime()},c&&(b=a.extend({fingers:d,coords:[c.pageX,c.pageY],dist:function(a){return Math.sqrt(Math.pow(this.coords[0]-a.coords[0],2)+Math.pow(this.coords[1]-a.coords[1],2))}},b)),b};(a.event.tap=a.event.tap||{}).duration=200,a.event.setupHelper(["tapone","taptwo","tapthree","tapfour","longtap","longtapone"],c,function(b){var c={start:null,move:null,stop:null},g=b.delegateTarget||b.currentTarget,h=b.handleObj.selector,i=this;c.start=f(b);var j=function(a){c.move=f(a)},k=function(l){if(a(g).off(d,h,k),a(g).off(e,h,j),c.start){c.stop=f(l),c.move=c.move||c.start,l=["tapone","taptwo","tapthree","tapfour"];var m=["longtap"],n=[];c.start.dist(c.move)<(a.event.swipe?a.event.swipe.min:50)&&(c.stop.time-c.start.time>a.event.tap.duration?n=[m[0]]:n.push("undefined"!=typeof l[c.start.fingers-1]&&l[c.start.fingers-1]?l[c.start.fingers-1]:l[0]),a.each(a.event.find(g,n,h),function(){this.call(i,b)
}),b.stopImmediatePropagation()),c={start:null,move:null,stop:null}}};a(g).on(d,h,k),a(g).on(e,h,j)})}),steal.loaded("anddev/core/dom/event/tap/tap.js"),steal("anddev/navigation/navigation").then(function(){anddev.ready(["core","player"],function(){var a=new anddev.Components.Navigation(anddev.config.navigation);a.initModels().done(function(b,c){anddev.setup.initialize("navigation").done(function(){a.initControllers(b,c).done(function(){anddev.navigation=a.map(),anddev.setup.isReady("navigation").done(function(){a.attachControllers().done(function(){$([anddev]).trigger("slide:ready")})}).fail(function(){console.error("call ready methods failed",arguments)})}).fail(function(){console.error("init controller failed",arguments)})}).fail(function(){console.error("init external lib for navigation failed",arguments)})}).fail(function(){console.error("init model failed",arguments)})})}),steal.loaded("anddev/navigation/navigation.js"),steal("anddev/core").then("anddev/navigation/fixtures","anddev/navigation/route","anddev/navigation/tracking","anddev/navigation/stage","anddev/navigation/menu","anddev/navigation/slider").then(function(){anddev.Class.Component("anddev.Components.Navigation",{},{classes:{fixtures:null,tracker:null},models:{slides:null,assets:null,flows:null},controllers:{stage:null,slider:null,menu:null},initModels:function(){var a=new anddev.Class.Fixtures($.fixture,anddev.helpers.loader);a.define("slides",this.config.slides.data);var b=localStorage.getItem("anddev:slidesorter");"undefined"!=typeof b&&null!=b&&""!=b&&(this.config.flows.list={slidesorter:$.parseJSON(localStorage.getItem("anddev:slidesorter"))}),a.define(this.config.flows.list),b=new anddev.Models.Slide.List;var c=new anddev.Models.Flow.List;return this.classes={fixtures:a},this.models={slides:b,flows:c,assets:c.assets},$.when(b.load("slides",{config:this.config.slides}),c.load({slides:b,config:this.config.flows,menuConfig:this.config.menu,sliderConfig:this.config.slider}))},initControllers:function(a,b){var c=null,d=null,e=null,f=e=null;return f=new anddev.Class.Tracking({slides:a,flows:this.models.flows,connector:anddev.player,enabled:anddev.player.trackingSupported}),c=$("#stage").stage({assets:b,slides:a,config:this.config.stage,presentationName:this.config.name}).controller(),d=$("#slider").slider({slides:a,config:this.config.slider}).controller(),e=$("#menu").menuFactory({config:this.config.menu,collection:b,plugin:this.config.menu.plugin,flows:this.models.flows}).controller(),e=e.getMenuController(),this.controllers={menu:e,slider:d,stage:c},this.classes.tracker=f,$.when(e.loaded)},attachControllers:function(){var a=this.controllers.slider,b=this.models.assets,c=null;return $([a]).bind("animation:start",function(){$("#blockui").css("display",""),b.lock(),$("#lock").addClass("icon_lock"),$.event.swipe.disable=!0}),$([a]).bind("animation:end",function(){$("#blockui").css("display","none"),b.unlock(),$("#lock").removeClass("icon_lock"),$.event.swipe.disable=!1}),$("#blockui").bind("mousedown mousemove mouseup touchstart touchmove touchend",function(a){return a.stopPropagation(),!1}),c=$("<div>").route({slides:this.models.slides,assets:this.models.assets,flows:this.models.flows,sliderConfig:this.config.slider}).controller(),c.isReady(),$.when(menu.loaded,a.loaded)},mapping:function(){var a=this.controllers.menu,b=this.controllers.stage,c=this.models.slides,d=this.models.flows,e=this.models.assets,f=this.classes.tracker;return{next:function(a,b){return e.next(a).select(b)},prev:function(a,b){return e.prev(a).select(b)},first:function(a,b){return e.first(a).select(b)},last:function(a,b){return e.last(a).select(b)},goToSlide:function(a,b){return c.getModel(a).select(b)},goToAsset:function(a,b){return e.getModel(a).select(b)},lastSelected:function(a){return e.lastSelected.select(a)},currentAsset:e.proxy("current"),currentSlide:c.proxy("current"),hideMenu:a.proxy("hideMenu"),showMenu:a.proxy("showMenu"),enableSwipe:b.proxy("enableSwipe"),disableSwipe:b.proxy("disableSwipe"),selectFlow:d.proxy("selectFlow"),changeFlow:d.proxy("changeFlow"),record:f.proxy("record"),swipable:function(){return b.swipable},isSlideSorter:function(){return null!=localStorage.getItem("anddev:slidesorter")?!0:!1}}}})}),steal.loaded("anddev/navigation/navigation/navigation.js"),steal("jquery/class","jquery/dom/fixture").then(function(a){a.Class("anddev.Class.Fixtures",{},{init:function(a,b){this.loader=b,this.fx=a,this.fx.delay=0},define:function(b,c){if(a.isPlainObject(b)){var d=this;a.each(b,function(a,b){d.defineOne(a,b)})}else this.defineOne(b,c)},defineOne:function(b,c){this.has(b,c)||(a.isPlainObject(c)||a.isArray(c)?this.fx(b,function(){return[200,"success",c,{}]}):a.isFunction(c)?this.fx(b,c):this.fx(b,this.loader.urlFor(c)))},has:function(b,c){var d=!1;return a.each(this.fx.overwrites,function(a,e){e.url==b&&e.fixture==c&&(d=!0)}),d}})}),steal.loaded("anddev/navigation/fixtures/fixtures.js"),steal("anddev/navigation/store").then(function(a){anddev.Controllers.Base("anddev.Controllers.Route",{pluginName:"route",defaults:{store:{url:{flow_name:null,slide_id:1,asset_path:"0.0"}}}},{init:function(){a.route.ready(!1),this._super.apply(this,[a.makeArray(arguments)]),this.changes=0,this.assets=this.options.assets,this.flows=this.options.flows,this.slides=this.options.slides},isReady:function(){a.route.ready(!0)},route:function(){if(this.options.sliderConfig.selectedAsset){var b=this.assets.findByName(this.options.sliderConfig.selectedAsset.asset_name);b&&(this.options.store.url={flow_name:this.options.sliderConfig.selectedAsset.flow_name,slide_id:b.slide.id,asset_path:b.path})}a.route.attrs(this.options.store.url)},"{slides} selected":function(b,c,d){a.route.attrs({slide_id:d.id})},"{assets} selected":function(b,c,d){a.route.attrs({asset_path:d.path,slide_id:d.slide.id})},"{flows} selected":function(b,c,d){a.route.attrs({flow_name:d.name})},"slide/:id route":function(a){this.changes++<1&&(this.slides.findById(a.id).select(),console.log("slide/:id",a,this))},"flow_name/:flow_name/asset_path/:asset_path/slide_id/:slide_id route":function(a){if(this.options.store.url&&!this.isEqual(a,this.options.store.url)&&this.clear(),this.changes++<1)if(a.flow_name&&null==this.flows.findByName(a.flow_name))if(this.flows.selectFlow(this.flows.first().name),this.options.sliderConfig.selectedSlideID){var b=this.assets.findBySlideId(this.options.sliderConfig.selectedSlideID);b&&b[0]instanceof anddev.Models.Asset&&b[0].select({anim:!1})}else this.assets.first().select({anim:!1});else this.flows.selectFlow(a.flow_name),null!=this.assets.findByPath(a.asset_path)?this.assets.findByPath(a.asset_path).select({anim:!1}):this.assets.first().select({anim:!1});this.store("url",a)},isEqual:function(b,c){var d=[];return a.each(b,function(a){b[a]!=c[a]&&d.push(b[a])}),d.length>0?!1:!0}})}),steal.loaded("anddev/navigation/route/route.js"),steal("jquery/class").then("./models/tracker").then(function(){$.Class("anddev.Class.Tracking",{},{init:function(a){this.slides=a.slides,this.flows=a.flows,this.connector=a.connector,this.saving=a.saving||this.savingDefault,this.enabled=!!a.enabled,this.tracker=null,this.enabled&&this.bind()},destroy:function(){return this.unbind()},bind:function(){return this.flows.assets.bind("replicated.tracking",this.proxy("flowChange")),this.slides.bind("selected.tracking",this.proxy("slideUpdate")),$([this.connector]).bind("terminate.tracking",this.proxy("appClose")),this},unbind:function(){return this.flows.assets.unbind(".tracking"),this.slides.unbind(".tracking"),$([this.connector]).unbind(".tracking"),this},flowChange:function(){this.send({action:"flow",value:this.flows.current().name})},appClose:function(){this.tracker&&this.send(this.tracker.stop())},slideUpdate:function(a,b){this.tracker&&this.tracker.slide.identity()==b.identity()||(this.tracker&&this.send(this.tracker.stop()),this.tracker=new anddev.Models.Tracker({action:"goto",slide:b}))},record:function(a,b){this.send({action:"survey",value:a},b)},send:function(a,b){this.enabled?($.isPlainObject(a)&&(a=new anddev.Models.Tracker($.extend({slide:this.slides.current()},a))),this.saving.apply(this,[a,b])):console.warn("tracking disabled",a)},savingDefault:function(a,b){var c=this.connector.tracking(a.data()),d=this;console.log("savingDefault",c),c.always(function(c){(b||function(){}).apply(d,[c,a])}),c.done(function(){$([d]).trigger("saved",[a])}),c.fail(function(b){$([d]).trigger("failed",[a,b])})}})}),steal.loaded("anddev/navigation/tracking/tracking.js"),steal("anddev/core").then(function(){$.Controller("anddev.Controllers.Stage",{pluginName:"stage",defaults:{css:{stage:{position:"absolute",transform:"translate3d(0px, 0px, 0px)",top:"0px",left:"0px",overflow:"hidden"}},config:null}},{swipable:!0,init:function(){this.config=this.options.config,this.assets=this.options.assets,this.slides=this.options.slides,this.render()},render:function(){this.element.css($.extend(this.options.css.stage,this.config.layout)),this.element.addClass(this.options.presentationName)},swipeleft:function(a,b){b.isPropagationStopped()||this.assets.current().slide==this.slides.current()&&this.assets.current().slide!=$(b.target).closest("div:[class~=slide]").model()||this.swipable&&this.assets.next({hideonslide:!1}).select()},swiperight:function(a,b){b.isPropagationStopped()||this.assets.current().slide==this.slides.current()&&this.assets.current().slide!=$(b.target).closest("div:[class~=slide]").model()||this.swipable&&this.assets.prev({hideonslide:!1}).select()},disableSwipe:function(){this.swipable=!1},enableSwipe:function(){this.swipable=!0}})}),steal.loaded("anddev/navigation/stage/stage.js"),steal().then("anddev/navigation/menu/base").then("anddev/navigation/menu/submenu","anddev/navigation/menu/iscroll").then(function(){$.Controller("anddev.Controllers.MenuFactory",{pluginName:"menuFactory"},{menuController:null,init:function(){},getMenuPluginName:function(){if(!anddev.Controllers.Menu[this.options.type])throw new Error("type:"+this.options.type+" menu doesn't exist, check you config.js file.\n");return anddev.Controllers.Menu[this.options.type].pluginName},initMenuContoller:function(){var a=this.options.plugin;if(!this.element[a])throw new Error("plugin:"+this.options.plugin+" doesn't exist, check you config.js file.\n");var b=this.element[a](this.options).data("controllers");if(!b[a])throw new Error("plugin:"+this.options.plugin+" doesn't exist, check you config.js file.\n");return this.menuController=b[a]},getMenuController:function(){return this.menuController||this.initMenuContoller(),this.menuController}})}),steal.loaded("anddev/navigation/menu/menu.js"),steal("anddev/navigation/store").then("./css/slider.css").then("//anddev/navigation/models/slide").then("//anddev/navigation/models/list/slides").then("anddev/navigation/slider/views/slide.ejs").then(function(){anddev.Controllers.Base("anddev.Controllers.Slider",{pluginName:"slider",defaults:{template:"//anddev/navigation/slider/views/slide.ejs",range:{index:0,size:5},css:{left:"animLeft",right:"animRight",current:"current"},slides:null,config:null},isready:!1},{animInProgress:!1,deferrer:null,preloadHandler:null,loaded:null,requiredRange:null,jumpSlide:!0,init:function(){this.deferrer=new $.Deferred,this.loaded=this.deferrer.promise(),this.config=this.options.config,this.css=this.options.css,this.range=$.extend(!0,this.options.range,this.config.range),this.element.css(this.css.current),this.slides=this.options.slides;var a=null;(a=this.slides.selected())&&this.show(a)},"{slides} selected":function(a,b,c,d){this.cancelPreload(),this.requiredRange=d.requiredRange,c.attr("requiredRange",this.requiredRange),this.config.animation&&d.anim?this.goToSlide(c,d.direction):this.show(c)},getActionFromView:function(){var a=this.element,b=this.requiredRange,c=[],d=[],e=a.find(".slide");return $.each(b,function(b,f){el=a.find("."+f.identity()),e=e.not("."+f.identity()),0==el.length&&(b>0&&3>b?d.push(f):c.push(f))}),a=b=this.requiredRange=null,{slidesToAdd:c,slidesToCheckDef:d,toRemove:e}},addRequiredSlide:function(a){var b=this,c=new $.Deferred,d=this.element.find("."+a.identity());return 0==d.length&&this.renderSlides([a]),$.when(a.loaded).done(function(){c.resolveWith(b)}),d=a=null,c.promise()},removeUselessSlides:function(){this.range.action.toRemove.remove(),this.range.action.toRemove=null},show:function(a){return $([this]).trigger("animation:start"),this.addRequiredSlide(a).done(function(){this.setReady(a)}),this},setReady:function(a){var b=a.elements(),c=this.getInactiveElements(a),d=this.slides.lastSelected;this.resetStates(b,c),b.addClass(this.css.current),d!=a&&this.reloadSlide(d),a.domReady(),$([this]).trigger("animation:end"),$([this]).trigger("slide:shown"),console.log("slide:shown "+a.name),this.deferrer.resolveWith(this,[this]),this.requiredRange&&(this.range.action=this.getActionFromView(a),this.removeUselessSlides(),this.preloadSlides())},preloadSlides:function(){var a=this;return this.preloadHandler=setTimeout(function(){if(a.range.action.slidesToCheckDef){a.renderSlides(a.range.action.slidesToCheckDef);var b=[];$.each(a.range.action.slidesToCheckDef,function(a,c){b.push(c.loaded)}),a.range.action.slidesToCheckDef=null,$.when.apply($,b).done(function(){a.range.action.slidesToAdd&&(a.renderSlides(a.range.action.slidesToAdd),a.range.action.slidesToAdd=null),b=null})}},0)},goToSlide:function(a,b){var c=this.slides.lastSelected;return!this.animInProgress&&c.index!=a.index&&this.addRequiredSlide(a).done(function(){$([this]).trigger("animation:start"),this.animationToSlide(c,a,b).done(function(){this.setReady(a),$([this]).trigger("animation:end")})}),this},animationToSlide:function(a,b,c){var d=new $.Deferred,e=this;return this.animInProgress=!0,this.element.bind("webkitTransitionEnd webkitAnimationEnd",function(a){a.eventPhase===Event.AT_TARGET&&a.srcElement===this&&($(this).unbind("webkitTransitionEnd webkitAnimationEnd"),e.resetAnimationState(b),e.animInProgress=!1,d.resolveWith(e))}),this.setAnimationState(b,c),d.promise()},resetStates:function(){var a=this.css;$.each($.makeArray(arguments),function(b,c){for(var d in a)c.removeClass(a[d])})},setAnimationState:function(a,b){return a=a.elements(),this.resetStates(a,this.element),a.addClass(this.css[b]),this.element.addClass(this.css[b]),this},resetAnimationState:function(a){a=a.elements();var b=this.getInactiveElements();return this.resetStates(a,b,this.element),a.addClass(this.css.current),this.element.addClass(this.css.current),this},reloadSlide:function(a){return this.config.wideContent||a.elements().html($.View(a.url(),{slide:a})),a.elements().trigger("reset",[a.elements()]),this},getInactiveElements:function(a){return a=a?a.identity():this.slides.current().identity(),this.element.find(".slide").not("."+a)},currentSlide:function(){this.slides.current()},cancelPreload:function(){clearTimeout(this.preloadHandler),this.preloadHandler=null},renderSlides:function(a){var b=this;return b.element.append(b.view(b.options.template,{slides:a})),this}})}),steal.loaded("anddev/navigation/slider/slider.js"),steal("jquery/dom","jquery/lang/object","jquery/lang/string",function(a){a.ajaxPrefilter(function(b,c){if(a.fixture.on){var e=d(b);b.fixture&&("string"==typeof b.fixture&&a.fixture[b.fixture]&&(b.fixture=a.fixture[b.fixture]),"string"==typeof b.fixture?(c=b.fixture,/^\/\//.test(c)&&(e=b.fixture.substr(2)+"",c="undefined"==typeof steal?c="/"+e:steal.root.mapJoin(e)+""),b.url=c,b.data=null,b.type="GET",b.error||(b.error=function(a,b,c){throw"fixtures.js Error "+b+" "+c})):(b.dataTypes.splice(0,0,"fixture"),e&&a.extend(c.data,e)))}}),a.ajaxTransport("fixture",function(b,c){b.dataTypes.shift();var d,e=b.dataTypes[0];return{send:function(f,g){d=setTimeout(function(){var d=b.fixture(c,b,f);if(!a.isArray(d)){var h=[{}];h[0][e]=d,d=h}"number"!=typeof d[0]&&d.unshift(200,"success"),d[2]&&d[2][e]||(h={},h[e]=d[2],d[2]=h),g.apply(null,d)},a.fixture.delay)},abort:function(){clearTimeout(d)}}});var b=[],c=function(a,c){for(var d=0;d<b.length;d++)if(f._similar(a,b[d],c))return d;return-1},d=function(a){var d=c(a);return d>-1?(a.fixture=b[d].fixture,f._getData(b[d].url,a.url)):void 0},e=function(a){var b=a.data.id;return void 0===b&&"number"==typeof a.data&&(b=a.data),void 0===b&&a.url.replace(/\/(\d+)(\/|$|\.)/g,function(a,c){b=c}),void 0===b&&(b=a.url.replace(/\/(\w+)(\/|$|\.)/g,function(a,c){"update"!=c&&(b=c)})),void 0===b&&(b=Math.round(1e3*Math.random())),b},f=a.fixture=function(a,d){if(void 0!==d){if("string"==typeof a){var e=a.match(/(GET|POST|PUT|DELETE) (.+)/i);a=e?{url:e[2],type:e[1]}:{url:a}}e=c(a,!!d),e>-1&&b.splice(e,1),null!=d&&(a.fixture=d,b.push(a))}},g=a.String._regs.replacer;a.extend(a.fixture,{_similar:function(b,c,d){return d?a.Object.same(b,c,{fixture:null}):a.Object.subset(b,c,a.fixture._compare)},_compare:{url:function(a,b){return!!f._getData(b,a)},fixture:null,type:"i"},_getData:function(b,c){var d=[];b=b.replace(".","\\.").replace("?","\\?");var e=new RegExp(b.replace(g,function(a,b){return d.push(b),"([^/]+)"})+"$").exec(c),f={};return e?(e.shift(),a.each(d,function(a,b){f[b]=e.shift()}),f):null},"-restUpdate":function(a){return[200,"succes",{id:e(a)},{location:a.url+"/"+e(a)}]},"-restDestroy":function(){return{}},"-restCreate":function(a,b,c,d){return d=d||parseInt(1e5*Math.random(),10),[200,"succes",{id:d},{location:a.url+"/"+d}]},make:function(b,c,d,f){"string"==typeof b&&(b=[b+"s",b]);for(var g=a.fixture["~"+b[0]]=[],h=function(a){for(var b=0;b<g.length;b++)if(a==g[b].id)return g[b]},i=0;c>i;i++){var j=d(i,g);j.id||(j.id=i),g.push(j)}return a.fixture["-"+b[0]]=function(b){var c=g.slice(0);b.data=b.data||{},a.each((b.data.order||[]).slice(0).reverse(),function(a,b){var d=b.split(" ");c=c.sort(function(a,b){return"ASC"!==d[1].toUpperCase()?a[d[0]]<b[d[0]]?1:a[d[0]]==b[d[0]]?0:-1:a[d[0]]<b[d[0]]?-1:a[d[0]]==b[d[0]]?0:1})}),a.each((b.data.group||[]).slice(0).reverse(),function(a,b){var d=b.split(" ");c=c.sort(function(a,b){return a[d[0]]>b[d[0]]})});var d=parseInt(b.data.offset,10)||0,e=parseInt(b.data.limit,10)||g.length-d,h=0;for(var i in b.data)if(h=0,void 0!==b.data[i]&&(-1!=i.indexOf("Id")||-1!=i.indexOf("_id")))for(;h<c.length;)b.data[i]!=c[h][i]?c.splice(h,1):h++;if(f)for(h=0;h<c.length;)f(c[h],b)?h++:c.splice(h,1);return[{count:c.length,limit:b.data.limit,offset:b.data.offset,data:c.slice(d,d+e)}]},a.fixture["-"+b[1]]=function(a){return(a=h(e(a)))?[a]:[]},a.fixture["-"+b[1]+"Update"]=function(b,c){var d=e(b);return a.extend(h(d),b.data),a.fixture["-restUpdate"](b,c)},a.fixture["-"+b[1]+"Destroy"]=function(b,c){for(var d=e(b),f=0;f<g.length;f++)if(g[f].id==d){g.splice(f,1);break}return a.extend(h(d),b.data),a.fixture["-restDestroy"](b,c)},a.fixture["-"+b[1]+"Create"]=function(b,c){var e=d(g.length,g);return a.extend(e,b.data),e.id||(e.id=g.length),g.push(e),a.fixture["-restCreate"](b,c,void 0,e.id)},{getId:e,findOne:h,find:function(a){return h(e(a))}}},rand:function(a,b,c){if("number"==typeof a)return"number"==typeof b?a+Math.floor(Math.random()*(b-a)):Math.floor(Math.random()*a);var d=arguments.callee;if(void 0===b)return d(a,d(a.length+1));var e=[];a=a.slice(0),c||(c=b),c=b+Math.round(d(c-b));for(var f=0;c>f;f++)e.push(a.splice(d(a.length),1)[0]);return e},xhr:function(b){return a.extend({},{abort:a.noop,getAllResponseHeaders:function(){return""},getResponseHeader:function(){return""},open:a.noop,overrideMimeType:a.noop,readyState:4,responseText:"",responseXML:null,send:a.noop,setRequestHeader:a.noop,status:200,statusText:"OK"},b)},on:!0}),a.fixture.delay=200,a.fixture["-handleFunction"]=function(b){return"string"==typeof b.fixture&&a.fixture[b.fixture]&&(b.fixture=a.fixture[b.fixture]),"function"==typeof b.fixture?(setTimeout(function(){b.success&&b.success.apply(null,b.fixture(b,"success")),b.complete&&b.complete.apply(null,b.fixture(b,"complete"))},a.fixture.delay),!0):!1},a.fixture.overwrites=b}),steal.loaded("jquery/dom/fixture/fixture.js"),steal("jquery"),steal.loaded("jquery/dom/dom.js"),steal("jquery",function(a){var b=a.isArray,c=function(a){var b=0;for(var c in a)b++;return b};a.Object={};var d=a.Object.same=function(c,f,g,h,i,j){var k=typeof c,l=b(c),m=typeof g;if(("string"==m||null===g)&&(g=e[g],m="function"),"function"==m)return g(c,f,h,i);if(g=g||{},-1===j)return"object"===k||c===f;if(k!==typeof f||l!==b(f))return!1;if(c===f)return!0;if(l){if(c.length!==f.length)return!1;for(j=0;j<c.length;j++)if(h=void 0===g[j]?g["*"]:g[j],!d(c[j],f[j],c,f,h))return!1;return!0}if("object"===k||"function"===k){i=a.extend({},f);for(var n in c){if(h=void 0===g[n]?g["*"]:g[n],!d(c[n],f[n],h,c,f,j===!1?-1:void 0))return!1;delete i[n]}for(n in i)if(void 0===g[n]||!d(void 0,f[n],g[n],c,f,j===!1?-1:void 0))return!1;return!0}return!1};a.Object.subsets=function(b,d,e){var f=d.length,g=[];c(b);for(var h=0;f>h;h++){var i=d[h];a.Object.subset(b,i,e)&&g.push(i)}return g},a.Object.subset=function(a,b,c){c=c||{};for(var e in b)if(!d(a[e],b[e],c[e],a,b))return!1;return!0};var e={"null":function(){return!0},i:function(a,b){return(""+a).toLowerCase()==(""+b).toLowerCase()}}}),steal.loaded("jquery/lang/object/object.js"),steal("jquery/controller","jquery/controller/view","jquery/view","jquery/view/ejs","anddev/core/helpers/storage").then(function(a){a.Controller("anddev.Controllers.Base",{defaults:{store:{}}},{storage:anddev.helpers.storage||new anddev.Class.Storage("anddev","store"),init:function(){var b=this,c=this.storage;this.storeName=this.constructor.pluginName||"store",a.each(this.options.store,function(a){var d=null;null!=(d=c.get(b.constructor.pluginName+c.separator+a))&&(b.options.store[a]=d)})},store:function(a,b){return this.storage.set(this.storeName+this.storage.separator+a,b),this},clear:function(){return this.storage.clear(this.storeName),this}})}),steal.loaded("anddev/navigation/store/store.js"),steal("anddev/core/helpers/date","anddev/core/models/iterator.js").then(function(){anddev.Models.Iterator("anddev.Models.Tracker",{},{setup:function(a){this.slide=a.slide,delete a.slide,this._super.apply(this,[]),this.attrs($.extend(!0,{slide_name:this.slide.name,start_at:new anddev.Class.Date(null,{format:"{YYYY}-{MM}-{DD} {hh}:{mm}:{ss}"}),end_at:"goto"!=a.action?new anddev.Class.Date(null,{format:"{YYYY}-{MM}-{DD} {hh}:{mm}:{ss}"}):null,value:a.value?JSON.stringify(a.value):null,duration:0},a))},stop:function(){if(null!=this.end_at)throw new Error("Tracker already ended");return this.end_at=new anddev.Class.Date(null,{format:"{YYYY}-{MM}-{DD} {hh}:{mm}:{ss}"}),this.value=this.duration=this.start_at.diff(this.end_at),this},data:function(){var a=this.attrs();return $.each(["selected"],function(b,c){delete a[c]}),a.start_at=a.start_at&&a.start_at.toString()||null,a.end_at=a.end_at&&a.end_at.toString()||null,a}})}),steal.loaded("anddev/navigation/tracking/models/tracker.js"),steal("jquery/class").then(function(){$.Class("anddev.Class.Date",{},{defaults:{format:"{MM}/{DD}/{YYYY} {hh}:{mm}:{ss}",duration:function(a){return Math.floor(a/1e3)}},init:function(a,b){var c=null;this.date=c=a instanceof Date?a:a instanceof anddev.Class.Date?a.date:a?new Date(a):new Date,this.options=$.extend({},this.defaults,b)},toString:function(a){var b=null;if(!this.formattedDate||a){format=a||this.options.format;var c=this.decomposedTime(this.date),d=this.decomposedFormat(format);b=d.format,d.each(function(a,d,e){b=b.replace(a,this.completeWithZero(c.get(d),e))}),a||(this.formattedDate=b)}else b=this.formattedDate;return b},diff:function(a){if(!(a instanceof anddev.Class.Date||a instanceof Date))throw new Error("parameter has to be an instance of anddev.Class.Date or Date");return this.options.duration(a.getTime()-this.getTime())},progress:function(){return this.diff((new Date).getTime())},getTime:function(){return this.date.getTime()},decomposedTime:function(a){return{D:a.getDate(),M:a.getMonth()+1,Y:a.getFullYear(),h:a.getHours(),m:a.getMinutes(),s:a.getSeconds(),get:function(a){return this[a]}}},decomposedFormat:function(a){var b=a.match(/{([DMYhms]+)}/g);for(var c in b)b[c]=b[c].replace(/{|}/g,"");return a=a.replace(/{|}/g,""),{data:b,format:a,each:function(a,b){var c=null,d=0,e=null;for(var f in this.data)c=this.data[f],d=c.length,e=c[0],a.apply(b||this,[c,e,d])},completeWithZero:function(a,b){var c=a.toString().length;return b=c>=b?c:b,Array(b+1-c).join("0")+a}}}})}),steal.loaded("anddev/core/helpers/date/date.js"),steal("anddev/navigation/store").then("jqueryui/effects","jqueryui/draggable","jqueryui/droppable","jqueryui/position").then("//anddev/navigation/menu/base/views/asset.ejs").then("./css/menu.css").then("//anddev/navigation/models/asset","//anddev/navigation/models/flow").then("//anddev/navigation/models/list/assets","//anddev/navigation/models/list/flows").then(function(){anddev.Controllers.Base("anddev.Controllers.Menu.Base",{pluginName:"baseMenu",defaults:{css:{nav:{position:"absolute",transform:"translate(0px, 0px)",bottom:0,left:0}},collection:null,config:null,menuscroll:$("<div>").attr("id","menuscroll"),menutarget:$("<div>").attr("id","menutarget"),template:"//anddev/navigation/menu/base/views/asset.ejs",store:{menuPos:null}}},{deferrer:null,loaded:null,firstLoading:!0,originalPos:null,originalMenu:null,isHidden:!1,init:function(){this._super.apply(this,[$.makeArray(arguments)]),this.deferrer=new $.Deferred,this.loaded=this.deferrer.promise(),this.css=this.options.css,this.assets=this.options.collection,this.config=this.options.config,this.menuscroll=this.options.menuscroll,this.menutarget=this.options.menutarget,this.template=this.options.template,this.menuscroll.css($.extend(this.css.nav,this.config.layout)),this.element.append(this.menutarget),this.menutarget.append(this.menuscroll),this.render()},"{collection} replicated":function(){this.render(),this.assets.lastSelected&&this.element.removeClass(this.assets.lastSelected.flow),this.element.addClass(this.assets.current().flow),this.options.flows.current().autoHide&&this.hideMenu()},"{collection} selected":function(a,b,c){return this.select(a,b,c),this},".asset:not(.disabled) tapone":function(a,b){b.isPropagationStopped()||a.model().select()},"a click":function(a,b){b.originalEvent.preventDefault()},render:function(){return this.display(),this.dragAssets(),this.deferrer.resolve(),this},display:function(){this.menuscroll.html(this.view(this.template,{assets:this.assets.filter({level:0,hideonmenu:!1})}))},goToAsset:function(a){this.assets.getModel(a).select()},next:function(){return this.goToAsset(this.assets.next())},prev:function(){return this.goToAsset(this.assets.prev())},first:function(){return this.goToAsset(this.assets.first())},last:function(){return this.goToAsset(this.assets.last())},setCurrentStyle:function(a){return this.element.find("li.selected").removeClass("selected"),a.elements().addClass("selected"),this},disableAssets:function(a){return this.element.find("li").removeClass("disabled"),a.elements().addClass("disabled"),this},dragAssets:function(){var a=this;return a.menuUl=a.element.find("ul:first"),a.menuUl.draggable({axis:"x",containment:"parent",drag:function(){anddev.navigation.disableSwipe()},stop:function(){anddev.navigation.enableSwipe(),a.store("menuPos",parseInt(a.menuUl.css("left")))}}),this.setMenuPosition(),this},setMenuPosition:function(){var a=this;a.menuscroll.attr("style","").css({position:"absolute",bottom:"0px"}),a.menuscroll.width(a.menuscroll.width()+(a.menuUl.width()-a.menutarget.width())).position({my:"center bottom",at:"center bottom",of:a.menutarget}),a.menuscroll.css("top",""),a.menuUl.position({of:a.menuscroll,my:"left bottom",at:"left bottom"}),this.originalMenu=a.menuUl,this.originalPos=this.originalMenu.css("left")},setAssetPosition:function(a){if(0!=this.originalMenu.find(a.elements().selector).length){var b=parseInt(a.elements().outerWidth(!0)),c=parseInt(this.menuUl.position().left),d=c-parseInt(this.menutarget.width())+b,e=parseInt(this.menuUl.css("left"));return a=parseInt(this.originalPos)-parseInt(this.originalMenu.find(a.elements().selector).position().left),d>a|a>c?(e>a&&(a+=parseInt(this.menutarget.width())-b),this.menuUl.css("left",a)):a=e,this.store("menuPos",a),this}},reloadAssetPosition:function(){this.menuUl.css("left",this.options.store.menuPos)},showMenu:function(){this.menuscroll.show(),this.isHidden=!1},hideMenu:function(){this.menuscroll.hide(),this.isHidden=!0},lastSelected:function(){return this.goToAsset(this.assets.lastSelected)},select:function(a,b,c){this.firstLoading&&null!=this.options.store.menuPos?this.reloadAssetPosition(c):this.setAssetPosition(c),this.setCurrentStyle(c),this.disableAssets(c.disabled),this.firstLoading=!1},currentAsset:function(){return this.assets.current()}})}),steal.loaded("anddev/navigation/menu/base/base.js"),steal("./blind/blind.js","./bounce/bounce.js","./blind/blind.js","./clip/clip.js","./drop/drop.js","./explode/explode.js","./fade/fade.js","./fold/fold.js","./highlight/highlight.js","./pulsate/pulsate.js","./scale/scale.js","./shake/shake.js","./slide/slide.js","./transfer/transfer.js"),steal.loaded("jqueryui/effects/effects.js"),steal("../mouse/mouse.js").then("../lib/ui/jquery.ui.draggable.js"),steal.loaded("jqueryui/draggable/draggable.js"),steal("../draggable/draggable.js").then("../lib/ui/jquery.ui.droppable.js"),steal.loaded("jqueryui/droppable/droppable.js"),steal("../stealjquery.js").then("../lib/ui/jquery.ui.position.js"),steal.loaded("jqueryui/position/position.js"),steal("../core/core.js").then("../../lib/ui/jquery.effects.blind.js"),steal.loaded("jqueryui/effects/blind/blind.js"),steal("../core/core.js").then("../../lib/ui/jquery.effects.bounce.js"),steal.loaded("jqueryui/effects/bounce/bounce.js"),steal("../core/core.js").then("../../lib/ui/jquery.effects.clip.js"),steal.loaded("jqueryui/effects/clip/clip.js"),steal("../core/core.js").then("../../lib/ui/jquery.effects.drop.js"),steal.loaded("jqueryui/effects/drop/drop.js"),steal("../core/core.js").then("../../lib/ui/jquery.effects.explode.js"),steal.loaded("jqueryui/effects/explode/explode.js"),steal("../core/core.js").then("../../lib/ui/jquery.effects.fade.js"),steal.loaded("jqueryui/effects/fade/fade.js"),steal("../core/core.js").then("../../lib/ui/jquery.effects.fold.js"),steal.loaded("jqueryui/effects/fold/fold.js"),steal("../core/core.js").then("../../lib/ui/jquery.effects.highlight.js"),steal.loaded("jqueryui/effects/highlight/highlight.js"),steal("../core/core.js").then("../../lib/ui/jquery.effects.pulsate.js"),steal.loaded("jqueryui/effects/pulsate/pulsate.js"),steal("../core/core.js").then("../../lib/ui/jquery.effects.scale.js"),steal.loaded("jqueryui/effects/scale/scale.js"),steal("../core/core.js").then("../../lib/ui/jquery.effects.shake.js"),steal.loaded("jqueryui/effects/shake/shake.js"),steal("../core/core.js").then("../../lib/ui/jquery.effects.slide.js"),steal.loaded("jqueryui/effects/slide/slide.js"),steal("../core/core.js").then("../../lib/ui/jquery.effects.transfer.js"),steal.loaded("jqueryui/effects/transfer/transfer.js"),steal("../../stealjquery").then(function(){jQuery.effects||steal("../../lib/ui/jquery.effects.core.js")}),steal.loaded("jqueryui/effects/core/core.js"),steal("jquery"),steal.loaded("jqueryui/stealjquery.js"),jQuery.effects||function(a,b){function c(b){var c;return b&&b.constructor==Array&&3==b.length?b:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))?[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))?[2.55*parseFloat(c[1]),2.55*parseFloat(c[2]),2.55*parseFloat(c[3])]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(b)?j.transparent:j[a.trim(b).toLowerCase()]}function d(b,d){var e;do{if(e=a.curCSS(b,d),""!=e&&"transparent"!=e||a.nodeName(b,"body"))break;d="backgroundColor"}while(b=b.parentNode);
return c(e)}function e(){var a,b,c=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,d={};if(c&&c.length&&c[0]&&c[c[0]])for(var e=c.length;e--;)a=c[e],"string"==typeof c[a]&&(b=a.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),d[b]=c[a]);else for(a in c)"string"==typeof c[a]&&(d[a]=c[a]);return d}function f(b){var c,d;for(c in b)d=b[c],(null==d||a.isFunction(d)||c in l||/scrollbar/.test(c)||!/color/i.test(c)&&isNaN(parseFloat(d)))&&delete b[c];return b}function g(a,b){var c,d={_:0};for(c in b)a[c]!=b[c]&&(d[c]=b[c]);return d}function h(b,c,d,e){return"object"==typeof b&&(e=c,d=null,c=b,b=c.effect),a.isFunction(c)&&(e=c,d=null,c={}),("number"==typeof c||a.fx.speeds[c])&&(e=d,d=c,c={}),a.isFunction(d)&&(e=d,d=null),c=c||{},d=d||c.duration,d=a.fx.off?0:"number"==typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,e=e||c.complete,[b,c,d,e]}function i(b){return!b||"number"==typeof b||a.fx.speeds[b]?!0:"string"!=typeof b||a.effects[b]?!1:!0}a.effects={},a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(b,e){a.fx.step[e]=function(a){a.colorInit||(a.start=d(a.elem,e),a.end=c(a.end),a.colorInit=!0),a.elem.style[e]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+")"}});var j={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},k=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(b,c,d,h){return a.isFunction(d)&&(h=d,d=null),this.queue(function(){var i,j=a(this),l=j.attr("style")||" ",m=f(e.call(this)),n=j.attr("class");a.each(k,function(a,c){b[c]&&j[c+"Class"](b[c])}),i=f(e.call(this)),j.attr("class",n),j.animate(g(m,i),{queue:!1,duration:c,easing:d,complete:function(){a.each(k,function(a,c){b[c]&&j[c+"Class"](b[c])}),"object"==typeof j.attr("style")?(j.attr("style").cssText="",j.attr("style").cssText=l):j.attr("style",l),h&&h.apply(this,arguments),a.dequeue(this)}})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{add:b},c,d,e]):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{remove:b},c,d,e]):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,d,e,f,g){return"boolean"==typeof d||d===b?e?a.effects.animateClass.apply(this,[d?{add:c}:{remove:c},e,f,g]):this._toggleClass(c,d):a.effects.animateClass.apply(this,[{toggle:c},d,e,f])},switchClass:function(b,c,d,e,f){return a.effects.animateClass.apply(this,[{add:c,remove:b},d,e,f])}}),a.extend(a.effects,{version:"@VERSION",save:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.data("ec.storage."+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.css(b[c],a.data("ec.storage."+b[c]))},setMode:function(a,b){return"toggle"==b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":a=0;break;case"center":a=.5;break;case"right":a=1;break;default:a=a[1]/b.width}return{x:a,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e=document.activeElement;return b.wrap(d),(b[0]===e||a.contains(b[0],e))&&a(e).focus(),d=b.parent(),"static"==b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),d.css(c).show()},removeWrapper:function(b){var c,d=document.activeElement;return b.parent().is(".ui-effects-wrapper")?(c=b.parent().replaceWith(b),(b[0]===d||a.contains(b[0],d))&&a(d).focus(),c):b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){unit=b.cssUnit(c),unit[0]>0&&(e[c]=unit[0]*d+unit[1])}),e}}),a.fn.extend({effect:function(b){var c=h.apply(this,arguments),d={options:c[1],duration:c[2],callback:c[3]};c=d.options.mode;var e=a.effects[b];return a.fx.off||!e?c?this[c](d.duration,d.callback):this.each(function(){d.callback&&d.callback.call(this)}):e.call(this,d)},_show:a.fn.show,show:function(a){if(i(a))return this._show.apply(this,arguments);var b=h.apply(this,arguments);return b[1].mode="show",this.effect.apply(this,b)},_hide:a.fn.hide,hide:function(a){if(i(a))return this._hide.apply(this,arguments);var b=h.apply(this,arguments);return b[1].mode="hide",this.effect.apply(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(i(b)||"boolean"==typeof b||a.isFunction(b))return this.__toggle.apply(this,arguments);var c=h.apply(this,arguments);return c[1].mode="toggle",this.effect.apply(this,c)},cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}}),a.easing.jswing=a.easing.swing,a.extend(a.easing,{def:"easeOutQuad",swing:function(b,c,d,e,f){return a.easing[a.easing.def](b,c,d,e,f)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){a=1.70158;var f=0,g=d;return 0==b?c:1==(b/=e)?c+d:(f||(f=.3*e),g<Math.abs(d)?(g=d,a=f/4):a=f/(2*Math.PI)*Math.asin(d/g),-(g*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-a)*Math.PI/f))+c)},easeOutElastic:function(a,b,c,d,e){a=1.70158;var f=0,g=d;return 0==b?c:1==(b/=e)?c+d:(f||(f=.3*e),g<Math.abs(d)?(g=d,a=f/4):a=f/(2*Math.PI)*Math.asin(d/g),g*Math.pow(2,-10*b)*Math.sin(2*(b*e-a)*Math.PI/f)+d+c)},easeInOutElastic:function(a,b,c,d,e){a=1.70158;var f=0,g=d;return 0==b?c:2==(b/=e/2)?c+d:(f||(f=1.5*.3*e),g<Math.abs(d)?(g=d,a=f/4):a=f/(2*Math.PI)*Math.asin(d/g),1>b?-.5*g*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-a)*Math.PI/f)+c:.5*g*Math.pow(2,-10*(b-=1))*Math.sin(2*(b*e-a)*Math.PI/f)+d+c)},easeInBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),e*(c/=f)*c*((g+1)*c-g)+d},easeOutBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),e*((c=c/f-1)*c*((g+1)*c+g)+1)+d},easeInOutBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),(c/=f/2)<1?e/2*c*c*(((g*=1.525)+1)*c-g)+d:e/2*((c-=2)*c*(((g*=1.525)+1)*c+g)+2)+d},easeInBounce:function(b,c,d,e,f){return e-a.easing.easeOutBounce(b,f-c,0,e,f)+d},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?7.5625*d*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(b,c,d,e,f){return f/2>c?.5*a.easing.easeInBounce(b,2*c,0,e,f)+d:.5*a.easing.easeOutBounce(b,2*c-f,0,e,f)+.5*e+d}})}(jQuery),steal.loaded("jqueryui/lib/ui/jquery.effects.core.js"),function(a){a.effects.blind=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"vertical";a.effects.save(c,d),c.show();var g=a.effects.createWrapper(c).css({overflow:"hidden"}),h="vertical"==f?"height":"width";f="vertical"==f?g.height():g.width(),"show"==e&&g.css(h,0);var i={};i[h]="show"==e?f:0,g.animate(i,b.duration,b.options.easing,function(){"hide"==e&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),steal.loaded("jqueryui/lib/ui/jquery.effects.blind.js"),function(a){a.effects.bounce=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"effect"),f=b.options.direction||"up",g=b.options.distance||20,h=b.options.times||5,i=b.duration||250;/show|hide/.test(e)&&d.push("opacity"),a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var j="up"==f||"down"==f?"top":"left";if(f="up"==f||"left"==f?"pos":"neg",g=b.options.distance||("top"==j?c.outerHeight({margin:!0})/3:c.outerWidth({margin:!0})/3),"show"==e&&c.css("opacity",0).css(j,"pos"==f?-g:g),"hide"==e&&(g/=2*h),"hide"!=e&&h--,"show"==e){var k={opacity:1};k[j]=("pos"==f?"+=":"-=")+g,c.animate(k,i/2,b.options.easing),g/=2,h--}for(k=0;h>k;k++){var l={},m={};l[j]=("pos"==f?"-=":"+=")+g,m[j]=("pos"==f?"+=":"-=")+g,c.animate(l,i/2,b.options.easing).animate(m,i/2,b.options.easing),g="hide"==e?2*g:g/2}"hide"==e?(k={opacity:0},k[j]=("pos"==f?"-=":"+=")+g,c.animate(k,i/2,b.options.easing,function(){c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})):(l={},m={},l[j]=("pos"==f?"-=":"+=")+g,m[j]=("pos"==f?"+=":"-=")+g,c.animate(l,i/2,b.options.easing).animate(m,i/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})),c.queue("fx",function(){c.dequeue()}),c.dequeue()})}}(jQuery),steal.loaded("jqueryui/lib/ui/jquery.effects.bounce.js"),function(a){a.effects.clip=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","height","width"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"vertical";a.effects.save(c,d),c.show();var g=a.effects.createWrapper(c).css({overflow:"hidden"});g="IMG"==c[0].tagName?g:c;var h={size:"vertical"==f?"height":"width",position:"vertical"==f?"top":"left"};f="vertical"==f?g.height():g.width(),"show"==e&&(g.css(h.size,0),g.css(h.position,f/2));var i={};i[h.size]="show"==e?f:0,i[h.position]="show"==e?0:f/2,g.animate(i,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){"hide"==e&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()}})})}}(jQuery),steal.loaded("jqueryui/lib/ui/jquery.effects.clip.js"),function(a){a.effects.drop=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","opacity"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"left";a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var g="up"==f||"down"==f?"top":"left";f="up"==f||"left"==f?"pos":"neg";var h=b.options.distance||("top"==g?c.outerHeight({margin:!0})/2:c.outerWidth({margin:!0})/2);"show"==e&&c.css("opacity",0).css(g,"pos"==f?-h:h);var i={opacity:"show"==e?1:0};i[g]=("show"==e?"pos"==f?"+=":"-=":"pos"==f?"-=":"+=")+h,c.animate(i,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){"hide"==e&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),steal.loaded("jqueryui/lib/ui/jquery.effects.drop.js"),function(a){a.effects.explode=function(b){return this.queue(function(){var c=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3,d=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3;b.options.mode="toggle"==b.options.mode?a(this).is(":visible")?"hide":"show":b.options.mode;var e=a(this).show().css("visibility","hidden"),f=e.offset();f.top-=parseInt(e.css("marginTop"),10)||0,f.left-=parseInt(e.css("marginLeft"),10)||0;for(var g=e.outerWidth(!0),h=e.outerHeight(!0),i=0;c>i;i++)for(var j=0;d>j;j++)e.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-j*(g/d),top:-i*(h/c)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g/d,height:h/c,left:f.left+j*(g/d)+("show"==b.options.mode?(j-Math.floor(d/2))*(g/d):0),top:f.top+i*(h/c)+("show"==b.options.mode?(i-Math.floor(c/2))*(h/c):0),opacity:"show"==b.options.mode?0:1}).animate({left:f.left+j*(g/d)+("show"==b.options.mode?0:(j-Math.floor(d/2))*(g/d)),top:f.top+i*(h/c)+("show"==b.options.mode?0:(i-Math.floor(c/2))*(h/c)),opacity:"show"==b.options.mode?1:0},b.duration||500);setTimeout(function(){"show"==b.options.mode?e.css({visibility:"visible"}):e.css({visibility:"visible"}).hide(),b.callback&&b.callback.apply(e[0]),e.dequeue(),a("div.ui-effects-explode").remove()},b.duration||500)})}}(jQuery),steal.loaded("jqueryui/lib/ui/jquery.effects.explode.js"),function(a){a.effects.fade=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide");c.animate({opacity:d},{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),steal.loaded("jqueryui/lib/ui/jquery.effects.fade.js"),function(a){a.effects.fold=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.size||15,g=!!b.options.horizFirst,h=b.duration?b.duration/2:a.fx.speeds._default/2;a.effects.save(c,d),c.show();var i=a.effects.createWrapper(c).css({overflow:"hidden"}),j="show"==e!=g,k=j?["width","height"]:["height","width"];j=j?[i.width(),i.height()]:[i.height(),i.width()];var l=/([0-9]+)%/.exec(f);l&&(f=parseInt(l[1],10)/100*j["hide"==e?0:1]),"show"==e&&i.css(g?{height:0,width:f}:{height:f,width:0}),g={},l={},g[k[0]]="show"==e?j[0]:f,l[k[1]]="show"==e?j[1]:0,i.animate(g,h,b.options.easing).animate(l,h,b.options.easing,function(){"hide"==e&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),steal.loaded("jqueryui/lib/ui/jquery.effects.fold.js"),function(a){a.effects.highlight=function(b){return this.queue(function(){var c=a(this),d=["backgroundImage","backgroundColor","opacity"],e=a.effects.setMode(c,b.options.mode||"show"),f={backgroundColor:c.css("backgroundColor")};"hide"==e&&(f.opacity=0),a.effects.save(c,d),c.show().css({backgroundImage:"none",backgroundColor:b.options.color||"#ffff99"}).animate(f,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){"hide"==e&&c.hide(),a.effects.restore(c,d),"show"==e&&!a.support.opacity&&this.style.removeAttribute("filter"),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),steal.loaded("jqueryui/lib/ui/jquery.effects.highlight.js"),function(a){a.effects.pulsate=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"show");for(times=2*(b.options.times||5)-1,duration=b.duration?b.duration/2:a.fx.speeds._default/2,isVisible=c.is(":visible"),animateTo=0,isVisible||(c.css("opacity",0).show(),animateTo=1),("hide"==d&&isVisible||"show"==d&&!isVisible)&&times--,d=0;times>d;d++)c.animate({opacity:animateTo},duration,b.options.easing),animateTo=(animateTo+1)%2;c.animate({opacity:animateTo},duration,b.options.easing,function(){0==animateTo&&c.hide(),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}).dequeue()})}}(jQuery),steal.loaded("jqueryui/lib/ui/jquery.effects.pulsate.js"),function(a){a.effects.puff=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide"),e=parseInt(b.options.percent,10)||150,f=e/100,g={height:c.height(),width:c.width()};a.extend(b.options,{fade:!0,mode:d,percent:"hide"==d?e:100,from:"hide"==d?g:{height:g.height*f,width:g.width*f}}),c.effect("scale",b.options,b.duration,b.callback),c.dequeue()})},a.effects.scale=function(b){return this.queue(function(){var c=a(this),d=a.extend(!0,{},b.options),e=a.effects.setMode(c,b.options.mode||"effect"),f=parseInt(b.options.percent,10)||(0==parseInt(b.options.percent,10)?0:"hide"==e?0:100),g=b.options.direction||"both",h=b.options.origin;"effect"!=e&&(d.origin=h||["middle","center"],d.restore=!0),h={height:c.height(),width:c.width()},c.from=b.options.from||("show"==e?{height:0,width:0}:h),f={y:"horizontal"!=g?f/100:1,x:"vertical"!=g?f/100:1},c.to={height:h.height*f.y,width:h.width*f.x},b.options.fade&&("show"==e&&(c.from.opacity=0,c.to.opacity=1),"hide"==e&&(c.from.opacity=1,c.to.opacity=0)),d.from=c.from,d.to=c.to,d.mode=e,c.effect("size",d,b.duration,b.callback),c.dequeue()})},a.effects.size=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","width","height","overflow","opacity"],e=["position","top","bottom","left","right","overflow","opacity"],f=["width","height","overflow"],g=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],i=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],j=a.effects.setMode(c,b.options.mode||"effect"),k=b.options.restore||!1,l=b.options.scale||"both",m=b.options.origin,n={height:c.height(),width:c.width()};c.from=b.options.from||n,c.to=b.options.to||n,m&&(m=a.effects.getBaseline(m,n),c.from.top=(n.height-c.from.height)*m.y,c.from.left=(n.width-c.from.width)*m.x,c.to.top=(n.height-c.to.height)*m.y,c.to.left=(n.width-c.to.width)*m.x);var o={from:{y:c.from.height/n.height,x:c.from.width/n.width},to:{y:c.to.height/n.height,x:c.to.width/n.width}};("box"==l||"both"==l)&&(o.from.y!=o.to.y&&(d=d.concat(h),c.from=a.effects.setTransition(c,h,o.from.y,c.from),c.to=a.effects.setTransition(c,h,o.to.y,c.to)),o.from.x!=o.to.x&&(d=d.concat(i),c.from=a.effects.setTransition(c,i,o.from.x,c.from),c.to=a.effects.setTransition(c,i,o.to.x,c.to))),("content"==l||"both"==l)&&o.from.y!=o.to.y&&(d=d.concat(g),c.from=a.effects.setTransition(c,g,o.from.y,c.from),c.to=a.effects.setTransition(c,g,o.to.y,c.to)),a.effects.save(c,k?d:e),c.show(),a.effects.createWrapper(c),c.css("overflow","hidden").css(c.from),("content"==l||"both"==l)&&(h=h.concat(["marginTop","marginBottom"]).concat(g),i=i.concat(["marginLeft","marginRight"]),f=d.concat(h).concat(i),c.find("*[width]").each(function(){child=a(this),k&&a.effects.save(child,f);var c={height:child.height(),width:child.width()};child.from={height:c.height*o.from.y,width:c.width*o.from.x},child.to={height:c.height*o.to.y,width:c.width*o.to.x},o.from.y!=o.to.y&&(child.from=a.effects.setTransition(child,h,o.from.y,child.from),child.to=a.effects.setTransition(child,h,o.to.y,child.to)),o.from.x!=o.to.x&&(child.from=a.effects.setTransition(child,i,o.from.x,child.from),child.to=a.effects.setTransition(child,i,o.to.x,child.to)),child.css(child.from),child.animate(child.to,b.duration,b.options.easing,function(){k&&a.effects.restore(child,f)})})),c.animate(c.to,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){0===c.to.opacity&&c.css("opacity",c.from.opacity),"hide"==j&&c.hide(),a.effects.restore(c,k?d:e),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),steal.loaded("jqueryui/lib/ui/jquery.effects.scale.js"),function(a){a.effects.shake=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"];a.effects.setMode(c,b.options.mode||"effect");var e=b.options.direction||"left",f=b.options.distance||20,g=b.options.times||3,h=b.duration||b.options.duration||140;a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var i="up"==e||"down"==e?"top":"left",j="up"==e||"left"==e?"pos":"neg";e={};var k={},l={};for(e[i]=("pos"==j?"-=":"+=")+f,k[i]=("pos"==j?"+=":"-=")+2*f,l[i]=("pos"==j?"-=":"+=")+2*f,c.animate(e,h,b.options.easing),f=1;g>f;f++)c.animate(k,h,b.options.easing).animate(l,h,b.options.easing);c.animate(k,h,b.options.easing).animate(e,h/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}),c.dequeue()})}}(jQuery),steal.loaded("jqueryui/lib/ui/jquery.effects.shake.js"),function(a){a.effects.slide=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"show"),f=b.options.direction||"left";a.effects.save(c,d),c.show(),a.effects.createWrapper(c).css({overflow:"hidden"});var g="up"==f||"down"==f?"top":"left";f="up"==f||"left"==f?"pos":"neg";var h=b.options.distance||("top"==g?c.outerHeight({margin:!0}):c.outerWidth({margin:!0}));"show"==e&&c.css(g,"pos"==f?isNaN(h)?"-"+h:-h:h);var i={};i[g]=("show"==e?"pos"==f?"+=":"-=":"pos"==f?"-=":"+=")+h,c.animate(i,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){"hide"==e&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),steal.loaded("jqueryui/lib/ui/jquery.effects.slide.js"),function(a){a.effects.transfer=function(b){return this.queue(function(){var c=a(this),d=a(b.options.to),e=d.offset();d={top:e.top,left:e.left,height:d.innerHeight(),width:d.innerWidth()},e=c.offset();var f=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.options.className).css({top:e.top,left:e.left,height:c.innerHeight(),width:c.innerWidth(),position:"absolute"}).animate(d,b.duration,b.options.easing,function(){f.remove(),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),steal.loaded("jqueryui/lib/ui/jquery.effects.transfer.js"),steal("../core/core.js","../widget/widget.js").then("../lib/ui/jquery.ui.mouse.js"),steal.loaded("jqueryui/mouse/mouse.js"),steal("../stealjquery.js").then("../lib/ui/jquery.ui.core.js"),steal.loaded("jqueryui/core/core.js"),steal("../stealjquery.js").then("../lib/ui/jquery.ui.widget.js"),steal.loaded("jqueryui/widget/widget.js"),function(a,b){function c(b,c){var e=b.nodeName.toLowerCase();return"area"===e?(c=b.parentNode,e=c.name,b.href&&e&&"map"===c.nodeName.toLowerCase()?(b=a("img[usemap=#"+e+"]")[0],!!b&&d(b)):!1):(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||c:c)&&d(b)}function d(b){return!a(b).parents().andSelf().filter(function(){return"hidden"===a.curCSS(this,"visibility")||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{},a.ui.version||(a.extend(a.ui,{version:"@VERSION",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return"number"==typeof b?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return b=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){c=a(this[0]);for(var d;c.length&&c[0]!==document;){if(d=c.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(d=parseInt(c.css("zIndex"),10),!isNaN(d)&&0!==d))return d;c=c.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),e&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=100===c.offsetHeight,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,c,d){b=a.ui[b].prototype;for(var e in d)b.plugins[e]=b.plugins[e]||[],b.plugins[e].push([c,d[e]])},call:function(a,b,c){if((b=a.plugins[b])&&a.element[0].parentNode)for(var d=0;d<b.length;d++)a.options[b[d][0]]&&b[d][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?16&a.compareDocumentPosition(b):a!==b&&a.contains(b)},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;c=c&&"left"===c?"scrollLeft":"scrollTop";var d=!1;return b[c]>0?!0:(b[c]=1,d=b[c]>0,b[c]=0,d)},isOverAxis:function(a,b,c){return a>b&&b+c>a},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}}))}(jQuery),steal.loaded("jqueryui/lib/ui/jquery.ui.core.js"),function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d,e=0;null!=(d=b[e]);e++)try{a(d).triggerHandler("remove")}catch(f){}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){return c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}}),d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e,f=b.split(".")[0];b=b.split(".")[1],e=f+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e]=function(c){return!!a.data(c,b)},a[f]=a[f]||{},a[f][b]=function(a,b){arguments.length&&this._createWidget(a,b)},c=new c,c.options=a.extend(!0,{},c.options),a[f][b].prototype=a.extend(!0,c,{namespace:f,widgetName:b,widgetEventPrefix:a[f][b].prototype.widgetEventPrefix||b,widgetBaseClass:e},d),a.widget.bridge(b,a[f][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f="string"==typeof e,g=Array.prototype.slice.call(arguments,1),h=this;return e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e,f&&"_"===e.charAt(0)?h:(f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;return f!==d&&f!==b?(h=f,!1):void 0}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(0===arguments.length)return a.extend({},this.options);if("string"==typeof c){if(d===b)return this.options[c];e={},e[c]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e,f=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],b=c.originalEvent)for(e in b)e in c||(c[e]=b[e]);return this.element.trigger(c,d),!(a.isFunction(f)&&f.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}}(jQuery),steal.loaded("jqueryui/lib/ui/jquery.ui.widget.js"),function(a){var b=!/Phantom/.test(navigator.userAgent)&&"ontouchend"in document,c={touchStartEvent:b?"touchstart":"mousedown",touchStopEvent:b?"touchend":"mouseup",touchMoveEvent:b?"touchmove":"mousemove"},d=!1;a(document).bind(c.touchStopEvent,function(){d=!1});var e=function(a){return a.originalEvent.changedTouches&&a.originalEvent.changedTouches[0]&&(a.pageX=a.originalEvent.changedTouches[0].pageX,a.pageY=a.originalEvent.changedTouches[0].pageY,a.target=a.originalEvent.changedTouches[0].target,a.which=1),a};a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind(c.touchStartEvent+"."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)
},_mouseDown:function(b){if(b=e(b),!d){this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var f=this,g=1==b.which,h="string"==typeof this.options.cancel&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;return g&&!h&&this._mouseCapture(b)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){f.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(b)!==!1,!this._mouseStarted)?(b.preventDefault(),!0):(!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return f._mouseMove(a)},this._mouseUpDelegate=function(a){return f._mouseUp(a)},a(document).bind(c.touchMoveEvent+"."+this.widgetName,this._mouseMoveDelegate).bind(c.touchStopEvent+"."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),d=!0)):!0}},_mouseMove:function(b){return b=e(b),!a.browser.msie||document.documentMode>=9||b.button?this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&((this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1)?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted):this._mouseUp(b)},_mouseUp:function(b){return b=e(b),a(document).unbind(c.touchMoveEvent+"."+this.widgetName,this._mouseMoveDelegate).unbind(c.touchStopEvent+"."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),d=!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),steal.loaded("jqueryui/lib/ui/jquery.ui.mouse.js"),function(a){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){return this.element.data("draggable")?(this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this):void 0},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(b),this.handle?(c.iframeFix&&a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){if(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),!c){if(c=this._uiHash(),this._trigger("drag",b,c)===!1)return this._mouseUp({}),!1;this.position=c.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=!1;if(a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1),!(this.element[0]&&this.element[0].parentNode||"original"!=this.options.helper))return!1;if("invalid"==this.options.revert&&!c||"valid"==this.options.revert&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var d=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){d._trigger("stop",b)!==!1&&d._clear()})}else this._trigger("stop",b)!==!1&&this._clear();return!1},_mouseUp:function(b){return this.options.iframeFix===!0&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){var c=this.options.handle&&a(this.options.handle,this.element).length?!1:!0;return a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)}),c},_createHelper:function(b){var c=this.options;return b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):"clone"==c.helper?this.element.clone().removeAttr("id"):this.element,b.parents("body").length||b.appendTo("parent"==c.appendTo?this.element[0].parentNode:c.appendTo),b[0]!=this.element[0]&&!/(fixed|absolute)/.test(b.css("position"))&&b.css("position","absolute"),b},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&a.browser.msie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;if("parent"==b.containment&&(b.containment=this.helper[0].parentNode),("document"==b.containment||"window"==b.containment)&&(this.containment=["document"==b.containment?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==b.containment?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==b.containment?0:a(window).scrollLeft())+a("document"==b.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==b.containment?0:a(window).scrollTop())+(a("document"==b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(b.containment)||b.containment.constructor==Array)b.containment.constructor==Array&&(this.containment=b.containment);else{b=a(b.containment);var c=b[0];if(c){b.offset();var d="hidden"!=a(c).css("overflow");this.containment=[(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0),(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0),(d?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=b}}},_convertPositionTo:function(b,c){c||(c=this.position),b="absolute"==b?1:-1;var d="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName);return{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-(a.browser.safari&&a.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop())*b),left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-(a.browser.safari&&a.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())*b)}},_generatePosition:function(b){var c=this.options,d="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName),f=b.pageX,g=b.pageY;if(this.originalPosition){var h;this.containment&&(this.relative_container?(h=this.relative_container.offset(),h=[this.containment[0]+h.left,this.containment[1]+h.top,this.containment[2]+h.left,this.containment[3]+h.top]):h=this.containment,b.pageX-this.offset.click.left<h[0]&&(f=h[0]+this.offset.click.left),b.pageY-this.offset.click.top<h[1]&&(g=h[1]+this.offset.click.top),b.pageX-this.offset.click.left>h[2]&&(f=h[2]+this.offset.click.left),b.pageY-this.offset.click.top>h[3]&&(g=h[3]+this.offset.click.top)),c.grid&&(g=c.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY,g=h?g-this.offset.click.top<h[1]||g-this.offset.click.top>h[3]?g-this.offset.click.top<h[1]?g+c.grid[1]:g-c.grid[1]:g:g,f=c.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX,f=h?f-this.offset.click.left<h[0]||f-this.offset.click.left>h[2]?f-this.offset.click.left<h[0]?f+c.grid[0]:f-c.grid[0]:f:f)}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),"drag"==b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.extend(a.ui.draggable,{version:"@VERSION"}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"==d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("draggable"),e=this;a.each(d.sortables,function(){this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor")),b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){b=a(c.helper),c=a(this).data("draggable").options,b.css("opacity")&&(c._opacity=b.css("opacity")),b.css("opacity",c.opacity)},stop:function(b,c){b=a(this).data("draggable").options,b._opacity&&a(c.helper).css("opacity",b._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("draggable");b.scrollParent[0]!=document&&"HTML"!=b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var c=a(this).data("draggable"),d=c.options,e=!1;c.scrollParent[0]!=document&&"HTML"!=c.scrollParent[0].tagName?(d.axis&&"x"==d.axis||(c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity?c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+d.scrollSpeed:b.pageY-c.overflowOffset.top<d.scrollSensitivity&&(c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-d.scrollSpeed)),d.axis&&"y"==d.axis||(c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity?c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+d.scrollSpeed:b.pageX-c.overflowOffset.left<d.scrollSensitivity&&(c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-d.scrollSpeed))):(d.axis&&"x"==d.axis||(b.pageY-a(document).scrollTop()<d.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<d.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed))),d.axis&&"y"==d.axis||(b.pageX-a(document).scrollLeft()<d.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<d.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)))),e!==!1&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}}),a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("draggable"),c=b.options;b.snapElements=[],a(c.snap.constructor!=String?c.snap.items||":data(draggable)":c.snap).each(function(){var c=a(this),d=c.offset();this!=b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(b,c){for(var d=a(this).data("draggable"),e=d.options,f=e.snapTolerance,g=c.offset.left,h=g+d.helperProportions.width,i=c.offset.top,j=i+d.helperProportions.height,k=d.snapElements.length-1;k>=0;k--){var l=d.snapElements[k].left,m=l+d.snapElements[k].width,n=d.snapElements[k].top,o=n+d.snapElements[k].height;if(g>l-f&&m+f>g&&i>n-f&&o+f>i||g>l-f&&m+f>g&&j>n-f&&o+f>j||h>l-f&&m+f>h&&i>n-f&&o+f>i||h>l-f&&m+f>h&&j>n-f&&o+f>j){if("inner"!=e.snapMode){var p=Math.abs(n-j)<=f,q=Math.abs(o-i)<=f,r=Math.abs(l-h)<=f,s=Math.abs(m-g)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n-d.helperProportions.height,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m}).left-d.margins.left)}var t=p||q||r||s;"outer"!=e.snapMode&&(p=Math.abs(n-i)<=f,q=Math.abs(o-j)<=f,r=Math.abs(l-g)<=f,s=Math.abs(m-h)<=f,p&&(c.position.top=d._convertPositionTo("relative",{top:n,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o-d.helperProportions.height,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m-d.helperProportions.width}).left-d.margins.left)),!d.snapElements[k].snapping&&(p||q||r||s||t)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=p||q||r||s||t}else d.snapElements[k].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=!1}}}),a.ui.plugin.add("draggable","stack",{start:function(){var b=a(this).data("draggable").options;if(b=a.makeArray(a(b.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)}),b.length){var c=parseInt(b[0].style.zIndex)||0;a(b).each(function(a){this.style.zIndex=c+a}),this[0].style.zIndex=c+b.length}}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){b=a(c.helper),c=a(this).data("draggable").options,b.css("zIndex")&&(c._zIndex=b.css("zIndex")),b.css("zIndex",c.zIndex)},stop:function(b,c){b=a(this).data("draggable").options,b._zIndex&&a(c.helper).css("zIndex",b._zIndex)}})}(jQuery),steal.loaded("jqueryui/lib/ui/jquery.ui.draggable.js"),function(a){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,c=b.accept;this.isover=0,this.isout=1,this.accept=a.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[],a.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var b=a.ui.ddmanager.droppables[this.options.scope],c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(b,c){"accept"==b&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0])return!1;var e=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"droppable");return b.options.greedy&&!b.options.disabled&&b.options.scope==d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)?(e=!0,!1):void 0}),e?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.extend(a.ui.droppable,{version:"@VERSION"}),a.ui.intersect=function(b,c,d){if(!c.offset)return!1;var e=(b.positionAbs||b.position.absolute).left,f=e+b.helperProportions.width,g=(b.positionAbs||b.position.absolute).top,h=g+b.helperProportions.height,i=c.offset.left,j=i+c.proportions.width,k=c.offset.top,l=k+c.proportions.height;switch(d){case"fit":return e>=i&&j>=f&&g>=k&&l>=h;case"intersect":return i<e+b.helperProportions.width/2&&f-b.helperProportions.width/2<j&&k<g+b.helperProportions.height/2&&h-b.helperProportions.height/2<l;case"pointer":return a.ui.isOver((b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,k,i,c.proportions.height,c.proportions.width);case"touch":return(g>=k&&l>=g||h>=k&&l>=h||k>g&&h>l)&&(e>=i&&j>=e||f>=i&&j>=f||i>e&&f>j);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d=a.ui.ddmanager.droppables[b.options.scope]||[],e=c?c.type:null,f=(b.currentItem||b.element).find(":data(droppable)").andSelf(),g=0;a:for(;g<d.length;g++)if(!(d[g].options.disabled||b&&!d[g].accept.call(d[g].element[0],b.currentItem||b.element))){for(var h=0;h<f.length;h++)if(f[h]==d[g].element[0]){d[g].proportions.height=0;continue a}d[g].visible="none"!=d[g].element.css("display"),d[g].visible&&("mousedown"==e&&d[g]._activate.call(d[g],c),d[g].offset=d[g].element.offset(),d[g].proportions={width:d[g].element[0].offsetWidth,height:d[g].element[0].offsetHeight})}},drop:function(b,c){var d=!1;return a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c)))}),d},dragStart:function(b,c){b.element.parents(":not(body,html)").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d=a.ui.intersect(b,this,this.options.tolerance);if(d=d||1!=this.isover?d&&0==this.isover?"isover":null:"isout"){var e;if(this.options.greedy){var f=this.element.parents(":data(droppable):eq(0)");f.length&&(e=a.data(f[0],"droppable"),e.greedyChild="isover"==d?1:0)}e&&"isover"==d&&(e.isover=0,e.isout=1,e._out.call(e,c)),this[d]=1,this["isout"==d?"isover":"isout"]=0,this["isover"==d?"_over":"_out"].call(this,c),e&&"isout"==d&&(e.isout=0,e.isover=1,e._over.call(e,c))}}})},dragStop:function(b,c){b.element.parents(":not(body,html)").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}}(jQuery),steal.loaded("jqueryui/lib/ui/jquery.ui.droppable.js"),function(a){a.ui=a.ui||{};var b=/left|center|right/,c=/top|center|bottom/,d={},e=a.fn.position,f=a.fn.offset;a.fn.position=function(f){if(!f||!f.of)return e.apply(this,arguments);f=a.extend({},f);var g,h,i,j=a(f.of),k=j[0],l=(f.collision||"flip").split(" "),m=f.offset?f.offset.split(" "):[0,0];return 9===k.nodeType?(g=j.width(),h=j.height(),i={top:0,left:0}):k.setTimeout?(g=j.width(),h=j.height(),i={top:j.scrollTop(),left:j.scrollLeft()}):k.preventDefault?(f.at="left top",g=h=0,i={top:f.of.pageY,left:f.of.pageX}):(g=j.outerWidth(),h=j.outerHeight(),i=j.offset()),a.each(["my","at"],function(){var a=(f[this]||"").split(" ");1===a.length&&(a=b.test(a[0])?a.concat(["center"]):c.test(a[0])?["center"].concat(a):["center","center"]),a[0]=b.test(a[0])?a[0]:"center",a[1]=c.test(a[1])?a[1]:"center",f[this]=a}),1===l.length&&(l[1]=l[0]),m[0]=parseInt(m[0],10)||0,1===m.length&&(m[1]=m[0]),m[1]=parseInt(m[1],10)||0,"right"===f.at[0]?i.left+=g:"center"===f.at[0]&&(i.left+=g/2),"bottom"===f.at[1]?i.top+=h:"center"===f.at[1]&&(i.top+=h/2),i.left+=m[0],i.top+=m[1],this.each(function(){var b,c=a(this),e=c.outerWidth(),j=c.outerHeight(),k=parseInt(a.curCSS(this,"marginLeft",!0))||0,n=parseInt(a.curCSS(this,"marginTop",!0))||0,o=e+k+(parseInt(a.curCSS(this,"marginRight",!0))||0),p=j+n+(parseInt(a.curCSS(this,"marginBottom",!0))||0),q=a.extend({},i);"right"===f.my[0]?q.left-=e:"center"===f.my[0]&&(q.left-=e/2),"bottom"===f.my[1]?q.top-=j:"center"===f.my[1]&&(q.top-=j/2),d.fractions||(q.left=Math.round(q.left),q.top=Math.round(q.top)),b={left:q.left-k,top:q.top-n},a.each(["left","top"],function(c,d){a.ui.position[l[c]]&&a.ui.position[l[c]][d](q,{targetWidth:g,targetHeight:h,elemWidth:e,elemHeight:j,collisionPosition:b,collisionWidth:o,collisionHeight:p,offset:m,my:f.my,at:f.at})}),a.fn.bgiframe&&c.bgiframe(),c.offset(a.extend(q,{using:f.using}))})},a.ui.position={fit:{left:function(b,c){var d=a(window);d=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft(),b.left=d>0?b.left-d:Math.max(b.left-c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window);d=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop(),b.top=d>0?b.top-d:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if("center"!==c.at[0]){var d=a(window);d=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();var e="left"===c.my[0]?-c.elemWidth:"right"===c.my[0]?c.elemWidth:0,f="left"===c.at[0]?c.targetWidth:-c.targetWidth,g=-2*c.offset[0];b.left+=c.collisionPosition.left<0?e+f+g:d>0?e+f+g:0}},top:function(b,c){if("center"!==c.at[1]){var d=a(window);d=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();var e="top"===c.my[1]?-c.elemHeight:"bottom"===c.my[1]?c.elemHeight:0,f="top"===c.at[1]?c.targetHeight:-c.targetHeight,g=-2*c.offset[1];b.top+=c.collisionPosition.top<0?e+f+g:d>0?e+f+g:0}}}},a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),e=d.offset(),f=parseInt(a.curCSS(b,"top",!0),10)||0,g=parseInt(a.curCSS(b,"left",!0),10)||0;e={top:c.top-e.top+f,left:c.left-e.left+g},"using"in c?c.using.call(b,e):d.css(e)},a.fn.offset=function(b){var c=this[0];return c&&c.ownerDocument?b?this.each(function(){a.offset.setOffset(this,b)}):f.call(this):null}),function(){var b,c,e=document.getElementsByTagName("body")[0],f=document.createElement("div");b=document.createElement(e?"div":"body"),c={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},e&&a.extend(c,{position:"absolute",left:"-1000px",top:"-1000px"});for(var g in c)b.style[g]=c[g];b.appendChild(f),c=e||document.documentElement,c.insertBefore(b,c.firstChild),f.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",f=a(f).offset(function(a,b){return b}).offset(),b.innerHTML="",c.removeChild(b),e=f.top+f.left+(e?2e3:0),d.fractions=e>21&&22>e}()}(jQuery),steal.loaded("jqueryui/lib/ui/jquery.ui.position.js"),steal("jquery/view/ejs").then(function(a){a.View.preload("anddev_navigation_menu_base_views_asset_ejs",jQuery.EJS(function(b,e){try{with(e)with(b){for(b=[],b.push("<ul>\n"),e=0;e<assets.length;e++)b.push("\n"),b.push('<li class="asset'),b.push(jQuery.EJS.clean(assets[e].id)),b.push(' asset"  '),b.push(jQuery.EJS.clean(assets[e])),b.push(">\n"),b.push("	 "),null!=assets[e].thumbPath?(b.push("\n"),b.push('		 <img src="'),b.push(jQuery.EJS.clean(assets[e].thumbPath)),b.push('" alt="'),b.push(jQuery.EJS.clean(assets[e].name)),b.push('"/>\n')):(b.push("\n"),b.push('	<a href="#" class="menu_link">'),b.push(jQuery.EJS.clean(assets[e].title)),b.push("</a>\n")),b.push("	"),b.push("\n"),b.push("</li>\n");return b.push("\n"),b.push("</ul>"),b.join("")}}catch(g){throw g.lineNumber=null,g}}))}),steal.loaded("anddev/navigation/menu/base/views/asset.ejs"),steal("anddev/navigation/models/slide.js").then("anddev/navigation/models/list/slides.js").then(function(){anddev.Models.Slide.extend("anddev.Models.Asset",{},{hideonslide:!1,path:null,level:null,loaded:null,init:function(a,b){this.deferrer=new $.Deferred,this.loaded=this.deferrer.promise(),this.slide=b.slide,this.attrs($.extend(a,{title:this.slide.attr("title"),name:this.slide.attr("name"),related:[],submenu:new anddev.Models.Asset.List,disable:!1,disabled:[],buttons:this.slide.attr("buttons")||!1}))},setupReferences:function(a){var b=this,c=b.parent;$.each(["disabled","related","preload","buttons"],function(d,e){if(d=b.attr(e),"undefined"==typeof d)return!0;var f="preload"!=e&&"buttons"!=e?new anddev.Models.Asset.List:[];$.each(d,function(b,d){b=null,(b="preload"!=e&&"buttons"!=e?$.isPlainObject(d)?c.findByAttributes(d):c.findByPath(d):"buttons"==e?c.findBySlideId(d).length>0?c.findBySlideId(d)[0]:null:$.isPlainObject(d)?a.findByAttributes(d):a.findById(d))&&f.push(b)}),"buttons"==e&&(f=b.slide.buttons&&b.slide.buttons.length==f.length?!0:!1),b.attr(e,f)})},match:function(a){var b=!0;for(var c in a)b=c.match(/^slide\./gi)?this.slide[c.split(".")[1]]!=a[c]?!1:b:this[c]!=a[c]?!1:b;
return b},target:function(){return this.target},select:function(a){this.parent.isLocked()||"undefined"!=typeof this.parent.lastSelected&&this.parent.current().id==this.id&&this.parent.lastSelected.flow==this.parent.current().flow||($([anddev]).trigger("beforeSelect",jQuery.makeArray(this)),this.parent.enable(),this.disabled.disable(),this._super.apply(this,[a]),this.selectSlide(a))},selectSlide:function(a){var b=this.parent.lastSelected.index>this.index?"left":"right";a=a||{direction:b},"undefined"!=typeof this.preload&&this.preload.unshift(this.slide),$.extend(!0,a,{requiredRange:"undefined"!=typeof this.preload?this.preload:this.requiredRange,jumpSlide:this.jumpAsset()}),this.slide.select(a)},addAsset:function(a,b){return this[b].push(a),this},addRequiredAssets:function(a){return this.attr("requiredRange",this.parent.getRange(this.index,a.size)),this},jumpAsset:function(){var a=this;return this.parent.lastSelected?_.filter(this.parent.lastSelected.requiredRange,function(b){return b.id==a.id}).length>0?!1:!0:!0},getThumbPath:function(){if(null!=this.parent.thumb){var a=this.parent.thumb.replace("%slide.name%",this.thumb?this.thumb:this.name);return this.attr("thumbPath",a),a}return null}})}),steal.loaded("anddev/navigation/models/asset.js"),steal("anddev/core/models/iterator.js").then(function(){anddev.Models.Iterator("anddev.Models.Flow",{},{name:"none",selected:!1,load:function(a){return this.attr("assets",new anddev.Models.Asset.List),this.assets.name=this.name,this.assets.thumb=a.thumb,this.autoHide=a.autoHide?a.autoHide[this.name]:!1,this.assets.load({slides:a.slides,range:a.range})}})}),steal.loaded("anddev/navigation/models/flow.js"),steal("anddev/core/helpers/loader","anddev/core/models/iterator.js").then(function(){anddev.Models.Iterator("anddev.Models.Slide",{},{loader:anddev.helpers.loader,deferrer:null,loaded:null,init:function(a,b){this.deferrer=new $.Deferred,this.loaded=this.deferrer.promise(),this.config=b},select:function(a){a=$.extend({anim:!0,direction:"right"},a),this._super.apply(this,[a])},relativePath:function(){return this.config.folder.replace(/%slide.name%/,this.name)},absolutePath:function(){return this.loader.urlFor(this.relativePath())},url:function(){return this.relativePath()+this.config.index.replace(/%slide.name%/,this.name)},domReady:function(){if(this.isSelected())try{this.elements().trigger("ready",[this.elements()])}catch(a){console.log(a)}},load:function(){var a=this,b=this.loader.load.call(this.loader,this.files.apply(this,$.makeArray(arguments)),this);return b.done(function(){a.deferrer.resolve(a)}),b.fail(function(b){a.deferrer.reject(a),$.each(b,function(a,b){b.reject(function(a){throw new Error("failed to load "+a)})})}),b},files:function(){return arguments.length>0&&this.attr("loadedFiles",function(a,b){for(var c=0;c<b.length;c++)b[c]=a.relativePath()+b[c];return b}(this,$.makeArray(arguments))),this.attr("loadedFiles")}})}),steal.loaded("anddev/navigation/models/slide.js"),steal("anddev/core/models/list/iterator.js").then(function(){anddev.Models.Iterator.List("anddev.Models.Slide.List",{name:"slides"},{events:{forward:["loaded"]},deferrer:null,loaded:null,init:function(){this.deferrer=new $.Deferred,this.deferrer.timeid=(new Date).getTime(),this.loaded=this.deferrer.promise(),this._super.apply(this,jQuery.makeArray(arguments))},load:function(a,b){this.config=b.config;var c=this;return $.ajax({url:a,dataType:"json",success:function(a){c.addModels(a),c.deferrer.resolveWith(c,[c])},error:this.proxy("loadingFailed")}),this.loaded},addModels:function(a){var b=this;return $.each(a,function(a,c){a=new anddev.Models.Slide(c,b.config),b.bindSlide(a),b.push(a)}),this},bindSlide:function(a){var b=this;$.each(this.events.forward,function(c){$([a]).bind(c,function(){$([b]).trigger("slide:"+c,[this])})})},getModel:function(a){var b=null;return a instanceof anddev.Models.Slide?b=a:$.isNumeric(a)?b=this.get(a)[0]:$.isString(a)&&(b=this.findByName(a)),b},loadingFailed:function(){this.deferrer.rejectWith(this,$.makeArray(arguments))}})}),steal.loaded("anddev/navigation/models/list/slides.js"),steal("anddev/core/models/list/iterator.js").then(function(){anddev.Models.Iterator.List.extend("anddev.Models.Asset.List",{name:"assets"},{deferrer:null,loaded:null,locked:!1,slides:null,init:function(){this.deferrer=new $.Deferred,this.loaded=this.deferrer.promise(),this._super.apply(this,jQuery.makeArray(arguments))},load:function(a){this.slides=a.slides,this.range=a.range;var b=this;return this.slides.loaded.done(function(){b.ajaxLoading()}).fail(this.proxy("loadingFailed")),this.loaded},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},disable:function(){this.each(function(a,b){b.disable=!0})},enable:function(){this.each(function(a,b){b.disable=!1})},ajaxLoading:function(){var a=this,b=this.deferrer;$.ajax({url:this.name,dataType:"json",success:function(c){new $.Deferred;var d=[];try{a.getItem(a,"asset",c),$.each(a,function(a,b){d.push(b.loaded)}),$.when(d).done(function(){a.consolidateAssets()})}catch(e){a.loadingFailed(e)}b.resolveWith(a)},error:this.proxy("loadingFailed")})},getItem:function(a,b,c,d,e,f){var g=null,h="";d=d||"",e=e||0,f=f||1;for(var i=this,j=0,k=1;j<c.length;j++,k++){g=c[j],h=""==d?j+".0":d.split(".")[0]+"."+k;var l=this.slides.findById(g.id);if(!l)throw new Error("slide "+g.id+" doesn't exist, flow "+this.name+" can't be initialized.");("slidesorter"!=i.name||1!=l.hideonslidesorter)&&(l=new anddev.Models.Asset({id:f++,path:h,level:e,flow:i.name},{slide:l}),"asset"==b?(this.push(l),e>0&&a.addAsset(l,"submenu")):a.addAsset(l,b),g.submenu&&(f=this.getItem(l,"asset",g.submenu,h,e+1,f),delete g.submenu),delete g.id,l.attrs($.extend(l.attrs(),g,g.hideonmenu?{hideonmenu:!0}:{hideonmenu:!1})),l.deferrer.resolve(l))}return f},consolidateAssets:function(){var a=this;this.each(function(b,c){c.setupReferences(a.slides),c.addRequiredAssets(a.range),c.getThumbPath()})},getModel:function(a){var b=null;if(a instanceof anddev.Models.Asset?b=a:"string"==typeof a&&/^[0-9\.]+$/.test(a)?b=this.findByPath(a):"string"==typeof a?b=this.findByName(a):"number"==typeof a?b=this.findById(a):$.isPlainObject(a)&&(b=this.findByAttributes(a)),!b)throw new Error("asset "+a+" can't be found");return b},findByPath:function(a){return this.findByAttributes({path:a})},findBySlideId:function(a){var b=[];return this.each(function(c,d){d.slide&&d.slide.id==a&&b.push(d)}),b},loadingFailed:function(){this.deferrer.rejectWith(this,$.makeArray(arguments))},getRange:function(a,b){var c=[],d=[],e=[];this.each(function(f,g){f>a-b/2&&a+b/2>f&&(f==a?c.push(g.slide):f==a-1||f==a+1?d.push(g.slide):e.push(g.slide))});var f=$.merge($.merge(c,d),e),g=[];return $.each(f,function(a,b){-1==$.inArray(b,g)&&g.push(b)}),c=d=e=f=null,g}})}),steal.loaded("anddev/navigation/models/list/assets.js"),steal("anddev/core/models/list/iterator.js").then(function(){anddev.Models.Iterator.List.extend("anddev.Models.Flow.List",{name:"flows"},{deferrer:null,loaded:null,assets:null,thumb:null,init:function(){this.deferrer=new $.Deferred,this.loaded=this.deferrer.promise(),this.assets=new anddev.Models.Asset.List,this._super.apply(this,jQuery.makeArray(arguments))},selectFlow:function(a){return a?this.findByName(a).select():this.first()?this.first().select():null},changeFlow:function(a,b){b=b||null,this.selectFlow(a),b?this.assets.getModel(b).select():this.assets.first().select()},bindEvents:function(){this.on("selected",this.changeAssets,this),this._super.apply(this,jQuery.makeArray(arguments))},changeAssets:function(a){this.assets.replicate(a.assets)},load:function(a){this.config=a.config,this.range=a.sliderConfig.range,this.thumb=a.menuConfig.thumbPath,this.autoHide=a.menuConfig.autoHideMenu;var b=this;return a.slides.loaded.done(function(){b.initFlows(b.config.list,this)}).fail(this.proxy("loadingFailed")),this.loaded},initFlows:function(a,b){var c=0,d=null,e=this.deferrer,f=0,g=_.keys(a).length,h=this;for(var i in a)d=new anddev.Models.Flow({name:i,id:c++}),d.load({slides:b,range:this.range,thumb:this.thumb,autoHide:this.autoHide}).done(function(){++f>=g&&(h.selectFlow(),e.resolveWith(h,[h.assets]))}).fail(this.proxy("loadingFailed")),this.push(d);return e},loadingFailed:function(){this.deferrer.rejectWith(this,$.makeArray(arguments))}})}),steal.loaded("anddev/navigation/models/list/flows.js"),steal("anddev/navigation/menu/base").then("./css/menu.css").then("//anddev/navigation/menu/submenu/views/asset.ejs").then(function(){anddev.Controllers.Menu.Base("anddev.Controllers.Menu.Submenu",{pluginName:"subMenu",defaults:{template:"//anddev/navigation/menu/submenu/views/asset.ejs"}},{defaultHeight:0,init:function(){this._super(),this.defaultHeight=this.menutarget.height()},".asset:not(.disabled) longtap":function(a){this.hideSubMenu(),this.showSubmenu(a)},"{window} tapone":function(){this.hideSubMenu()},setCurrentStyle:function(a){return this._super.apply(this,[a]),a.elements().parents("li:first").addClass("selected"),this.hideSubMenu(),this},showSubmenu:function(a,b){$.isFunction(b)||(b=function(){}),a=a.find("ul:first"),this.changeHeight(parseInt(a.height())+parseInt(this.defaultHeight)),a.length&&(this.menuUl.draggable("disable"),a.is(":hidden")?a.show(this.config.subMenuEffect,this.config.subMenuEffectOption,this.config.subMenuEffectDuration,b()):a.hide(this.configf.subMenuEffect,this.config.subMenuEffectOption,this.config.subMenuEffectDuration,b()))},hideSubMenu:function(){this.element.find("li.submenu").parent().hide(),this.changeHeight(parseInt(this.defaultHeight)),this.menuUl.draggable("enable")},changeHeight:function(a){return this.menutarget.height(a),this},setAssetPosition:function(a){a.elements().hasClass("submenu")||this._super.apply(this,[a])}})}),steal.loaded("anddev/navigation/menu/submenu/submenu.js"),steal("anddev/navigation/menu/base").then("//anddev/navigation/menu/iscroll/views/asset.ejs").then("//anddev/navigation/menu/iscroll/js/iscroll.js").then(function(){anddev.Controllers.Menu.Base("anddev.Controllers.Menu.Iscroll",{pluginName:"iscroll",defaults:{css:{nav:{position:"absolute",transform:"translate(0px, 0px)",bottom:0,left:0}},config:null,iscrollConfig:{vScrollbar:!1,hScrollbar:!1,bounce:!1},subMenuLevel:1,menuscrollId:"menuscroll",menutargetId:"menutarget",scrollDimension:"x",template:"//anddev/navigation/menu/iscroll/views/asset.ejs"}},{init:function(){this._super.apply(this,[$.makeArray(arguments)]),this.menuscroll.css($.extend(this.css.nav,this.config.layout)),this.defaultHeight=this.menutarget.height(),"y"==this.options.scrollDimension&&(this.config.subMenuEffectOption="right"),this.render()},".asset:not(.disabled) longtap":function(a){this.hideSubMenu(),this.showSubmenu(a)},"{window} tapone":function(){this.hideSubMenu()},select:function(a,b,c){this.hideSubMenu(),a=this.getStorePos(),this.setCurrentStyle(c),b="x"==this.options.scrollDimension?"undefined":!0,this.firstLoading&&(null==a&&(a=0),this.setMenuScrollPos(a,b)),this.doScroll(c,b),this.disableAssets(c.disabled),this.firstLoading=!1},render:function(){return this.display(),this.dragAssets(),this.deferrer.resolve(),new iScroll(this.options.menutargetId,this.options.iscrollConfig),this},setMenuPosition:function(){this.menuscroll.attr("style","").css({width:this.coverWidth,position:"absolute"}),this.menuscroll.children().first().css("width","100%"),this.originalMenu=this.menuUl,this.originalPos=this.getMenuScrollPos("#"+this.options.menuscrollId),1==this.firstLoading&&("x"==this.options.scrollDimension?(this.initScrollSize("#"+this.options.menuscrollId),this.menuscroll.css({bottom:"0px"})):(this.initScrollSize("#"+this.options.menuscrollId,!0),this.menuscroll.css({top:"0px"})))},initScrollSize:function(a,b){if("undefined"==typeof b||"undefined"==b){var c=$(a).children().children();this.coverWidth=this.getTotalSize(c.length-1,c,b),$(a).css("width",this.coverWidth),$(a).children().first().css("width",this.coverWidth)}else if(b=this.getItemSize($(a+" li").first()),$(a).css("width",b),c=$(a).find("ul.submenu"),1==this.options.subMenuLevel&&c.length){$(a).find("li.submenu").css({clear:"none","margin-bottom":"0px"});for(var d=a=0;d<c.length;d++)a=this.getTotalSize($(c[d]).children().length-1,$(c[d]).children()),$(c[d]).css({left:b+"px",bottom:"0px",width:a+"px"})}},doScroll:function(a,b){var c="#"+this.options.menuscrollId,d="#"+this.options.menutargetId;if(1==b){var e=$(c).height();d=$(d).height()}else e=$(c).width(),d=$(d).width();if(d>=e)return this.disableAssets(a.disabled),this.firstLoading=!1,null;0!=a.level&&$(c+" li.selected").parents().eq(1).addClass("selected");var f=$(c).children().children();a=$(c).children().find(".selected");var g=this.getMenuScrollPos(c,b);c=this.getItemSize(a,b),a=f.index(a);var h=this.getTotalSize(a,f,b),i=h+g,j=d;i>0&&j>i?(e=-g,this.setStorePos(e),h>e&&e>h-c&&(e=h-c,this.setMenuScrollPos(e,b))):(i>=j?e=f.last().is(".selected")?e-d:h-d:(e=h-c,0==a&&(e=0)),this.setMenuScrollPos(e,b))},getTotalSize:function(a,b,c){for(var d=0,e=0;a>=e;e++)d+=this.getItemSize(b.eq(e),c);return d},getItemSize:function(a,b){var c=0;return"undefined"==typeof b||"undefined"==b?(c=a.outerWidth(),c=c+parseFloat(a.css("margin-left"))+parseFloat(a.css("margin-right"))):(c=a.outerHeight(),c=c+parseFloat(a.css("margin-top"))+parseFloat(a.css("margin-bottom"))),c},setAssetPosition:function(){return this.setStorePos(this.getMenuScrollPos("#"+this.options.menuscrollId)),this},getStorePos:function(){return anddev.helpers.storage.get("prevScrollPos")},setStorePos:function(a){return anddev.helpers.storage.set("prevScrollPos",a),a},dragAssets:function(){return this.menuUl=this.element.find("div:first"),this.setMenuPosition(),this},getMenuScrollPos:function(a,b){return a=window.getComputedStyle($(a).get(0)),a=new WebKitCSSMatrix(a.webkitTransform),"undefined"==typeof b||"undefined"==b?a.m41:a.m42},setMenuScrollPos:function(a,b){this.setStorePos(a),a="undefined"==typeof b||"undefined"==b?"translate(-"+a+"px, 0px)":"translate(0px, -"+a+"px)",$("#"+this.options.menuscrollId).css("-webkit-transform",a)},showSubmenu:function(a,b){$.isFunction(b)||(b=function(){}),a=a.find("ul:first"),"x"==this.options.scrollDimension&&this.changeHeight(parseFloat(a.height())+parseFloat(this.defaultHeight)),a.length&&(this.menuUl.draggable("disable"),a.is(":hidden")?a.show(this.config.subMenuEffect,this.config.subMenuEffectOption,this.config.subMenuEffectDuration,b()):a.hide(this.configf.subMenuEffect,this.config.subMenuEffectOption,this.config.subMenuEffectDuration,b()))},hideSubMenu:function(){this.element.find("li.submenu").parent().hide(),"x"==this.options.scrollDimension&&this.changeHeight(parseFloat(this.defaultHeight)),this.menuUl.draggable("enable")},changeHeight:function(a){return this.menutarget.height(a),this}})}),steal.loaded("anddev/navigation/menu/iscroll/iscroll.js"),steal("jquery/view/ejs").then(function(a){a.View.preload("anddev_navigation_menu_submenu_views_asset_ejs",jQuery.EJS(function(b,e){try{with(e)with(b){for(b=[],b.push('<ul class="'),b.push(jQuery.EJS.clean("undefined"!=typeof hassubmenu?"submenu":"")),b.push('">\n'),e=0;e<assets.length;e++)b.push("\n"),b.push('<li class="asset'),b.push(jQuery.EJS.clean(assets[e].id)),b.push(" asset "),b.push(jQuery.EJS.clean(assets[e].level>0?"submenu":"")),b.push('"  '),b.push(jQuery.EJS.clean(assets[e])),b.push(">	 	\n"),b.push("	"),null!=assets[e].thumbPath?(b.push("\n"),b.push('		 <img src="'),b.push(jQuery.EJS.clean(assets[e].thumbPath)),b.push('" alt="'),b.push(jQuery.EJS.clean(assets[e].name)),b.push('"/>\n')):(b.push("\n"),b.push('	<a href="#" class="menu_link">'),b.push(jQuery.EJS.clean(assets[e].title)),b.push("</a>\n")),b.push("	"),b.push("\n"),b.push("    "),assets[e].submenu.length>0&&(b.push("\n"),b.push("		 "),b.push(jQuery.EJS.text(a.View("//anddev/navigation/menu/submenu/views/asset",{assets:a.grep(assets[e].submenu,function(a){return 0==a.hideonmenu}),hassubmenu:!0}))),b.push("\n"),b.push("	 ")),b.push("\n"),b.push("</li>\n");return b.push("\n"),b.push("</ul>"),b.join("")}}catch(g){throw g.lineNumber=null,g}}))}),steal.loaded("anddev/navigation/menu/submenu/views/asset.ejs"),steal("jquery/view/ejs").then(function(a){a.View.preload("anddev_navigation_menu_iscroll_views_asset_ejs",jQuery.EJS(function(b,e){try{with(e)with(b){for(b=[],b.push('<ul class="'),b.push(jQuery.EJS.clean("undefined"!=typeof hassubmenu?"submenu":"")),b.push('">\n'),b.push("    "),e=0;e<assets.length;e++)b.push("\n"),b.push('    <li class="asset'),b.push(jQuery.EJS.clean(assets[e].id)),b.push(" asset "),b.push(jQuery.EJS.clean(assets[e].level>0?"submenu":"")),b.push('"  '),b.push(jQuery.EJS.clean(assets[e])),b.push(">\n"),b.push("        "),null!=assets[e].thumbPath?(b.push("\n"),b.push('        <img src="'),b.push(jQuery.EJS.clean(assets[e].thumbPath)),b.push('" alt="'),b.push(jQuery.EJS.clean(assets[e].name)),b.push('"/>\n')):(b.push("\n"),b.push('        <a href="#" class="menu_link">'),b.push(jQuery.EJS.clean(assets[e].title)),b.push("</a>\n")),b.push("        "),b.push("\n"),b.push("        "),assets[e].submenu.length>0&&(b.push("\n"),b.push("        "),b.push(jQuery.EJS.text(a.View("//anddev/navigation/menu/iscroll/views/asset",{assets:a.grep(assets[e].submenu,function(a){return 0==a.hideonmenu}),hassubmenu:!0}))),b.push("\n"),b.push("        ")),b.push("\n"),b.push("    </li>\n"),b.push("    ");return b.push("\n"),b.push("</ul>"),b.join("")}}catch(g){throw g.lineNumber=null,g}}))}),steal.loaded("anddev/navigation/menu/iscroll/views/asset.ejs"),function(a,b){function c(a){return""===f?a:(a=a.charAt(0).toUpperCase()+a.substr(1),f+a)}var d=Math,e=b.createElement("div").style,f=function(){for(var a,b="t,webkitT,MozT,msT,OT".split(","),c=0,d=b.length;d>c;c++)if(a=b[c]+"ransform",a in e)return b[c].substr(0,b[c].length-1);return!1}(),g=f?"-"+f.toLowerCase()+"-":"",h=c("transform"),i=c("transitionProperty"),j=c("transitionDuration"),k=c("transformOrigin"),l=c("transitionTimingFunction"),m=c("transitionDelay"),n=/android/gi.test(navigator.appVersion),o=/iphone|ipad/gi.test(navigator.appVersion),p=/hp-tablet/gi.test(navigator.appVersion),q=c("perspective")in e,r="ontouchstart"in a&&!p,s=f!==!1,t=c("transition")in e,u="onorientationchange"in a?"orientationchange":"resize",v=r?"touchstart":"mousedown",w=r?"touchmove":"mousemove",x=r?"touchend":"mouseup",y=r?"touchcancel":"mouseup",z=function(){return f===!1?!1:{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[f]}(),A=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){return setTimeout(a,1)}}(),B=function(){return a.cancelRequestAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||clearTimeout}(),C=q?" translateZ(0)":"";p=function(c,d){var e,f=this;f.wrapper="object"==typeof c?c:b.getElementById(c),f.wrapper.style.overflow="hidden",f.scroller=f.wrapper.children[0],f.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:n,hideScrollbar:o,fadeScrollbar:o&&q,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(e in d)f.options[e]=d[e];f.x=f.options.x,f.y=f.options.y,f.options.useTransform=s&&f.options.useTransform,f.options.hScrollbar=f.options.hScroll&&f.options.hScrollbar,f.options.vScrollbar=f.options.vScroll&&f.options.vScrollbar,f.options.zoom=f.options.useTransform&&f.options.zoom,f.options.useTransition=t&&f.options.useTransition,f.options.zoom&&n&&(C=""),f.scroller.style[i]=f.options.useTransform?g+"transform":"top left",f.scroller.style[j]="0",f.scroller.style[k]="0 0",f.options.useTransition&&(f.scroller.style[l]="cubic-bezier(0.33,0.66,0.66,1)"),f.options.useTransform?f.scroller.style[h]="translate("+f.x+"px,"+f.y+"px)"+C:f.scroller.style.cssText+=";position:absolute;top:"+f.y+"px;left:"+f.x+"px",f.options.useTransition&&(f.options.fixedScrollbar=!0),f.refresh(),f._bind(u,a),f._bind(v),r||"none"!=f.options.wheelAction&&(f._bind("DOMMouseScroll"),f._bind("mousewheel")),f.options.checkDOMChanges&&(f.checkDOMTime=setInterval(function(){f._checkDOMChanges()},500))},p.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(a){var b=this;switch(a.type){case v:if(!r&&0!==a.button)return;b._start(a);break;case w:b._move(a);break;case x:case y:b._end(a);break;case u:b._resize();break;case"DOMMouseScroll":case"mousewheel":b._wheel(a);break;case z:b._transitionEnd(a)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(a){var c,e=this;e[a+"Scrollbar"]?(e[a+"ScrollbarWrapper"]||(c=b.createElement("div"),e.options.scrollbarClass?c.className=e.options.scrollbarClass+a.toUpperCase():c.style.cssText="position:absolute;z-index:100;"+("h"==a?"height:7px;bottom:1px;left:2px;right:"+(e.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(e.hScrollbar?"7":"2")+"px;top:2px;right:1px"),c.style.cssText+=";pointer-events:none;"+g+"transition-property:opacity;"+g+"transition-duration:"+(e.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(e.options.hideScrollbar?"0":"1"),e.wrapper.appendChild(c),e[a+"ScrollbarWrapper"]=c,c=b.createElement("div"),e.options.scrollbarClass||(c.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+g+"background-clip:padding-box;"+g+"box-sizing:border-box;"+("h"==a?"height:100%":"width:100%")+";"+g+"border-radius:3px;border-radius:3px"),c.style.cssText+=";pointer-events:none;"+g+"transition-property:"+g+"transform;"+g+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+g+"transition-duration:0;"+g+"transform: translate(0,0)"+C,e.options.useTransition&&(c.style.cssText+=";"+g+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),e[a+"ScrollbarWrapper"].appendChild(c),e[a+"ScrollbarIndicator"]=c),"h"==a?(e.hScrollbarSize=e.hScrollbarWrapper.clientWidth,e.hScrollbarIndicatorSize=d.max(d.round(e.hScrollbarSize*e.hScrollbarSize/e.scrollerW),8),e.hScrollbarIndicator.style.width=e.hScrollbarIndicatorSize+"px",e.hScrollbarMaxScroll=e.hScrollbarSize-e.hScrollbarIndicatorSize,e.hScrollbarProp=e.hScrollbarMaxScroll/e.maxScrollX):(e.vScrollbarSize=e.vScrollbarWrapper.clientHeight,e.vScrollbarIndicatorSize=d.max(d.round(e.vScrollbarSize*e.vScrollbarSize/e.scrollerH),8),e.vScrollbarIndicator.style.height=e.vScrollbarIndicatorSize+"px",e.vScrollbarMaxScroll=e.vScrollbarSize-e.vScrollbarIndicatorSize,e.vScrollbarProp=e.vScrollbarMaxScroll/e.maxScrollY),e._scrollbarPos(a,!0)):e[a+"ScrollbarWrapper"]&&(s&&(e[a+"ScrollbarIndicator"].style[h]=""),e[a+"ScrollbarWrapper"].parentNode.removeChild(e[a+"ScrollbarWrapper"]),e[a+"ScrollbarWrapper"]=null,e[a+"ScrollbarIndicator"]=null)},_resize:function(){var a=this;setTimeout(function(){a.refresh()},n?200:0)},_pos:function(a,b){this.zoomed||(a=this.hScroll?a:0,b=this.vScroll?b:0,this.options.useTransform?this.scroller.style[h]="translate("+a+"px,"+b+"px) scale("+this.scale+")"+C:(a=d.round(a),b=d.round(b),this.scroller.style.left=a+"px",this.scroller.style.top=b+"px"),this.x=a,this.y=b,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(a,b){var c=this,e="h"==a?c.x:c.y;c[a+"Scrollbar"]&&(e=c[a+"ScrollbarProp"]*e,0>e?(c.options.fixedScrollbar||(e=c[a+"ScrollbarIndicatorSize"]+d.round(3*e),8>e&&(e=8),c[a+"ScrollbarIndicator"].style["h"==a?"width":"height"]=e+"px"),e=0):e>c[a+"ScrollbarMaxScroll"]&&(c.options.fixedScrollbar?e=c[a+"ScrollbarMaxScroll"]:(e=c[a+"ScrollbarIndicatorSize"]-d.round(3*(e-c[a+"ScrollbarMaxScroll"])),8>e&&(e=8),c[a+"ScrollbarIndicator"].style["h"==a?"width":"height"]=e+"px",e=c[a+"ScrollbarMaxScroll"]+(c[a+"ScrollbarIndicatorSize"]-e))),c[a+"ScrollbarWrapper"].style[m]="0",c[a+"ScrollbarWrapper"].style.opacity=b&&c.options.hideScrollbar?"0":"1",c[a+"ScrollbarIndicator"].style[h]="translate("+("h"==a?e+"px,0)":"0,"+e+"px)")+C)},_start:function(b){var c,e,f=this,g=r?b.touches[0]:b;f.enabled&&(f.options.onBeforeScrollStart&&f.options.onBeforeScrollStart.call(f,b),(f.options.useTransition||f.options.zoom)&&f._transitionTime(0),f.moved=!1,f.animating=!1,f.zoomed=!1,f.distX=0,f.distY=0,f.absDistX=0,f.absDistY=0,f.dirX=0,f.dirY=0,f.options.zoom&&r&&b.touches.length>1&&(e=d.abs(b.touches[0].pageX-b.touches[1].pageX),c=d.abs(b.touches[0].pageY-b.touches[1].pageY),f.touchesDistStart=d.sqrt(e*e+c*c),f.originX=d.abs(b.touches[0].pageX+b.touches[1].pageX-2*f.wrapperOffsetLeft)/2-f.x,f.originY=d.abs(b.touches[0].pageY+b.touches[1].pageY-2*f.wrapperOffsetTop)/2-f.y,f.options.onZoomStart&&f.options.onZoomStart.call(f,b)),f.options.momentum&&(f.options.useTransform?(c=getComputedStyle(f.scroller,null)[h].replace(/[^0-9\-.,]/g,"").split(","),e=+(c[12]||c[4]),c=+(c[13]||c[5])):(e=+getComputedStyle(f.scroller,null).left.replace(/[^0-9-]/g,""),c=+getComputedStyle(f.scroller,null).top.replace(/[^0-9-]/g,"")),(e!=f.x||c!=f.y)&&(f.options.useTransition?f._unbind(z):B(f.aniTime),f.steps=[],f._pos(e,c),f.options.onScrollEnd&&f.options.onScrollEnd.call(f))),f.absStartX=f.x,f.absStartY=f.y,f.startX=f.x,f.startY=f.y,f.pointX=g.pageX,f.pointY=g.pageY,f.startTime=b.timeStamp||Date.now(),f.options.onScrollStart&&f.options.onScrollStart.call(f,b),f._bind(w,a),f._bind(x,a),f._bind(y,a))},_move:function(a){var b=this,c=r?a.touches[0]:a,e=c.pageX-b.pointX,f=c.pageY-b.pointY,g=b.x+e,i=b.y+f,j=a.timeStamp||Date.now();b.options.onBeforeScrollMove&&b.options.onBeforeScrollMove.call(b,a),b.options.zoom&&r&&a.touches.length>1?(g=d.abs(a.touches[0].pageX-a.touches[1].pageX),i=d.abs(a.touches[0].pageY-a.touches[1].pageY),b.touchesDist=d.sqrt(g*g+i*i),b.zoomed=!0,c=1/b.touchesDistStart*b.touchesDist*this.scale,c<b.options.zoomMin?c=.5*b.options.zoomMin*Math.pow(2,c/b.options.zoomMin):c>b.options.zoomMax&&(c=2*b.options.zoomMax*Math.pow(.5,b.options.zoomMax/c)),b.lastScale=c/this.scale,g=this.originX-this.originX*b.lastScale+this.x,i=this.originY-this.originY*b.lastScale+this.y,this.scroller.style[h]="translate("+g+"px,"+i+"px) scale("+c+")"+C,b.options.onZoom&&b.options.onZoom.call(b,a)):(b.pointX=c.pageX,b.pointY=c.pageY,(g>0||g<b.maxScrollX)&&(g=b.options.bounce?b.x+e/2:g>=0||b.maxScrollX>=0?0:b.maxScrollX),(i>b.minScrollY||i<b.maxScrollY)&&(i=b.options.bounce?b.y+f/2:i>=b.minScrollY||b.maxScrollY>=0?b.minScrollY:b.maxScrollY),b.distX+=e,b.distY+=f,b.absDistX=d.abs(b.distX),b.absDistY=d.abs(b.distY),b.absDistX<6&&b.absDistY<6||(b.options.lockDirection&&(b.absDistX>b.absDistY+5?(i=b.y,f=0):b.absDistY>b.absDistX+5&&(g=b.x,e=0)),b.moved=!0,b._pos(g,i),b.dirX=e>0?-1:0>e?1:0,b.dirY=f>0?-1:0>f?1:0,j-b.startTime>300&&(b.startTime=j,b.startX=b.x,b.startY=b.y),b.options.onScrollMove&&b.options.onScrollMove.call(b,a)))},_end:function(c){if(!r||0===c.touches.length){var e,f,g=this,i=r?c.changedTouches[0]:c,k={dist:0,time:0},l={dist:0,time:0},m=(c.timeStamp||Date.now())-g.startTime,n=g.x,o=g.y;g._unbind(w,a),g._unbind(x,a),g._unbind(y,a),g.options.onBeforeScrollEnd&&g.options.onBeforeScrollEnd.call(g,c),g.zoomed?(n=g.scale*g.lastScale,n=Math.max(g.options.zoomMin,n),n=Math.min(g.options.zoomMax,n),g.lastScale=n/g.scale,g.scale=n,g.x=g.originX-g.originX*g.lastScale+g.x,g.y=g.originY-g.originY*g.lastScale+g.y,g.scroller.style[j]="200ms",g.scroller.style[h]="translate("+g.x+"px,"+g.y+"px) scale("+g.scale+")"+C,g.zoomed=!1,g.refresh(),g.options.onZoomEnd&&g.options.onZoomEnd.call(g,c)):(g.moved?(300>m&&g.options.momentum&&(k=n?g._momentum(n-g.startX,m,-g.x,g.scrollerW-g.wrapperW+g.x,g.options.bounce?g.wrapperW:0):k,l=o?g._momentum(o-g.startY,m,-g.y,g.maxScrollY<0?g.scrollerH-g.wrapperH+g.y-g.minScrollY:0,g.options.bounce?g.wrapperH:0):l,n=g.x+k.dist,o=g.y+l.dist,(g.x>0&&n>0||g.x<g.maxScrollX&&n<g.maxScrollX)&&(k={dist:0,time:0}),(g.y>g.minScrollY&&o>g.minScrollY||g.y<g.maxScrollY&&o<g.maxScrollY)&&(l={dist:0,time:0})),k.dist||l.dist?(k=d.max(d.max(k.time,l.time),10),g.options.snap&&(l=n-g.absStartX,m=o-g.absStartY,d.abs(l)<g.options.snapThreshold&&d.abs(m)<g.options.snapThreshold?g.scrollTo(g.absStartX,g.absStartY,200):(l=g._snap(n,o),n=l.x,o=l.y,k=d.max(l.time,k))),g.scrollTo(d.round(n),d.round(o),k)):g.options.snap?(l=n-g.absStartX,m=o-g.absStartY,d.abs(l)<g.options.snapThreshold&&d.abs(m)<g.options.snapThreshold?g.scrollTo(g.absStartX,g.absStartY,200):(l=g._snap(g.x,g.y),(l.x!=g.x||l.y!=g.y)&&g.scrollTo(l.x,l.y,l.time))):g._resetPos(200)):(r&&(g.doubleTapTimer&&g.options.zoom?(clearTimeout(g.doubleTapTimer),g.doubleTapTimer=null,g.options.onZoomStart&&g.options.onZoomStart.call(g,c),g.zoom(g.pointX,g.pointY,1==g.scale?g.options.doubleTapZoom:1),g.options.onZoomEnd&&setTimeout(function(){g.options.onZoomEnd.call(g,c)},200)):this.options.handleClick&&(g.doubleTapTimer=setTimeout(function(){for(g.doubleTapTimer=null,e=i.target;1!=e.nodeType;)e=e.parentNode;"SELECT"!=e.tagName&&"INPUT"!=e.tagName&&"TEXTAREA"!=e.tagName&&(f=b.createEvent("MouseEvents"),f.initMouseEvent("click",!0,!0,c.view,1,i.screenX,i.screenY,i.clientX,i.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,0,null),f._fake=!0,e.dispatchEvent(f))},g.options.zoom?250:0))),g._resetPos(400)),g.options.onTouchEnd&&g.options.onTouchEnd.call(g,c))}},_resetPos:function(a){var b=this,c=b.x>=0?0:b.x<b.maxScrollX?b.maxScrollX:b.x,d=b.y>=b.minScrollY||b.maxScrollY>0?b.minScrollY:b.y<b.maxScrollY?b.maxScrollY:b.y;c==b.x&&d==b.y?(b.moved&&(b.moved=!1,b.options.onScrollEnd&&b.options.onScrollEnd.call(b)),b.hScrollbar&&b.options.hideScrollbar&&("webkit"==f&&(b.hScrollbarWrapper.style[m]="300ms"),b.hScrollbarWrapper.style.opacity="0"),b.vScrollbar&&b.options.hideScrollbar&&("webkit"==f&&(b.vScrollbarWrapper.style[m]="300ms"),b.vScrollbarWrapper.style.opacity="0")):b.scrollTo(c,d,a||0)},_wheel:function(a){var b,c,d=this;if("wheelDeltaX"in a)b=a.wheelDeltaX/12,c=a.wheelDeltaY/12;else if("wheelDelta"in a)b=c=a.wheelDelta/12;else{if(!("detail"in a))return;b=c=3*-a.detail}"zoom"==d.options.wheelAction?(c=d.scale*Math.pow(2,1/3*(c?c/Math.abs(c):0)),c<d.options.zoomMin&&(c=d.options.zoomMin),c>d.options.zoomMax&&(c=d.options.zoomMax),c!=d.scale&&(!d.wheelZoomCount&&d.options.onZoomStart&&d.options.onZoomStart.call(d,a),d.wheelZoomCount++,d.zoom(a.pageX,a.pageY,c,400),setTimeout(function(){d.wheelZoomCount--,!d.wheelZoomCount&&d.options.onZoomEnd&&d.options.onZoomEnd.call(d,a)},400))):(b=d.x+b,c=d.y+c,b>0?b=0:b<d.maxScrollX&&(b=d.maxScrollX),c>d.minScrollY?c=d.minScrollY:c<d.maxScrollY&&(c=d.maxScrollY),d.maxScrollY<0&&d.scrollTo(b,c,0))},_transitionEnd:function(a){var b=this;a.target==b.scroller&&(b._unbind(z),b._startAni())},_startAni:function(){var a,b,c,e=this,f=e.x,g=e.y,h=Date.now();e.animating||(e.steps.length?(a=e.steps.shift(),a.x==f&&a.y==g&&(a.time=0),e.animating=!0,e.moved=!0,e.options.useTransition?(e._transitionTime(a.time),e._pos(a.x,a.y),e.animating=!1,a.time?e._bind(z):e._resetPos(0)):(c=function(){var i=Date.now();i>=h+a.time?(e._pos(a.x,a.y),e.animating=!1,e.options.onAnimationEnd&&e.options.onAnimationEnd.call(e),e._startAni()):(i=(i-h)/a.time-1,b=d.sqrt(1-i*i),i=(a.x-f)*b+f,e._pos(i,(a.y-g)*b+g),e.animating&&(e.aniTime=A(c)))},c())):e._resetPos(400))},_transitionTime:function(a){a+="ms",this.scroller.style[j]=a,this.hScrollbar&&(this.hScrollbarIndicator.style[j]=a),this.vScrollbar&&(this.vScrollbarIndicator.style[j]=a)},_momentum:function(a,b,c,e,f){b=d.abs(a)/b;var g=b*b/.0012,h=0;
return h=0,a>0&&g>c?(h=f/(6/(6e-4*(g/b))),c+=h,b=b*c/g,g=c):0>a&&g>e&&(h=f/(6/(6e-4*(g/b))),e+=h,b=b*e/g,g=e),g*=0>a?-1:1,h=b/6e-4,{dist:g,time:d.round(h)}},_offset:function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return a!=this.wrapper&&(b*=this.scale,c*=this.scale),{left:b,top:c}},_snap:function(a,b){var c,e,f,g=this;for(f=g.pagesX.length-1,c=0,e=g.pagesX.length;e>c;c++)if(a>=g.pagesX[c]){f=c;break}for(f==g.currPageX&&f>0&&g.dirX<0&&f--,a=g.pagesX[f],e=(e=d.abs(a-g.pagesX[g.currPageX]))?500*(d.abs(g.x-a)/e):0,g.currPageX=f,f=g.pagesY.length-1,c=0;f>c;c++)if(b>=g.pagesY[c]){f=c;break}return f==g.currPageY&&f>0&&g.dirY<0&&f--,b=g.pagesY[f],c=(c=d.abs(b-g.pagesY[g.currPageY]))?500*(d.abs(g.y-b)/c):0,g.currPageY=f,g=d.round(d.max(e,c))||200,{x:a,y:b,time:g}},_bind:function(a,b,c){(b||this.scroller).addEventListener(a,this,!!c)},_unbind:function(a,b,c){(b||this.scroller).removeEventListener(a,this,!!c)},destroy:function(){var b=this;b.scroller.style[h]="",b.hScrollbar=!1,b.vScrollbar=!1,b._scrollbar("h"),b._scrollbar("v"),b._unbind(u,a),b._unbind(v),b._unbind(w,a),b._unbind(x,a),b._unbind(y,a),b.options.hasTouch||(b._unbind("DOMMouseScroll"),b._unbind("mousewheel")),b.options.useTransition&&b._unbind(z),b.options.checkDOMChanges&&clearInterval(b.checkDOMTime),b.options.onDestroy&&b.options.onDestroy.call(b)},refresh:function(){var a,b,c,e=this,f=0;if(b=0,e.scale<e.options.zoomMin&&(e.scale=e.options.zoomMin),e.wrapperW=e.wrapper.clientWidth||1,e.wrapperH=e.wrapper.clientHeight||1,e.minScrollY=-e.options.topOffset||0,e.scrollerW=d.round(e.scroller.offsetWidth*e.scale),e.scrollerH=d.round((e.scroller.offsetHeight+e.minScrollY)*e.scale),e.maxScrollX=e.wrapperW-e.scrollerW,e.maxScrollY=e.wrapperH-e.scrollerH+e.minScrollY,e.dirX=0,e.dirY=0,e.options.onRefresh&&e.options.onRefresh.call(e),e.hScroll=e.options.hScroll&&e.maxScrollX<0,e.vScroll=e.options.vScroll&&(!e.options.bounceLock&&!e.hScroll||e.scrollerH>e.wrapperH),e.hScrollbar=e.hScroll&&e.options.hScrollbar,e.vScrollbar=e.vScroll&&e.options.vScrollbar&&e.scrollerH>e.wrapperH,a=e._offset(e.wrapper),e.wrapperOffsetLeft=-a.left,e.wrapperOffsetTop=-a.top,"string"==typeof e.options.snap)for(e.pagesX=[],e.pagesY=[],c=e.scroller.querySelectorAll(e.options.snap),a=0,b=c.length;b>a;a++)f=e._offset(c[a]),f.left+=e.wrapperOffsetLeft,f.top+=e.wrapperOffsetTop,e.pagesX[a]=f.left<e.maxScrollX?e.maxScrollX:f.left*e.scale,e.pagesY[a]=f.top<e.maxScrollY?e.maxScrollY:f.top*e.scale;else if(e.options.snap){for(e.pagesX=[];f>=e.maxScrollX;)e.pagesX[b]=f,f-=e.wrapperW,b++;for(e.maxScrollX%e.wrapperW&&(e.pagesX[e.pagesX.length]=e.maxScrollX-e.pagesX[e.pagesX.length-1]+e.pagesX[e.pagesX.length-1]),b=f=0,e.pagesY=[];f>=e.maxScrollY;)e.pagesY[b]=f,f-=e.wrapperH,b++;e.maxScrollY%e.wrapperH&&(e.pagesY[e.pagesY.length]=e.maxScrollY-e.pagesY[e.pagesY.length-1]+e.pagesY[e.pagesY.length-1])}e._scrollbar("h"),e._scrollbar("v"),e.zoomed||(e.scroller.style[j]="0",e._resetPos(400))},scrollTo:function(a,b,c,d){var e=this,f=a;for(e.stop(),f.length||(f=[{x:a,y:b,time:c,relative:d}]),a=0,b=f.length;b>a;a++)f[a].relative&&(f[a].x=e.x-f[a].x,f[a].y=e.y-f[a].y),e.steps.push({x:f[a].x,y:f[a].y,time:f[a].time||0});e._startAni()},scrollToElement:function(a,b){var c=this;(a=a.nodeType?a:c.scroller.querySelector(a))&&(a=c._offset(a),a.left+=c.wrapperOffsetLeft,a.top+=c.wrapperOffsetTop,a.left=a.left>0?0:a.left<c.maxScrollX?c.maxScrollX:a.left,a.top=a.top>c.minScrollY?c.minScrollY:a.top<c.maxScrollY?c.maxScrollY:a.top,b=void 0===b?d.max(2*d.abs(a.left),2*d.abs(a.top)):b,c.scrollTo(a.left,a.top,b))},scrollToPage:function(a,b,c){var d=this;c=void 0===c?400:c,d.options.onScrollStart&&d.options.onScrollStart.call(d),d.options.snap?(a="next"==a?d.currPageX+1:"prev"==a?d.currPageX-1:a,b="next"==b?d.currPageY+1:"prev"==b?d.currPageY-1:b,a=0>a?0:a>d.pagesX.length-1?d.pagesX.length-1:a,b=0>b?0:b>d.pagesY.length-1?d.pagesY.length-1:b,d.currPageX=a,d.currPageY=b,a=d.pagesX[a],b=d.pagesY[b]):(a=-d.wrapperW*a,b=-d.wrapperH*b,a<d.maxScrollX&&(a=d.maxScrollX),b<d.maxScrollY&&(b=d.maxScrollY)),d.scrollTo(a,b,c)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(w,a),this._unbind(x,a),this._unbind(y,a)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(z):B(this.aniTime),this.steps=[],this.animating=this.moved=!1},zoom:function(a,b,c,d){var e=this,f=c/e.scale;e.options.useTransform&&(e.zoomed=!0,d=void 0===d?200:d,a=a-e.wrapperOffsetLeft-e.x,b=b-e.wrapperOffsetTop-e.y,e.x=a-a*f+e.x,e.y=b-b*f+e.y,e.scale=c,e.refresh(),e.x=e.x>0?0:e.x<e.maxScrollX?e.maxScrollX:e.x,e.y=e.y>e.minScrollY?e.minScrollY:e.y<e.maxScrollY?e.maxScrollY:e.y,e.scroller.style[j]=d+"ms",e.scroller.style[h]="translate("+e.x+"px,"+e.y+"px) scale("+c+")"+C,e.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},e=null,"undefined"!=typeof exports?exports.iScroll=p:a.iScroll=p}(window,document),steal.loaded("anddev/navigation/menu/iscroll/js/iscroll.js"),steal("jquery/view/ejs").then(function(a){a.View.preload("anddev_navigation_slider_views_slide_ejs",jQuery.EJS(function(b,e){try{with(e)with(b){for(b=[],e=0;e<slides.length;e++)b.push("\n"),b.push('<div class="slide '),b.push(jQuery.EJS.clean(slides[e].name)),b.push('" '),b.push(jQuery.EJS.clean(slides[e])),b.push(">\n"),b.push(" "),b.push(jQuery.EJS.text(a.View(slides[e].url(),{slide:slides[e]}))),b.push("\n"),b.push("</div>\n");return b.push("\n"),b.push("\n"),b.join("")}}catch(g){throw g.lineNumber=null,g}}))}),steal.loaded("anddev/navigation/slider/views/slide.ejs"),steal("anddev/core").then("anddev/player/default","anddev/player/si").then(function(){anddev.ready("core",function(){var a=anddev.helpers.modernizr.player;anddev.Components.Player[a]||console.warn('"'+a+'" player has no connector class, use default');var b=anddev.config[a]?anddev.config[a]:{},c=anddev.Components.Player[a]?new anddev.Components.Player[a](b):new anddev.Components.Player.Default(b);c.initConnector().done(function(){c.initModels().done(function(){anddev.setup.initialize("player").done(function(){c.initControllers().done(function(){anddev.player=c.map(),anddev.setup.isReady("player")})}).fail(function(){console.error("init external lib for player failed",arguments)})})})})}),steal.loaded("anddev/player/player.js"),steal("./connector/connector.js","./loadingPage/loadingPage.js").then(function(){anddev.Class.Component("anddev.Components.Player.Default",{},{connector:null,config:{loadingPage:{plugin:"loadingPage"}},initConnector:function(){return this.connector=new anddev.Class.Connector.Default(this.config),this.connector.loaded},initModels:function(){return(new $.Deferred).resolve().promise()},initControllers:function(){var a=new $.Deferred;return this.initLoadingPage(this.config.loadingPage),a.resolve().promise()},initLoadingPage:function(a){return this.initController("loadingPage",a)},initController:function(a,b){b=this.config[a];var c=b.plugin;target=$("body");var d=$("#"+a);return 0==d.length&&(d=$('<div class="'+a+'">'),target.append(d)),this.controllers[a]=d[c]({connector:this.connector,config:b}).controller()},mapping:function(){return{connector:this.connector,trackingSupported:!1}}})}),steal.loaded("anddev/player/default/default.js"),steal("anddev/player/default","./connector/connector.js","./style/si.css","./models/meeting.js","./loadingPage/loadingPage.js","./close/close.js","./switchPresentation/switchPresentation.js").then(function(){anddev.Components.Player.Default("anddev.Components.Player.SI",{},{models:{meeting:null},controllers:{close:null,switchPresentation:null,loadingPage:null},connector:null,config:{},initConnector:function(){return this.connector=new anddev.Class.Connector.SI(this.config),this.connector.loaded},initModels:function(){var a=new $.Deferred;return this.models={meeting:new anddev.Models.Meeting(this.connector.storage.get("meeting",{presentations:[],accounts:[],current_presentation:null,user:null}))},a.resolve().promise()},initControllers:function(){var a=this.connector.toSI,b=new $.Deferred,c=null,d=null,e=null;return a.closePresentation||(c=this.initController(this.config.closeButton)),a.listPresentation||-1!=$.inArray(this.connector.fromSI.plugin.identifier,this.config.switchPresentation.limitation)||(d=this.initController(this.config.switchPresentation)),e=this.initController(this.config.loadingPage),this.controllers={close:c,switchPresentation:d,loadingPage:e},b.resolve().promise()},initController:function(a){var b=a.plugin,c=a.element,d=$("body");return c=$("#"+c),0==c.length&&(c=$('<div class="siControllers '+b+'">'),d.append(c)),c[b]({meeting:this.models.meeting,connector:this.connector,config:a}).controller()},mapping:function(){return{connector:this.connector,tracking:function(a,b){return a=$.extend(!0,{presentation_id:this.models.meeting.current_presentation&&this.models.meeting.current_presentation.id?this.models.meeting.current_presentation.id:null,presentation_uuid:this.models.meeting.current_presentation&&this.models.meeting.current_presentation.uuid?this.models.meeting.current_presentation.uuid:null},a),this.connector.tracking(a,b)},mailing:this.connector.proxy("mailing"),close:this.connector.proxy("close"),loadPresentation:this.connector.proxy("loadPresentation"),loadingPage:this.connector.proxy("loadingPage"),memoryInfo:this.connector.proxy("memoryInfo"),config:{toSI:this.connector.toSI,fromSI:this.connector.fromSI},trackingSupported:this.connector.trackingSupported(),createWebview:this.connector.proxy("createWebview"),removeWebview:this.connector.proxy("removeWebview"),showWebview:this.connector.proxy("showWebview"),libraryEmailing:this.connector.proxy("libraryEmailing")}}})}),steal.loaded("anddev/player/si/si.js"),steal("jquery/class").then(function(){$.Class("anddev.Class.Connector.Default",{},{loaded:null,init:function(){var a=new $.Deferred;this.loaded=a.promise(),a.resolve()},trackingSupported:function(){return!1},setupCommunication:function(){console.warn("Base connector setup !")},sendMessage:function(){console.warn("Base connector used ! send message",arguments);var a=$.makeArray(arguments);return a=a[a.length-1],$.isFunction(a)&&a.apply(this),!1},bind:function(a){return console.warn("Base connector bind with app !",a),this}})}),steal.loaded("anddev/player/default/connector/connector.js"),steal("jquery/controller").then(function(){$.Controller("anddev.Controllers.LoadingPage",{pluginName:"loadingPage",listensTo:["ready"]},{"{anddev} ready":function(){},"{anddev} slide:ready":function(){this.element.remove()}})}),steal.loaded("anddev/player/default/loadingPage/loadingPage.js"),steal("anddev/player/default/connector","jquery/lang/observe").then("anddev/core/helpers/storage","anddev/core/helpers/loader").then("../models/queue.js").then("../models/list/queues.js").then(function(){anddev.Class.Connector.Default("anddev.Class.Connector.SI",{},{loaded:null,frame:null,baseCommand:"command:gap:none:",data:{command:""},messageQueue:null,state:"pending",init:function(a){this.onResponse=this.proxy("response"),this.command=$.O(this.data),this.messageQueue=new anddev.Models.Queue.List,this.storage=new anddev.Class.Storage("content","infos"),this.config=a,this.setupCommunication(),this.loaded=this.getConfig().fail(function(){throw new Error("SI configuration error")})},trackingSupported:function(){return this.fromSI.plugin&&"call"==this.fromSI.plugin.identifier},getConfig:function(){return this.fromSI=this.storage.get("si",{namespace:"command:gap:none:",version:null,plugin:{identifier:null,version:""}}),this.baseCommand=this.fromSI.namespace,this.getConfigForSI()},getConfigForSI:function(){var a=this;return $.ajax({url:this.config.url,dataType:"json",success:function(b){a.toSI=b}})},setupCommunication:function(){var a=this.frame=$("<iframe>").css({width:"0px",height:"0px",left:"-9999px",top:"-9999px",position:"absolute"});$("body").append(this.frame),this.command.bind("change",function(b,c,d,e){a.attr("src",e)}),a.get(0).command=this.command},close:function(){return $([this]).trigger("terminate"),this.sendMessage.apply(this,["close"].concat($.makeArray(arguments)))},loadPresentation:function(){return $([this]).trigger("terminate"),this.sendMessage.apply(this,["loadPresentation"].concat($.makeArray(arguments)))},loadingPage:function(){return this.sendMessage.apply(this,["loadingPage"].concat($.makeArray(arguments)))},tracking:function(a,b){return this.sendDataMessage("tracking",a,b)},mailing:function(a,b){return this.sendDataMessage("mailing",a,b)},memoryInfo:function(){return this.sendMessage.apply(this,["memoryInfo"].concat($.makeArray(arguments)))},bind:function(){return this},sendMessage:function(){return this.execMessage(this.getMessage.apply(this,$.makeArray(arguments)))},sendDataMessage:function(a,b,c){return c=c||function(){},a=this.getMessage(a),a.always(c),a.storageData(b),this.execMessage(a)},sending:function(a){this.command.attr("command",a.buildCommand(this.baseCommand)),console.log("sending",a.buildCommand(this.baseCommand)),a.sending(),a.fail(function(a){console.error("command error",this.message,this.id,this.params,a)})},response:function(a,b){var c=this.messageQueue.findById(a);c?(c.setResponse.apply(c,[b].concat($.makeArray(arguments).splice(2))),this.messageQueue.remove(c),c.destroy()):console.warn("no message found for id "+a)},getMessage:function(a){var b=new anddev.Models.Queue({message:a,params:$.makeArray(arguments).splice(1)});return this.messageQueue.push(b),b},execMessage:function(a){return this.messageQueue.process(this.sending,this),a},createWebview:function(){return this.sendMessage.apply(this,["createWebview"].concat($.makeArray(arguments)))},removeWebview:function(){return this.sendMessage.apply(this,["removeWebview"].concat($.makeArray(arguments)))},showWebview:function(){return this.sendMessage.apply(this,["showWebview"].concat($.makeArray(arguments)))},libraryEmailing:function(){return this.sendMessage.apply(this,["libraryEmailing"].concat($.makeArray(arguments)))}})}),steal.loaded("anddev/player/si/connector/connector.js"),steal("jquery/model","./user.js","./list/presentations.js","./list/accounts.js").then(function(){$.Model("anddev.Models.Meeting",{},{setup:function(a){a.accounts=new anddev.Models.Account.List(a.accounts),a.presentations.selectedPrezs||a.presentations.otherPrezs?$.each(a.presentations,function(b,c){a.presentations[b]=new anddev.Models.Presentation.List(c)}):a.presentations=new anddev.Models.Presentation.List(a.presentations);var b=null;return a.current_presentation&&(a.presentations.selectedPrezs&&(b=a.presentations.selectedPrezs.findById(a.current_presentation.id)),!b&&a.presentations.otherPrezs&&(b=a.presentations.otherPrezs.findById(a.current_presentation.id)),b||(b=a.presentations.findById(a.current_presentation.id))),a.current_presentation=b?b:null,a.user=new anddev.Models.User(a.user),this._super.apply(this,[a])}})}),steal.loaded("anddev/player/si/models/meeting.js"),steal("anddev/player/default/loadingPage").then(function(){anddev.Controllers.LoadingPage("anddev.Controllers.SI.LoadingPage",{pluginName:"siLoadingPage"},{init:function(){this.connector=this.options.connector},"{anddev} slide:ready":function(){this.connector.loadingPage(!1),this.element.remove()}})}),steal.loaded("anddev/player/si/loadingPage/loadingPage.js"),steal(function(){$.Controller("anddev.Controllers.SI.CloseButton",{pluginName:"siCloseButton",defaults:{config:{layout:{},icon:"",blackout:null,fadeOut:1e3},css:{width:"32px",height:"32px",position:"absolute",cursor:"pointer"}}},{init:function(){this.element.css(this.options.css),this.connector=this.options.connector,this.render(),this.bind()},render:function(){this.element.css($.extend(!0,this.options.css,this.options.config.layout)),this.options.config.icon&&this.element.css({backgroundImage:"url("+this.options.config.icon+")"})},click:function(){$([anddev]).trigger("presentation:close"),this.connector.close()},"{connector} terminate":function(){if(this.options.config.background){var a=$("<div>");a.css({width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:"10000",background:this.options.config.background}),$("body").append(a)}}})}),steal.loaded("anddev/player/si/close/close.js"),steal("jquery/controller/view","jquery/view","jquery/view/ejs").then("//anddev/player/si/switchPresentation/views/presentation.ejs","./css/presentation.css").then(function(){$.Controller("anddev.Controllers.SI.SwitchPresentation",{pluginName:"siSwitchPresentation",defaults:{template:"//anddev/player/si/switchPresentation/views/presentation.ejs",config:{clip:"",layout:{}},css:{clip:{width:"10px",height:"10px",position:"absolute"},list:{position:"absolute"}}}},{init:function(){this.element.css(this.options.css),this.connector=this.options.connector,this.models=this.options.meeting.presentations,this.render()},render:function(){0!=this.models.length&&(this.element.append(this.view(this.options.template,{presentations:this.models})),this.clip=$(".siPresentationClip",this.element),this.list=$(".siPresentationList",this.element),this.lib=$(".siLibraryList",this.element),this.clip.css($.extend(this.options.css.clip,this.options.config.layout.clip)),this.clip.css({backgroundImage:"url("+this.options.config.clip+")"}),this.list.css($.extend(this.options.css.list,this.options.config.layout.list)),this.lib.css($.extend(this.options.css.list,this.options.config.layout.list)))},".siPresentationClip, .tabPrez tapone":function(a,b){b.isPropagationStopped()||(this.list.length>0&&this.list.toggle(),this.lib.length>0&&this.lib.hide())},".tabLib tapone":function(){this.lib.length>0&&(this.lib.toggle(),this.list.hide())},".siPresentationLink tapone":function(a){$([anddev]).trigger("presentation:switch"),this.connector.loadPresentation(a.model().uuid?a.model().uuid:a.model().id)},".siLibSend tapone":function(a){this.connector.libraryEmailing(a.model().id)},"a click":function(a,b){b.originalEvent.preventDefault()}})}),steal.loaded("anddev/player/si/switchPresentation/switchPresentation.js"),steal("anddev/core/models/iterator.js").then(function(){anddev.Models.Iterator("anddev.Models.Queue",{STATE:{SUCCESS:0,ERROR:1,PENDING:2,SENDING:3}},{timeout:3e3,timer:0,setup:function(a){this.deferrer=new $.Deferred,this.storage=new anddev.Class.Storage("data","item"),this.responseDatas=null;var b=anddev.Models.Queue.STATE;return a.id=((new Date).getTime()+Math.random()).toString(32),a.status=b.PENDING,$.isArray(a.params)&&$.isFunction(a.params[a.params.length-1])&&(this.always(a.params[a.params.length-1]),a.params.pop()),this._super.apply(this,[a])},storageId:function(){return this.message+"/"+this.id},storageData:function(a){this.data=a,this.storage.set(this.storageId(),a),this.params.push(this.storage.key(this.storageId()))},buildCommand:function(a){return values=[this.message,this.id].concat(this.stringify(this.params)),(a||"")+values.join(":")},stringify:function(a){var b=[];return $.each(a,function(a,c){b.push(c.toString())}),b},sending:function(){this.status=anddev.Models.Queue.STATE.SENDING,this.timer=setTimeout(this.proxy("terminate"),this.timeout)},setResponse:function(){this.response.apply(this,$.makeArray(arguments)),this.isSuccessful()?this.resolve():this.reject()},isSuccessful:function(){return this.status===anddev.Models.Queue.STATE.SUCCESS},response:function(a){if(a&&/status/.test(a)){this.responseDatas=[];var b=$.makeArray(arguments),c=null;for(var d in b){c=b[d];try{c=JSON.parse(c)}catch(e){c=c}this.responseDatas.push(c)}this.status=this.responseDatas[0].status===anddev.Models.Queue.STATE.SUCCESS?anddev.Models.Queue.STATE.SUCCESS:anddev.Models.Queue.STATE.ERROR}else console.warn("not status provided on SI response",a);return this.responseDatas},terminate:function(){clearTimeout(this.timer),this.deferrer.rejectWith(this,[{status:anddev.Models.Queue.STATE.ERROR,msg:"timeout ("+this.timeout+" ms)"}])},always:function(){this.deferrer.always.apply(this.deferrer,$.makeArray(arguments))},done:function(){this.deferrer.done.apply(this.deferrer,$.makeArray(arguments))},fail:function(){this.deferrer.fail.apply(this.deferrer,$.makeArray(arguments))},resolve:function(){clearTimeout(this.timer),this.deferrer.resolveWith(this,this.responseDatas)},reject:function(){clearTimeout(this.timer),this.deferrer.rejectWith(this,this.responseDatas)},destroy:function(){clearTimeout(this.timer),this.storage.remove(this.storageId()),this.deferrer=this.storage=null,this._super.apply(this,$.makeArray(arguments))}})}),steal.loaded("anddev/player/si/models/queue.js"),steal("anddev/core/models/list/iterator.js").then(function(){anddev.Models.Iterator.List.extend("anddev.Models.Queue.List",{name:"queues",STATE:anddev.Models.Queue.STATE},{state:anddev.Models.Queue.STATE.PENDING,timeout:200,process:function(a,b){var c=anddev.Models.Queue.STATE,d=this.first({status:c.PENDING});this.state==c.PENDING&&d&&(this.state=c.SENDING,this.execute(d,a,b))},execute:function(a,b,c){var d=anddev.Models.Queue.STATE;b.apply(c||this,[a]),a.status=d.SENDING;var e=setTimeout(function(a){clearTimeout(e);var f=null;(f=a.first({status:d.PENDING}))?a.execute(f,b,c):a.state=d.PENDING},this.timeout,this)}})}),steal.loaded("anddev/player/si/models/list/queues.js"),steal("jquery/model").then(function(){$.Model("anddev.Models.User",{},{})}),steal.loaded("anddev/player/si/models/user.js"),steal("jquery/model","jquery/model/list").then("../presentation.js").then(function(){$.Model.List("anddev.Models.Presentation.List",{},{init:function(a){if($.isArray(a)&&a.length>0&&$.isPlainObject(a[0])){var b=this;$.each(a,function(a,c){b.push(new anddev.Models.Presentation(c))})}else this._super.apply(this,[])},findById:function(a){var b=null;return this.each(function(c,d){b=d.id==a?d:b}),b}})}),steal.loaded("anddev/player/si/models/list/presentations.js"),steal("jquery/model","jquery/model/list").then("../account.js").then(function(){$.Model.List("anddev.Models.Account.List",{},{init:function(a){if($.isArray(a)&&a.length>0&&$.isPlainObject(a[0])){var b=this;$.each(a||[],function(a,c){b.push(new anddev.Models.Account(c))})}else this._super.apply(this,[])}})}),steal.loaded("anddev/player/si/models/list/accounts.js"),steal("jquery/model").then(function(){$.Model("anddev.Models.Presentation",{},{})}),steal.loaded("anddev/player/si/models/presentation.js"),steal("jquery/model").then(function(){$.Model("anddev.Models.Account",{},{})}),steal.loaded("anddev/player/si/models/account.js"),steal("jquery/view/ejs").then(function(a){a.View.preload("anddev_player_si_switchPresentation_views_presentation_ejs",jQuery.EJS(function(b,e){try{with(e)with(b){for(b=[],presentations.selectedPrezs||(presentations.selectedPrezs=presentations),b.push("	\n"),b.push('	<div class="siPresentationClip">\n'),b.push('	    <a href="#" class="siClip">clip</a>\n'),b.push("	</div>\n"),b.push('	<div class="siPresentationList">\n'),b.push('	<span>Presentation</span>  |  <span class="tabLib"><a href="#">Library</a></span>\n'),b.push("	<hr>\n"),b.push("	<ul>\n"),b.push("	"),e=0;e<presentations.selectedPrezs.length;e++)b.push("\n"),b.push('	<li class="siPresentationLink presentation'),b.push(jQuery.EJS.clean(presentations.selectedPrezs[e].id)),b.push(' presentation" '),b.push(jQuery.EJS.clean(presentations.selectedPrezs[e])),b.push(">\n"),b.push('	    <a href="#">'),b.push(jQuery.EJS.clean(presentations.selectedPrezs[e].title)),b.push("</a>\n"),b.push("	</li>\n"),b.push("	");if(b.push("\n"),b.push("	</ul>\n"),b.push("	</div>\n"),presentations.selectedLibs){for(b.push("	\n"),b.push('	<div class="siLibraryList">\n'),b.push('	<span>Library</span>  |  <span class="tabPrez"><a href="#">Presentation</a></span>\n'),b.push("	<hr/>\n"),b.push("	"),e=0;e<presentations.selectedLibs.length;e++)b.push("\n"),b.push('	<div class="siLibraryLink library'),b.push(jQuery.EJS.clean(presentations.selectedLibs[e].id)),b.push(' library" '),b.push(jQuery.EJS.clean(presentations.selectedLibs[e])),b.push(">\n"),b.push("	    "),b.push(jQuery.EJS.clean(presentations.selectedLibs[e].title)),b.push("&nbsp; \n"),b.push("	</div>\n"),b.push('	<div class="siLibSend" '),b.push(jQuery.EJS.clean(presentations.selectedLibs[e])),b.push(" >\n"),b.push('		<a href="#">Send</a>\n'),b.push("	</div>\n"),b.push("	");b.push("\n"),b.push("	</div>\n")}return b.push("	"),b.join("")}}catch(g){throw g.lineNumber=null,g}}))}),steal.loaded("anddev/player/si/switchPresentation/views/presentation.ejs"),steal("anddev/core").then(function(){anddev.setup.initialize("content").done(function(){anddev.setup.isReady("content")}).fail(function(){console.error("init external lib for content failed",arguments)})}),steal.loaded("anddev/content/content.js");